{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: יון מפונק, מגודל ושמן. החדר של הארי הוא ארון פיצפון בתחתית המדרגות, והוריו המאמצים מעולם לא חגגו את יום הולדתו.\n\nאך כל זה עומד להשתנות כשמכתב מסתורי מגיע אליו בדואר ינשופים: מכתב עם הזמנה למקום מופלא שהארי - וכל מי שיקרא עליו - לא יוכל לשכוח לעולם. כי כאן הארי מגלה לא רק חברים,ספורט אוויריוקסמים בכל דבר, החל ב\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: � מוזרות או מסתוריות, והרי הם פשוט לא סובלים שטויות מסוג זה.\"\n\nהספר יצא לאור לראשונה באנגלית ב-30 ביוני 1997, ועובד לסרט בעל אותו שם.\n\nתוכן עניינים\n\nהקדשה[]\n\nהספר מוקדש לשלוש מבנות-ביתה של ג'יי. קיי. רולינג - ג'סיקה היא ביתה הבכורה, אן הייתה אמה שמתה מטרשת נפוצה, ודי היא אחותה הצעירה.\n\nתקציר הספר[]\n\nתקציר הספר מצליח לה\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: דיאגון, רחוב לונדוני המוסתר מהמוגלגים באמצעות קסמים, ומסייע לו ברכישת הדברים הנחוצים ללימודיו בהוגוורטס. הארי למד גם על הרכוש הרב שהוריו הורישו לו, שנמצא בגרינגוטס\n\nכחודש לאחר מכן עוזב הארי את בית משפחת דרסלי, ובתחנתקינג קרוסעולה על רכבת האקספרס להוגוורטס. בתוך התחנה הוא מתיידד עם משפחת ויזלי, המראה לו �\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ודות תוך כדי רכיבה על מטאטא גבוה מעל האדמה. הוא לא מכיר לחשי קסם, מעולם לא גידל דרקון מביצה, ומעולם לא עטה גלימת היעלמות.\n\nהוא מכיר רק את חייו האומללים עםמשפחת דרסלי-דודוודודתוהאיומים ובנם הדוחהדאדלי, בריון מפונק, מגודל ושמן. החדר של הארי הוא ארון פיצפון בתחתית המדרגות, והוריו המאמצים מעולם לא חגגו את יום\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �לד בשם רון וויזלי שבמשך השנהרוןוהארי נהפכים לחברים הכי טובים ביחד עםהרמיוני גרינג׳ר.\n\nלפני תחילת סעודת פתיחת השנה בהוגוורטס מתמיינים התלמידים החדשים לבתים השונים באמצעות מצנפת המיון. רוב התלמידים עוברים תהליך מיון קצר, בהם דראקו מאלפוי שנשלח לביתסלית'ריןעוד לפני שהמצנפת מונחת באופן מלא על ראשו, אך המצנפ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: � ויזלי, המספר לו כי מישהו ניסה לפרוץ לכספת בגרינגוטס. הוא פוגש לראשונה גם בהרמיוני גריינג'ר, תלמידה חכמה ממוצא מוגלגי ובעיניו מעצבנת קמעא. תלמיד נוסף בשםדראקו מאלפוי, המלווה על ידי חבריו קראב וגויל, מנסה לייעץ להארי להתרחק מרון, אך הארי דוחה זאת בגלל סלידתו מהיהירות והדעות הקדומות של מאלפוי על כל מי ש\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: הליך מיון קצר, בהם דראקו מאלפוי שנשלח לביתסלית'ריןעוד לפני שהמצנפת מונחת באופן מלא על ראשו, אך המצנפת מנהלת דיון עם הארי וטוענת בפניו כי בשל האמביציה שלו הוא מתאים יותר לסלית'רין. הארי מתנגד לכך לאור המידע השלילי שקיבל על הבית, ולבסוף המצנפת שולחת אותו לביתגריפינדורביחד עם חברו החדש רון. בזמן הסעודה הוא מביט ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: כל מי שיקרא עליו - לא יוכל לשכוח לעולם. כי כאן הארי מגלה לא רק חברים,ספורט אוויריוקסמים בכל דבר, החל בשיעורים וכלה בארוחות, אלא גם גורל גדול שמחכה לו... בתנאי שהוא יצליח לשרוד!\"\n\nעלילה[]\n\nהאגריד לוקח את הארי לסמטת דיאגון, רחוב לונדוני המוסתר מהמוגלגים באמצעות קסמים, ומסייע לו ברכישת הדברים הנחוצים ללימודיו בהוגוורט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: וגוורטס לצורך עריכת דו-קרב קוסמים באמצע הלילה. אל הארי ורון מצטרפים נוויל והרמיוני. לאחר שהם כמעט ונתפסים על ידי שרת בית הספרארגוס פילץ', שקיבל מידע מראש ממאלפוי, הם מגיעים למסדרון בקומה השלישית שהכניסה אליו נאסרה בתחילת השנה, ושם מגלים כלב תלת-ראשי גדל ממדים. הם נמלטים ממנו בקושי, אך הרמיוני מצליחה ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ה מגרינגוטס.\nלאחר שרון מעליב את הרמיוני בעקבות ביצועיה הטובים בשיעור לחשים היא בורחת בדמעות לשירותים של הבנות. הארי ורון הולכים לסעודת ליל כל הקדושים, אך נאלצים לסיים אותה מוקדם מן הצפוי לאחר שקוויריניוס קווירל, המורה המגמגם להתגוננות מפני כוחות האופל, פורץ לאולם הסעודות בצעקות על כך שטרולחדר לטירה. במקביל לפי�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לישייה עם האגריד לבקתה שלו, ובמהלך השיחה הוא מסרב להאמין להם שסנייפ היה זה שניסה להרוג את הארי, אך בטעות חושף שהכלב התלת-ראשי (הנקרא \"פלאפי\") שייך לו, וכי הדבר שהמפלצת שומרת עליו שייך למנהל אלבוס דמבלדור ולאדם בשםניקולס פלאמל.\nהארי, רון והרמיוני מנסים לחפש מידע אודות פלאמל, אך לא מצליחים בכך עד תחילת חופשת חג המ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: , ובמקום להעניש אותו כפי שמאלפוי תיכנן היא מצרפת אותו לקבוצת הקווידיץ'של גריפינדור בתפקיד המחפשהאחראי על לכידת הסניץ'במהלך המשחק.\nלאחר מכן מערים מאלפוי על הארי ועל רון, וגורם להם להגיע לחדר המדליות של הוגוורטס לצורך עריכת דו-קרב קוסמים באמצע הלילה. אל הארי ורון מצטרפים נוויל והרמיוני. לאחר שהם כמעט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ניסה אליו נאסרה בתחילת השנה, ושם מגלים כלב תלת-ראשי גדל ממדים. הם נמלטים ממנו בקושי, אך הרמיוני מצליחה להבחין כי הכלב עומד מעל דלת ברצפת המסדרון. הארי מסיק כי הכלב שומר על הכניסה למקום שבו נמצאת החבילה שנלקחה מגרינגוטס.\nלאחר שרון מעליב את הרמיוני בעקבות ביצועיה הטובים בשיעור לחשים היא בורחת בדמעות לשירותים של הבנות. הא\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ממהרת לאזור שבו הוא יושב, מפילה בדרך את פרופסור קווירל, ומציתה בסתר את חלוק הקוסמים של סנייפ. הארי מצליח להשתלט מחדש על המטאטא שלו, ובולע את הסניץ' המוזהב, ומקנה לגריפינדור את הניצחון במשחק. לאחר המשחק הולכת השלישייה עם האגריד לבקתה שלו, ובמהלך השיחה הוא מסרב להאמין להם שסנייפ היה זה שניסה להרוג את הארי, אך בטעות חו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ים לגבור על הטרול, ולאחר שמספר מורים מגיעים לזירת האירוע הרמיוני נוטלת את האשמה על עצמה, ובעקבות כך הם הופכים לחברים קרובים מאוד ועושים הכל ביחד.\n\nהגילוי אודות אבן החכמים[]\n\nבערב שלפני משחק הקווידיץ' הראשון שלו (מול סלית'רין) רואה הארי את סנייפ מקבל טיפול רפואי מפילץ', לאחר שננשך על ידי הכלב התלת-ראשי. במהלך המשח�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: (מול סלית'רין) רואה הארי את סנייפ מקבל טיפול רפואי מפילץ', לאחר שננשך על ידי הכלב התלת-ראשי. במהלך המשחק מאבד הארי את השליטה על המטאטא שלו, והרמיוני שיושבת בין הצופים מבחינה בסנייפ המתבונן בהארי וממלמל דבר מה. היא ממהרת לאזור שבו הוא יושב, מפילה בדרך את פרופסור קווירל, ומציתה בסתר את חלוק הקוסמים של סנייפ. הארי מצליח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: תרחש ככל הנראה בזמן שהארי ביקר בכספת שלו שם, והוא גם נזכר שראה את האגריד יוצא מהבנק עם חבילה קטנה.\nבמהלך שיעור התעופה הראשון שוברנוויל לונגבוטוםאת זרועו, ומאלפוי מנצל זאת על מנת לקחת אתכדור זיכרוןהשביר שלו, ולברוח באמצעות המטאטא המעופף שלו. הארי רודף אחריו בטיסה תוך הפגנת כישרון רב, וברגע האחרון מצליח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �ה המגמגם להתגוננות מפני כוחות האופל, פורץ לאולם הסעודות בצעקות על כך שטרולחדר לטירה. במקביל לפינוי התלמידים למקום מבטחים ממהרים הארי ורון להזהיר את הרמיוני, שנלכדה בשירותים על ידי הטרול. הארי ורון מצליחים לגבור על הטרול, ולאחר שמספר מורים מגיעים לזירת האירוע הרמיוני נוטלת את האשמה על עצמה, ובעקבות כך ה�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: םניקולס פלאמל.\nהארי, רון והרמיוני מנסים לחפש מידע אודות פלאמל, אך לא מצליחים בכך עד תחילת חופשת חג המולד. הארי, רון ואחיו נשארים בהוגוורטס בחג, שבמהלכו מקבל האריגלימת היעלמותמאדם לא ידוע. הארי משתמש בגלימה על מנת לחפש מידע אודות פלאמל במדור הספרים המוגבלים של ספריית הוגוורטס, אך נאלץ להימלט מסנייפ ומפילץ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: על מנת לחפש מידע אודות פלאמל במדור הספרים המוגבלים של ספריית הוגוורטס, אך נאלץ להימלט מסנייפ ומפילץ' שהגיעו לאזור הספרייה לאחר שספר מכושף החל לצרוח. הוא נכנס בקושי רב לכיתה שאינה בשימוש המכילה ראי המכונה \"הראי של ינפתא\", ובו הוא רואה את הוריו ואת אבות אבותיו. הארי מתמכר לחזיונות של הראי עד שפרופסור דמבלדור מ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �יה. למרות היעדרותו של רון, שננשך על ידי נורברט בידו, מצליחים הארי והרמיוני להגיע בבטחה לראש המגדל. אולם, הם שוכחים שם את גלימת ההיעלמות שהביאו איתם, ולאחר שהם ונוויל שניסה להזהירם נתפסים על ידי פילץ', ומקבלים עונש והפחתה של מאה וחמישים נקודות בטורניר הבתים של הוגוורטס, דבר הגורם לגריפינדור לרדת למקום האחרו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: (מול סלית'רין) רואה הארי את סנייפ מקבל טיפול רפואי מפילץ', לאחר שננשך על ידי הכלב התלת-ראשי. במהלך המשחק מאבד הארי את השליטה על המטאטא שלו, והרמיוני שיושבת בין הצופים מבחינה בסנייפ המתבונן בהארי וממלמל דבר מה. היא ממהרת לאזור שבו הוא יושב, מפילה בדרך את פרופסור קווירל, ומציתה בסתר את חלוק הקוסמים של סנייפ. הארי מצליח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ודות תוך כדי רכיבה על מטאטא גבוה מעל האדמה. הוא לא מכיר לחשי קסם, מעולם לא גידל דרקון מביצה, ומעולם לא עטה גלימת היעלמות.\n\nהוא מכיר רק את חייו האומללים עםמשפחת דרסלי-דודוודודתוהאיומים ובנם הדוחהדאדלי, בריון מפונק, מגודל ושמן. החדר של הארי הוא ארון פיצפון בתחתית המדרגות, והוריו המאמצים מעולם לא חגגו את יום\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �ה המגמגם להתגוננות מפני כוחות האופל, פורץ לאולם הסעודות בצעקות על כך שטרולחדר לטירה. במקביל לפינוי התלמידים למקום מבטחים ממהרים הארי ורון להזהיר את הרמיוני, שנלכדה בשירותים על ידי הטרול. הארי ורון מצליחים לגבור על הטרול, ולאחר שמספר מורים מגיעים לזירת האירוע הרמיוני נוטלת את האשמה על עצמה, ובעקבות כך ה�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ים לגבור על הטרול, ולאחר שמספר מורים מגיעים לזירת האירוע הרמיוני נוטלת את האשמה על עצמה, ובעקבות כך הם הופכים לחברים קרובים מאוד ועושים הכל ביחד.\n\nהגילוי אודות אבן החכמים[]\n\nבערב שלפני משחק הקווידיץ' הראשון שלו (מול סלית'רין) רואה הארי את סנייפ מקבל טיפול רפואי מפילץ', לאחר שננשך על ידי הכלב התלת-ראשי. במהלך המשח�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: וגוורטס לצורך עריכת דו-קרב קוסמים באמצע הלילה. אל הארי ורון מצטרפים נוויל והרמיוני. לאחר שהם כמעט ונתפסים על ידי שרת בית הספרארגוס פילץ', שקיבל מידע מראש ממאלפוי, הם מגיעים למסדרון בקומה השלישית שהכניסה אליו נאסרה בתחילת השנה, ושם מגלים כלב תלת-ראשי גדל ממדים. הם נמלטים ממנו בקושי, אך הרמיוני מצליחה ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ניסה אליו נאסרה בתחילת השנה, ושם מגלים כלב תלת-ראשי גדל ממדים. הם נמלטים ממנו בקושי, אך הרמיוני מצליחה להבחין כי הכלב עומד מעל דלת ברצפת המסדרון. הארי מסיק כי הכלב שומר על הכניסה למקום שבו נמצאת החבילה שנלקחה מגרינגוטס.\nלאחר שרון מעליב את הרמיוני בעקבות ביצועיה הטובים בשיעור לחשים היא בורחת בדמעות לשירותים של הבנות. הא\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �לד בשם רון וויזלי שבמשך השנהרוןוהארי נהפכים לחברים הכי טובים ביחד עםהרמיוני גרינג׳ר.\n\nלפני תחילת סעודת פתיחת השנה בהוגוורטס מתמיינים התלמידים החדשים לבתים השונים באמצעות מצנפת המיון. רוב התלמידים עוברים תהליך מיון קצר, בהם דראקו מאלפוי שנשלח לביתסלית'ריןעוד לפני שהמצנפת מונחת באופן מלא על ראשו, אך המצנפ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: � ויזלי, המספר לו כי מישהו ניסה לפרוץ לכספת בגרינגוטס. הוא פוגש לראשונה גם בהרמיוני גריינג'ר, תלמידה חכמה ממוצא מוגלגי ובעיניו מעצבנת קמעא. תלמיד נוסף בשםדראקו מאלפוי, המלווה על ידי חבריו קראב וגויל, מנסה לייעץ להארי להתרחק מרון, אך הארי דוחה זאת בגלל סלידתו מהיהירות והדעות הקדומות של מאלפוי על כל מי ש\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ה מגרינגוטס.\nלאחר שרון מעליב את הרמיוני בעקבות ביצועיה הטובים בשיעור לחשים היא בורחת בדמעות לשירותים של הבנות. הארי ורון הולכים לסעודת ליל כל הקדושים, אך נאלצים לסיים אותה מוקדם מן הצפוי לאחר שקוויריניוס קווירל, המורה המגמגם להתגוננות מפני כוחות האופל, פורץ לאולם הסעודות בצעקות על כך שטרולחדר לטירה. במקביל לפי�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: דיאגון, רחוב לונדוני המוסתר מהמוגלגים באמצעות קסמים, ומסייע לו ברכישת הדברים הנחוצים ללימודיו בהוגוורטס. הארי למד גם על הרכוש הרב שהוריו הורישו לו, שנמצא בגרינגוטס\n\nכחודש לאחר מכן עוזב הארי את בית משפחת דרסלי, ובתחנתקינג קרוסעולה על רכבת האקספרס להוגוורטס. בתוך התחנה הוא מתיידד עם משפחת ויזלי, המראה לו �\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: כל מי שיקרא עליו - לא יוכל לשכוח לעולם. כי כאן הארי מגלה לא רק חברים,ספורט אוויריוקסמים בכל דבר, החל בשיעורים וכלה בארוחות, אלא גם גורל גדול שמחכה לו... בתנאי שהוא יצליח לשרוד!\"\n\nעלילה[]\n\nהאגריד לוקח את הארי לסמטת דיאגון, רחוב לונדוני המוסתר מהמוגלגים באמצעות קסמים, ומסייע לו ברכישת הדברים הנחוצים ללימודיו בהוגוורט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: הליך מיון קצר, בהם דראקו מאלפוי שנשלח לביתסלית'ריןעוד לפני שהמצנפת מונחת באופן מלא על ראשו, אך המצנפת מנהלת דיון עם הארי וטוענת בפניו כי בשל האמביציה שלו הוא מתאים יותר לסלית'רין. הארי מתנגד לכך לאור המידע השלילי שקיבל על הבית, ולבסוף המצנפת שולחת אותו לביתגריפינדורביחד עם חברו החדש רון. בזמן הסעודה הוא מביט ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: יון מפונק, מגודל ושמן. החדר של הארי הוא ארון פיצפון בתחתית המדרגות, והוריו המאמצים מעולם לא חגגו את יום הולדתו.\n\nאך כל זה עומד להשתנות כשמכתב מסתורי מגיע אליו בדואר ינשופים: מכתב עם הזמנה למקום מופלא שהארי - וכל מי שיקרא עליו - לא יוכל לשכוח לעולם. כי כאן הארי מגלה לא רק חברים,ספורט אוויריוקסמים בכל דבר, החל ב\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: � מוזרות או מסתוריות, והרי הם פשוט לא סובלים שטויות מסוג זה.\"\n\nהספר יצא לאור לראשונה באנגלית ב-30 ביוני 1997, ועובד לסרט בעל אותו שם.\n\nתוכן עניינים\n\nהקדשה[]\n\nהספר מוקדש לשלוש מבנות-ביתה של ג'יי. קיי. רולינג - ג'סיקה היא ביתה הבכורה, אן הייתה אמה שמתה מטרשת נפוצה, ודי היא אחותה הצעירה.\n\nתקציר הספר[]\n\nתקציר הספר מצליח לה\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לישייה עם האגריד לבקתה שלו, ובמהלך השיחה הוא מסרב להאמין להם שסנייפ היה זה שניסה להרוג את הארי, אך בטעות חושף שהכלב התלת-ראשי (הנקרא \"פלאפי\") שייך לו, וכי הדבר שהמפלצת שומרת עליו שייך למנהל אלבוס דמבלדור ולאדם בשםניקולס פלאמל.\nהארי, רון והרמיוני מנסים לחפש מידע אודות פלאמל, אך לא מצליחים בכך עד תחילת חופשת חג המ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: תרחש ככל הנראה בזמן שהארי ביקר בכספת שלו שם, והוא גם נזכר שראה את האגריד יוצא מהבנק עם חבילה קטנה.\nבמהלך שיעור התעופה הראשון שוברנוויל לונגבוטוםאת זרועו, ומאלפוי מנצל זאת על מנת לקחת אתכדור זיכרוןהשביר שלו, ולברוח באמצעות המטאטא המעופף שלו. הארי רודף אחריו בטיסה תוך הפגנת כישרון רב, וברגע האחרון מצליח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: , ובמקום להעניש אותו כפי שמאלפוי תיכנן היא מצרפת אותו לקבוצת הקווידיץ'של גריפינדור בתפקיד המחפשהאחראי על לכידת הסניץ'במהלך המשחק.\nלאחר מכן מערים מאלפוי על הארי ועל רון, וגורם להם להגיע לחדר המדליות של הוגוורטס לצורך עריכת דו-קרב קוסמים באמצע הלילה. אל הארי ורון מצטרפים נוויל והרמיוני. לאחר שהם כמעט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ובת שעל הראי היא אנגרמה למשפט \"לא את פניך אראה כי אם את משאלת לבך\".\nעם חזרת התלמידים מחופשת חג המולד מצליח דראקו מאלפוי להטיל קללה על נוויל לונגבוטום, והארי מנחם אותו עם שוקולד בצורת צפרדע. קלף האספנים שהיה בחפיסת הממתק מכיל הסבר שפלאמל הוא אלכימאי בן 665, שהיה היחיד שהצליח ליצור את אבן החכמים ולהפיק ממנה את סם הח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: םניקולס פלאמל.\nהארי, רון והרמיוני מנסים לחפש מידע אודות פלאמל, אך לא מצליחים בכך עד תחילת חופשת חג המולד. הארי, רון ואחיו נשארים בהוגוורטס בחג, שבמהלכו מקבל האריגלימת היעלמותמאדם לא ידוע. הארי משתמש בגלימה על מנת לחפש מידע אודות פלאמל במדור הספרים המוגבלים של ספריית הוגוורטס, אך נאלץ להימלט מסנייפ ומפילץ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: .\nלאחר שמאלפוי מותח את נוויל פעם נוספת מחליט האגריד לשלוח אותו ביחד עם הארי ועם כלב הציד שלופנג, והשלושה מגיעים לקרחת יער שבה הם רואים יצור כלשהו המכוסה בגלימה רוכן מעל גופה של חד קרן ושותה ממנה דם. מאלפוי נמלט באימה, והיצור מזנק לעברו של הארי, אך נהדף על ידי הקנטאורפירנזהשהגיע בפתאומיות. פירנזה מצי�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: על מנת לחפש מידע אודות פלאמל במדור הספרים המוגבלים של ספריית הוגוורטס, אך נאלץ להימלט מסנייפ ומפילץ' שהגיעו לאזור הספרייה לאחר שספר מכושף החל לצרוח. הוא נכנס בקושי רב לכיתה שאינה בשימוש המכילה ראי המכונה \"הראי של ינפתא\", ובו הוא רואה את הוריו ואת אבות אבותיו. הארי מתמכר לחזיונות של הראי עד שפרופסור דמבלדור מ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לים עונש והפחתה של מאה וחמישים נקודות בטורניר הבתים של הוגוורטס, דבר הגורם לגריפינדור לרדת למקום האחרון בטבלה. העונש הנוסף שלהם הוא להצטרף אל האגריד במשימה ביער האסור שמטרתה לברר את סיבת מותם של מספרחדי קרן.\nלאחר שמאלפוי מותח את נוויל פעם נוספת מחליט האגריד לשלוח אותו ביחד עם הארי ועם כלב הציד שלופנג, והשלושה\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לחוקי הקוסמים, ומארגנים את הברחתו לשמורה ברומניה שבה עובדצ'ארלי ויזלי, אחיו של רון. דראקו מאלפוי מצליח לחשוף את סודו של האגריד, ומנסה להסגיר אותם בזמן שהם מעבירים את נורברט לנקודת המסירה בראש מגדל האסטרונומיה. למרות היעדרותו של רון, שננשך על ידי נורברט בידו, מצליחים הארי והרמיוני להגיע בבטחה לראש המגדל. אולם,\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �יה. למרות היעדרותו של רון, שננשך על ידי נורברט בידו, מצליחים הארי והרמיוני להגיע בבטחה לראש המגדל. אולם, הם שוכחים שם את גלימת ההיעלמות שהביאו איתם, ולאחר שהם ונוויל שניסה להזהירם נתפסים על ידי פילץ', ומקבלים עונש והפחתה של מאה וחמישים נקודות בטורניר הבתים של הוגוורטס, דבר הגורם לגריפינדור לרדת למקום האחרו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: וגוורטס לצורך עריכת דו-קרב קוסמים באמצע הלילה. אל הארי ורון מצטרפים נוויל והרמיוני. לאחר שהם כמעט ונתפסים על ידי שרת בית הספרארגוס פילץ', שקיבל מידע מראש ממאלפוי, הם מגיעים למסדרון בקומה השלישית שהכניסה אליו נאסרה בתחילת השנה, ושם מגלים כלב תלת-ראשי גדל ממדים. הם נמלטים ממנו בקושי, אך הרמיוני מצליחה ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: � מוזרות או מסתוריות, והרי הם פשוט לא סובלים שטויות מסוג זה.\"\n\nהספר יצא לאור לראשונה באנגלית ב-30 ביוני 1997, ועובד לסרט בעל אותו שם.\n\nתוכן עניינים\n\nהקדשה[]\n\nהספר מוקדש לשלוש מבנות-ביתה של ג'יי. קיי. רולינג - ג'סיקה היא ביתה הבכורה, אן הייתה אמה שמתה מטרשת נפוצה, ודי היא אחותה הצעירה.\n\nתקציר הספר[]\n\nתקציר הספר מצליח לה\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: � ויזלי, המספר לו כי מישהו ניסה לפרוץ לכספת בגרינגוטס. הוא פוגש לראשונה גם בהרמיוני גריינג'ר, תלמידה חכמה ממוצא מוגלגי ובעיניו מעצבנת קמעא. תלמיד נוסף בשםדראקו מאלפוי, המלווה על ידי חבריו קראב וגויל, מנסה לייעץ להארי להתרחק מרון, אך הארי דוחה זאת בגלל סלידתו מהיהירות והדעות הקדומות של מאלפוי על כל מי ש\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �לד בשם רון וויזלי שבמשך השנהרוןוהארי נהפכים לחברים הכי טובים ביחד עםהרמיוני גרינג׳ר.\n\nלפני תחילת סעודת פתיחת השנה בהוגוורטס מתמיינים התלמידים החדשים לבתים השונים באמצעות מצנפת המיון. רוב התלמידים עוברים תהליך מיון קצר, בהם דראקו מאלפוי שנשלח לביתסלית'ריןעוד לפני שהמצנפת מונחת באופן מלא על ראשו, אך המצנפ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ים לגבור על הטרול, ולאחר שמספר מורים מגיעים לזירת האירוע הרמיוני נוטלת את האשמה על עצמה, ובעקבות כך הם הופכים לחברים קרובים מאוד ועושים הכל ביחד.\n\nהגילוי אודות אבן החכמים[]\n\nבערב שלפני משחק הקווידיץ' הראשון שלו (מול סלית'רין) רואה הארי את סנייפ מקבל טיפול רפואי מפילץ', לאחר שננשך על ידי הכלב התלת-ראשי. במהלך המשח�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �ה המגמגם להתגוננות מפני כוחות האופל, פורץ לאולם הסעודות בצעקות על כך שטרולחדר לטירה. במקביל לפינוי התלמידים למקום מבטחים ממהרים הארי ורון להזהיר את הרמיוני, שנלכדה בשירותים על ידי הטרול. הארי ורון מצליחים לגבור על הטרול, ולאחר שמספר מורים מגיעים לזירת האירוע הרמיוני נוטלת את האשמה על עצמה, ובעקבות כך ה�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: דיאגון, רחוב לונדוני המוסתר מהמוגלגים באמצעות קסמים, ומסייע לו ברכישת הדברים הנחוצים ללימודיו בהוגוורטס. הארי למד גם על הרכוש הרב שהוריו הורישו לו, שנמצא בגרינגוטס\n\nכחודש לאחר מכן עוזב הארי את בית משפחת דרסלי, ובתחנתקינג קרוסעולה על רכבת האקספרס להוגוורטס. בתוך התחנה הוא מתיידד עם משפחת ויזלי, המראה לו �\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: הליך מיון קצר, בהם דראקו מאלפוי שנשלח לביתסלית'ריןעוד לפני שהמצנפת מונחת באופן מלא על ראשו, אך המצנפת מנהלת דיון עם הארי וטוענת בפניו כי בשל האמביציה שלו הוא מתאים יותר לסלית'רין. הארי מתנגד לכך לאור המידע השלילי שקיבל על הבית, ולבסוף המצנפת שולחת אותו לביתגריפינדורביחד עם חברו החדש רון. בזמן הסעודה הוא מביט ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ניסה אליו נאסרה בתחילת השנה, ושם מגלים כלב תלת-ראשי גדל ממדים. הם נמלטים ממנו בקושי, אך הרמיוני מצליחה להבחין כי הכלב עומד מעל דלת ברצפת המסדרון. הארי מסיק כי הכלב שומר על הכניסה למקום שבו נמצאת החבילה שנלקחה מגרינגוטס.\nלאחר שרון מעליב את הרמיוני בעקבות ביצועיה הטובים בשיעור לחשים היא בורחת בדמעות לשירותים של הבנות. הא\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: תרחש ככל הנראה בזמן שהארי ביקר בכספת שלו שם, והוא גם נזכר שראה את האגריד יוצא מהבנק עם חבילה קטנה.\nבמהלך שיעור התעופה הראשון שוברנוויל לונגבוטוםאת זרועו, ומאלפוי מנצל זאת על מנת לקחת אתכדור זיכרוןהשביר שלו, ולברוח באמצעות המטאטא המעופף שלו. הארי רודף אחריו בטיסה תוך הפגנת כישרון רב, וברגע האחרון מצליח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ודות תוך כדי רכיבה על מטאטא גבוה מעל האדמה. הוא לא מכיר לחשי קסם, מעולם לא גידל דרקון מביצה, ומעולם לא עטה גלימת היעלמות.\n\nהוא מכיר רק את חייו האומללים עםמשפחת דרסלי-דודוודודתוהאיומים ובנם הדוחהדאדלי, בריון מפונק, מגודל ושמן. החדר של הארי הוא ארון פיצפון בתחתית המדרגות, והוריו המאמצים מעולם לא חגגו את יום\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: כל מי שיקרא עליו - לא יוכל לשכוח לעולם. כי כאן הארי מגלה לא רק חברים,ספורט אוויריוקסמים בכל דבר, החל בשיעורים וכלה בארוחות, אלא גם גורל גדול שמחכה לו... בתנאי שהוא יצליח לשרוד!\"\n\nעלילה[]\n\nהאגריד לוקח את הארי לסמטת דיאגון, רחוב לונדוני המוסתר מהמוגלגים באמצעות קסמים, ומסייע לו ברכישת הדברים הנחוצים ללימודיו בהוגוורט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: יון מפונק, מגודל ושמן. החדר של הארי הוא ארון פיצפון בתחתית המדרגות, והוריו המאמצים מעולם לא חגגו את יום הולדתו.\n\nאך כל זה עומד להשתנות כשמכתב מסתורי מגיע אליו בדואר ינשופים: מכתב עם הזמנה למקום מופלא שהארי - וכל מי שיקרא עליו - לא יוכל לשכוח לעולם. כי כאן הארי מגלה לא רק חברים,ספורט אוויריוקסמים בכל דבר, החל ב\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לישייה עם האגריד לבקתה שלו, ובמהלך השיחה הוא מסרב להאמין להם שסנייפ היה זה שניסה להרוג את הארי, אך בטעות חושף שהכלב התלת-ראשי (הנקרא \"פלאפי\") שייך לו, וכי הדבר שהמפלצת שומרת עליו שייך למנהל אלבוס דמבלדור ולאדם בשםניקולס פלאמל.\nהארי, רון והרמיוני מנסים לחפש מידע אודות פלאמל, אך לא מצליחים בכך עד תחילת חופשת חג המ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: , ובמקום להעניש אותו כפי שמאלפוי תיכנן היא מצרפת אותו לקבוצת הקווידיץ'של גריפינדור בתפקיד המחפשהאחראי על לכידת הסניץ'במהלך המשחק.\nלאחר מכן מערים מאלפוי על הארי ועל רון, וגורם להם להגיע לחדר המדליות של הוגוורטס לצורך עריכת דו-קרב קוסמים באמצע הלילה. אל הארי ורון מצטרפים נוויל והרמיוני. לאחר שהם כמעט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ובת שעל הראי היא אנגרמה למשפט \"לא את פניך אראה כי אם את משאלת לבך\".\nעם חזרת התלמידים מחופשת חג המולד מצליח דראקו מאלפוי להטיל קללה על נוויל לונגבוטום, והארי מנחם אותו עם שוקולד בצורת צפרדע. קלף האספנים שהיה בחפיסת הממתק מכיל הסבר שפלאמל הוא אלכימאי בן 665, שהיה היחיד שהצליח ליצור את אבן החכמים ולהפיק ממנה את סם הח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: םניקולס פלאמל.\nהארי, רון והרמיוני מנסים לחפש מידע אודות פלאמל, אך לא מצליחים בכך עד תחילת חופשת חג המולד. הארי, רון ואחיו נשארים בהוגוורטס בחג, שבמהלכו מקבל האריגלימת היעלמותמאדם לא ידוע. הארי משתמש בגלימה על מנת לחפש מידע אודות פלאמל במדור הספרים המוגבלים של ספריית הוגוורטס, אך נאלץ להימלט מסנייפ ומפילץ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: .\nלאחר שמאלפוי מותח את נוויל פעם נוספת מחליט האגריד לשלוח אותו ביחד עם הארי ועם כלב הציד שלופנג, והשלושה מגיעים לקרחת יער שבה הם רואים יצור כלשהו המכוסה בגלימה רוכן מעל גופה של חד קרן ושותה ממנה דם. מאלפוי נמלט באימה, והיצור מזנק לעברו של הארי, אך נהדף על ידי הקנטאורפירנזהשהגיע בפתאומיות. פירנזה מצי�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: על מנת לחפש מידע אודות פלאמל במדור הספרים המוגבלים של ספריית הוגוורטס, אך נאלץ להימלט מסנייפ ומפילץ' שהגיעו לאזור הספרייה לאחר שספר מכושף החל לצרוח. הוא נכנס בקושי רב לכיתה שאינה בשימוש המכילה ראי המכונה \"הראי של ינפתא\", ובו הוא רואה את הוריו ואת אבות אבותיו. הארי מתמכר לחזיונות של הראי עד שפרופסור דמבלדור מ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לים עונש והפחתה של מאה וחמישים נקודות בטורניר הבתים של הוגוורטס, דבר הגורם לגריפינדור לרדת למקום האחרון בטבלה. העונש הנוסף שלהם הוא להצטרף אל האגריד במשימה ביער האסור שמטרתה לברר את סיבת מותם של מספרחדי קרן.\nלאחר שמאלפוי מותח את נוויל פעם נוספת מחליט האגריד לשלוח אותו ביחד עם הארי ועם כלב הציד שלופנג, והשלושה\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לחוקי הקוסמים, ומארגנים את הברחתו לשמורה ברומניה שבה עובדצ'ארלי ויזלי, אחיו של רון. דראקו מאלפוי מצליח לחשוף את סודו של האגריד, ומנסה להסגיר אותם בזמן שהם מעבירים את נורברט לנקודת המסירה בראש מגדל האסטרונומיה. למרות היעדרותו של רון, שננשך על ידי נורברט בידו, מצליחים הארי והרמיוני להגיע בבטחה לראש המגדל. אולם,\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �יה. למרות היעדרותו של רון, שננשך על ידי נורברט בידו, מצליחים הארי והרמיוני להגיע בבטחה לראש המגדל. אולם, הם שוכחים שם את גלימת ההיעלמות שהביאו איתם, ולאחר שהם ונוויל שניסה להזהירם נתפסים על ידי פילץ', ומקבלים עונש והפחתה של מאה וחמישים נקודות בטורניר הבתים של הוגוורטס, דבר הגורם לגריפינדור לרדת למקום האחרו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: וגוורטס לצורך עריכת דו-קרב קוסמים באמצע הלילה. אל הארי ורון מצטרפים נוויל והרמיוני. לאחר שהם כמעט ונתפסים על ידי שרת בית הספרארגוס פילץ', שקיבל מידע מראש ממאלפוי, הם מגיעים למסדרון בקומה השלישית שהכניסה אליו נאסרה בתחילת השנה, ושם מגלים כלב תלת-ראשי גדל ממדים. הם נמלטים ממנו בקושי, אך הרמיוני מצליחה ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: דיאגון, רחוב לונדוני המוסתר מהמוגלגים באמצעות קסמים, ומסייע לו ברכישת הדברים הנחוצים ללימודיו בהוגוורטס. הארי למד גם על הרכוש הרב שהוריו הורישו לו, שנמצא בגרינגוטס\n\nכחודש לאחר מכן עוזב הארי את בית משפחת דרסלי, ובתחנתקינג קרוסעולה על רכבת האקספרס להוגוורטס. בתוך התחנה הוא מתיידד עם משפחת ויזלי, המראה לו �\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ים לגבור על הטרול, ולאחר שמספר מורים מגיעים לזירת האירוע הרמיוני נוטלת את האשמה על עצמה, ובעקבות כך הם הופכים לחברים קרובים מאוד ועושים הכל ביחד.\n\nהגילוי אודות אבן החכמים[]\n\nבערב שלפני משחק הקווידיץ' הראשון שלו (מול סלית'רין) רואה הארי את סנייפ מקבל טיפול רפואי מפילץ', לאחר שננשך על ידי הכלב התלת-ראשי. במהלך המשח�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: � ויזלי, המספר לו כי מישהו ניסה לפרוץ לכספת בגרינגוטס. הוא פוגש לראשונה גם בהרמיוני גריינג'ר, תלמידה חכמה ממוצא מוגלגי ובעיניו מעצבנת קמעא. תלמיד נוסף בשםדראקו מאלפוי, המלווה על ידי חבריו קראב וגויל, מנסה לייעץ להארי להתרחק מרון, אך הארי דוחה זאת בגלל סלידתו מהיהירות והדעות הקדומות של מאלפוי על כל מי ש\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ודות תוך כדי רכיבה על מטאטא גבוה מעל האדמה. הוא לא מכיר לחשי קסם, מעולם לא גידל דרקון מביצה, ומעולם לא עטה גלימת היעלמות.\n\nהוא מכיר רק את חייו האומללים עםמשפחת דרסלי-דודוודודתוהאיומים ובנם הדוחהדאדלי, בריון מפונק, מגודל ושמן. החדר של הארי הוא ארון פיצפון בתחתית המדרגות, והוריו המאמצים מעולם לא חגגו את יום\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: � מוזרות או מסתוריות, והרי הם פשוט לא סובלים שטויות מסוג זה.\"\n\nהספר יצא לאור לראשונה באנגלית ב-30 ביוני 1997, ועובד לסרט בעל אותו שם.\n\nתוכן עניינים\n\nהקדשה[]\n\nהספר מוקדש לשלוש מבנות-ביתה של ג'יי. קיי. רולינג - ג'סיקה היא ביתה הבכורה, אן הייתה אמה שמתה מטרשת נפוצה, ודי היא אחותה הצעירה.\n\nתקציר הספר[]\n\nתקציר הספר מצליח לה\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: כל מי שיקרא עליו - לא יוכל לשכוח לעולם. כי כאן הארי מגלה לא רק חברים,ספורט אוויריוקסמים בכל דבר, החל בשיעורים וכלה בארוחות, אלא גם גורל גדול שמחכה לו... בתנאי שהוא יצליח לשרוד!\"\n\nעלילה[]\n\nהאגריד לוקח את הארי לסמטת דיאגון, רחוב לונדוני המוסתר מהמוגלגים באמצעות קסמים, ומסייע לו ברכישת הדברים הנחוצים ללימודיו בהוגוורט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לישייה עם האגריד לבקתה שלו, ובמהלך השיחה הוא מסרב להאמין להם שסנייפ היה זה שניסה להרוג את הארי, אך בטעות חושף שהכלב התלת-ראשי (הנקרא \"פלאפי\") שייך לו, וכי הדבר שהמפלצת שומרת עליו שייך למנהל אלבוס דמבלדור ולאדם בשםניקולס פלאמל.\nהארי, רון והרמיוני מנסים לחפש מידע אודות פלאמל, אך לא מצליחים בכך עד תחילת חופשת חג המ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: הליך מיון קצר, בהם דראקו מאלפוי שנשלח לביתסלית'ריןעוד לפני שהמצנפת מונחת באופן מלא על ראשו, אך המצנפת מנהלת דיון עם הארי וטוענת בפניו כי בשל האמביציה שלו הוא מתאים יותר לסלית'רין. הארי מתנגד לכך לאור המידע השלילי שקיבל על הבית, ולבסוף המצנפת שולחת אותו לביתגריפינדורביחד עם חברו החדש רון. בזמן הסעודה הוא מביט ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ניסה אליו נאסרה בתחילת השנה, ושם מגלים כלב תלת-ראשי גדל ממדים. הם נמלטים ממנו בקושי, אך הרמיוני מצליחה להבחין כי הכלב עומד מעל דלת ברצפת המסדרון. הארי מסיק כי הכלב שומר על הכניסה למקום שבו נמצאת החבילה שנלקחה מגרינגוטס.\nלאחר שרון מעליב את הרמיוני בעקבות ביצועיה הטובים בשיעור לחשים היא בורחת בדמעות לשירותים של הבנות. הא\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: תרחש ככל הנראה בזמן שהארי ביקר בכספת שלו שם, והוא גם נזכר שראה את האגריד יוצא מהבנק עם חבילה קטנה.\nבמהלך שיעור התעופה הראשון שוברנוויל לונגבוטוםאת זרועו, ומאלפוי מנצל זאת על מנת לקחת אתכדור זיכרוןהשביר שלו, ולברוח באמצעות המטאטא המעופף שלו. הארי רודף אחריו בטיסה תוך הפגנת כישרון רב, וברגע האחרון מצליח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �לד בשם רון וויזלי שבמשך השנהרוןוהארי נהפכים לחברים הכי טובים ביחד עםהרמיוני גרינג׳ר.\n\nלפני תחילת סעודת פתיחת השנה בהוגוורטס מתמיינים התלמידים החדשים לבתים השונים באמצעות מצנפת המיון. רוב התלמידים עוברים תהליך מיון קצר, בהם דראקו מאלפוי שנשלח לביתסלית'ריןעוד לפני שהמצנפת מונחת באופן מלא על ראשו, אך המצנפ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �ה המגמגם להתגוננות מפני כוחות האופל, פורץ לאולם הסעודות בצעקות על כך שטרולחדר לטירה. במקביל לפינוי התלמידים למקום מבטחים ממהרים הארי ורון להזהיר את הרמיוני, שנלכדה בשירותים על ידי הטרול. הארי ורון מצליחים לגבור על הטרול, ולאחר שמספר מורים מגיעים לזירת האירוע הרמיוני נוטלת את האשמה על עצמה, ובעקבות כך ה�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: יון מפונק, מגודל ושמן. החדר של הארי הוא ארון פיצפון בתחתית המדרגות, והוריו המאמצים מעולם לא חגגו את יום הולדתו.\n\nאך כל זה עומד להשתנות כשמכתב מסתורי מגיע אליו בדואר ינשופים: מכתב עם הזמנה למקום מופלא שהארי - וכל מי שיקרא עליו - לא יוכל לשכוח לעולם. כי כאן הארי מגלה לא רק חברים,ספורט אוויריוקסמים בכל דבר, החל ב\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: , ובמקום להעניש אותו כפי שמאלפוי תיכנן היא מצרפת אותו לקבוצת הקווידיץ'של גריפינדור בתפקיד המחפשהאחראי על לכידת הסניץ'במהלך המשחק.\nלאחר מכן מערים מאלפוי על הארי ועל רון, וגורם להם להגיע לחדר המדליות של הוגוורטס לצורך עריכת דו-קרב קוסמים באמצע הלילה. אל הארי ורון מצטרפים נוויל והרמיוני. לאחר שהם כמעט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ובת שעל הראי היא אנגרמה למשפט \"לא את פניך אראה כי אם את משאלת לבך\".\nעם חזרת התלמידים מחופשת חג המולד מצליח דראקו מאלפוי להטיל קללה על נוויל לונגבוטום, והארי מנחם אותו עם שוקולד בצורת צפרדע. קלף האספנים שהיה בחפיסת הממתק מכיל הסבר שפלאמל הוא אלכימאי בן 665, שהיה היחיד שהצליח ליצור את אבן החכמים ולהפיק ממנה את סם הח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: םניקולס פלאמל.\nהארי, רון והרמיוני מנסים לחפש מידע אודות פלאמל, אך לא מצליחים בכך עד תחילת חופשת חג המולד. הארי, רון ואחיו נשארים בהוגוורטס בחג, שבמהלכו מקבל האריגלימת היעלמותמאדם לא ידוע. הארי משתמש בגלימה על מנת לחפש מידע אודות פלאמל במדור הספרים המוגבלים של ספריית הוגוורטס, אך נאלץ להימלט מסנייפ ומפילץ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ופסור דמבלדור כיוון שהוא זומן בבהילות למשרד הקסמיםבלונדון. הארי מנחש שסנייפ זייף את ההודעה, וכי הוא ינסה לגנוב את האבן באותו לילה.\nבדרכם למסדרון של פלאפי הם נתקלים בנוויל לונגבוטום המנסה לעצור אותם כדי למנוע הורדת נקודות נוספת מגריפינדור, אך הרמיוני מצליחה לשתקו באמצעות קללת נעילת הגוף המלאה. כשהם מגיעים ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: .\nלאחר שמאלפוי מותח את נוויל פעם נוספת מחליט האגריד לשלוח אותו ביחד עם הארי ועם כלב הציד שלופנג, והשלושה מגיעים לקרחת יער שבה הם רואים יצור כלשהו המכוסה בגלימה רוכן מעל גופה של חד קרן ושותה ממנה דם. מאלפוי נמלט באימה, והיצור מזנק לעברו של הארי, אך נהדף על ידי הקנטאורפירנזהשהגיע בפתאומיות. פירנזה מצי�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: על מנת לחפש מידע אודות פלאמל במדור הספרים המוגבלים של ספריית הוגוורטס, אך נאלץ להימלט מסנייפ ומפילץ' שהגיעו לאזור הספרייה לאחר שספר מכושף החל לצרוח. הוא נכנס בקושי רב לכיתה שאינה בשימוש המכילה ראי המכונה \"הראי של ינפתא\", ובו הוא רואה את הוריו ואת אבות אבותיו. הארי מתמכר לחזיונות של הראי עד שפרופסור דמבלדור מ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לים עונש והפחתה של מאה וחמישים נקודות בטורניר הבתים של הוגוורטס, דבר הגורם לגריפינדור לרדת למקום האחרון בטבלה. העונש הנוסף שלהם הוא להצטרף אל האגריד במשימה ביער האסור שמטרתה לברר את סיבת מותם של מספרחדי קרן.\nלאחר שמאלפוי מותח את נוויל פעם נוספת מחליט האגריד לשלוח אותו ביחד עם הארי ועם כלב הציד שלופנג, והשלושה\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לחוקי הקוסמים, ומארגנים את הברחתו לשמורה ברומניה שבה עובדצ'ארלי ויזלי, אחיו של רון. דראקו מאלפוי מצליח לחשוף את סודו של האגריד, ומנסה להסגיר אותם בזמן שהם מעבירים את נורברט לנקודת המסירה בראש מגדל האסטרונומיה. למרות היעדרותו של רון, שננשך על ידי נורברט בידו, מצליחים הארי והרמיוני להגיע בבטחה לראש המגדל. אולם,\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �יה. למרות היעדרותו של רון, שננשך על ידי נורברט בידו, מצליחים הארי והרמיוני להגיע בבטחה לראש המגדל. אולם, הם שוכחים שם את גלימת ההיעלמות שהביאו איתם, ולאחר שהם ונוויל שניסה להזהירם נתפסים על ידי פילץ', ומקבלים עונש והפחתה של מאה וחמישים נקודות בטורניר הבתים של הוגוורטס, דבר הגורם לגריפינדור לרדת למקום האחרו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ודות תוך כדי רכיבה על מטאטא גבוה מעל האדמה. הוא לא מכיר לחשי קסם, מעולם לא גידל דרקון מביצה, ומעולם לא עטה גלימת היעלמות.\n\nהוא מכיר רק את חייו האומללים עםמשפחת דרסלי-דודוודודתוהאיומים ובנם הדוחהדאדלי, בריון מפונק, מגודל ושמן. החדר של הארי הוא ארון פיצפון בתחתית המדרגות, והוריו המאמצים מעולם לא חגגו את יום\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: � מוזרות או מסתוריות, והרי הם פשוט לא סובלים שטויות מסוג זה.\"\n\nהספר יצא לאור לראשונה באנגלית ב-30 ביוני 1997, ועובד לסרט בעל אותו שם.\n\nתוכן עניינים\n\nהקדשה[]\n\nהספר מוקדש לשלוש מבנות-ביתה של ג'יי. קיי. רולינג - ג'סיקה היא ביתה הבכורה, אן הייתה אמה שמתה מטרשת נפוצה, ודי היא אחותה הצעירה.\n\nתקציר הספר[]\n\nתקציר הספר מצליח לה\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: כל מי שיקרא עליו - לא יוכל לשכוח לעולם. כי כאן הארי מגלה לא רק חברים,ספורט אוויריוקסמים בכל דבר, החל בשיעורים וכלה בארוחות, אלא גם גורל גדול שמחכה לו... בתנאי שהוא יצליח לשרוד!\"\n\nעלילה[]\n\nהאגריד לוקח את הארי לסמטת דיאגון, רחוב לונדוני המוסתר מהמוגלגים באמצעות קסמים, ומסייע לו ברכישת הדברים הנחוצים ללימודיו בהוגוורט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ניסה אליו נאסרה בתחילת השנה, ושם מגלים כלב תלת-ראשי גדל ממדים. הם נמלטים ממנו בקושי, אך הרמיוני מצליחה להבחין כי הכלב עומד מעל דלת ברצפת המסדרון. הארי מסיק כי הכלב שומר על הכניסה למקום שבו נמצאת החבילה שנלקחה מגרינגוטס.\nלאחר שרון מעליב את הרמיוני בעקבות ביצועיה הטובים בשיעור לחשים היא בורחת בדמעות לשירותים של הבנות. הא\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �ה המגמגם להתגוננות מפני כוחות האופל, פורץ לאולם הסעודות בצעקות על כך שטרולחדר לטירה. במקביל לפינוי התלמידים למקום מבטחים ממהרים הארי ורון להזהיר את הרמיוני, שנלכדה בשירותים על ידי הטרול. הארי ורון מצליחים לגבור על הטרול, ולאחר שמספר מורים מגיעים לזירת האירוע הרמיוני נוטלת את האשמה על עצמה, ובעקבות כך ה�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: דיאגון, רחוב לונדוני המוסתר מהמוגלגים באמצעות קסמים, ומסייע לו ברכישת הדברים הנחוצים ללימודיו בהוגוורטס. הארי למד גם על הרכוש הרב שהוריו הורישו לו, שנמצא בגרינגוטס\n\nכחודש לאחר מכן עוזב הארי את בית משפחת דרסלי, ובתחנתקינג קרוסעולה על רכבת האקספרס להוגוורטס. בתוך התחנה הוא מתיידד עם משפחת ויזלי, המראה לו �\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: � ויזלי, המספר לו כי מישהו ניסה לפרוץ לכספת בגרינגוטס. הוא פוגש לראשונה גם בהרמיוני גריינג'ר, תלמידה חכמה ממוצא מוגלגי ובעיניו מעצבנת קמעא. תלמיד נוסף בשםדראקו מאלפוי, המלווה על ידי חבריו קראב וגויל, מנסה לייעץ להארי להתרחק מרון, אך הארי דוחה זאת בגלל סלידתו מהיהירות והדעות הקדומות של מאלפוי על כל מי ש\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: תרחש ככל הנראה בזמן שהארי ביקר בכספת שלו שם, והוא גם נזכר שראה את האגריד יוצא מהבנק עם חבילה קטנה.\nבמהלך שיעור התעופה הראשון שוברנוויל לונגבוטוםאת זרועו, ומאלפוי מנצל זאת על מנת לקחת אתכדור זיכרוןהשביר שלו, ולברוח באמצעות המטאטא המעופף שלו. הארי רודף אחריו בטיסה תוך הפגנת כישרון רב, וברגע האחרון מצליח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לישייה עם האגריד לבקתה שלו, ובמהלך השיחה הוא מסרב להאמין להם שסנייפ היה זה שניסה להרוג את הארי, אך בטעות חושף שהכלב התלת-ראשי (הנקרא \"פלאפי\") שייך לו, וכי הדבר שהמפלצת שומרת עליו שייך למנהל אלבוס דמבלדור ולאדם בשםניקולס פלאמל.\nהארי, רון והרמיוני מנסים לחפש מידע אודות פלאמל, אך לא מצליחים בכך עד תחילת חופשת חג המ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: , ובמקום להעניש אותו כפי שמאלפוי תיכנן היא מצרפת אותו לקבוצת הקווידיץ'של גריפינדור בתפקיד המחפשהאחראי על לכידת הסניץ'במהלך המשחק.\nלאחר מכן מערים מאלפוי על הארי ועל רון, וגורם להם להגיע לחדר המדליות של הוגוורטס לצורך עריכת דו-קרב קוסמים באמצע הלילה. אל הארי ורון מצטרפים נוויל והרמיוני. לאחר שהם כמעט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: הליך מיון קצר, בהם דראקו מאלפוי שנשלח לביתסלית'ריןעוד לפני שהמצנפת מונחת באופן מלא על ראשו, אך המצנפת מנהלת דיון עם הארי וטוענת בפניו כי בשל האמביציה שלו הוא מתאים יותר לסלית'רין. הארי מתנגד לכך לאור המידע השלילי שקיבל על הבית, ולבסוף המצנפת שולחת אותו לביתגריפינדורביחד עם חברו החדש רון. בזמן הסעודה הוא מביט ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: יון מפונק, מגודל ושמן. החדר של הארי הוא ארון פיצפון בתחתית המדרגות, והוריו המאמצים מעולם לא חגגו את יום הולדתו.\n\nאך כל זה עומד להשתנות כשמכתב מסתורי מגיע אליו בדואר ינשופים: מכתב עם הזמנה למקום מופלא שהארי - וכל מי שיקרא עליו - לא יוכל לשכוח לעולם. כי כאן הארי מגלה לא רק חברים,ספורט אוויריוקסמים בכל דבר, החל ב\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �לד בשם רון וויזלי שבמשך השנהרוןוהארי נהפכים לחברים הכי טובים ביחד עםהרמיוני גרינג׳ר.\n\nלפני תחילת סעודת פתיחת השנה בהוגוורטס מתמיינים התלמידים החדשים לבתים השונים באמצעות מצנפת המיון. רוב התלמידים עוברים תהליך מיון קצר, בהם דראקו מאלפוי שנשלח לביתסלית'ריןעוד לפני שהמצנפת מונחת באופן מלא על ראשו, אך המצנפ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ובת שעל הראי היא אנגרמה למשפט \"לא את פניך אראה כי אם את משאלת לבך\".\nעם חזרת התלמידים מחופשת חג המולד מצליח דראקו מאלפוי להטיל קללה על נוויל לונגבוטום, והארי מנחם אותו עם שוקולד בצורת צפרדע. קלף האספנים שהיה בחפיסת הממתק מכיל הסבר שפלאמל הוא אלכימאי בן 665, שהיה היחיד שהצליח ליצור את אבן החכמים ולהפיק ממנה את סם הח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: םניקולס פלאמל.\nהארי, רון והרמיוני מנסים לחפש מידע אודות פלאמל, אך לא מצליחים בכך עד תחילת חופשת חג המולד. הארי, רון ואחיו נשארים בהוגוורטס בחג, שבמהלכו מקבל האריגלימת היעלמותמאדם לא ידוע. הארי משתמש בגלימה על מנת לחפש מידע אודות פלאמל במדור הספרים המוגבלים של ספריית הוגוורטס, אך נאלץ להימלט מסנייפ ומפילץ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ופסור דמבלדור כיוון שהוא זומן בבהילות למשרד הקסמיםבלונדון. הארי מנחש שסנייפ זייף את ההודעה, וכי הוא ינסה לגנוב את האבן באותו לילה.\nבדרכם למסדרון של פלאפי הם נתקלים בנוויל לונגבוטום המנסה לעצור אותם כדי למנוע הורדת נקודות נוספת מגריפינדור, אך הרמיוני מצליחה לשתקו באמצעות קללת נעילת הגוף המלאה. כשהם מגיעים ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: .\nלאחר שמאלפוי מותח את נוויל פעם נוספת מחליט האגריד לשלוח אותו ביחד עם הארי ועם כלב הציד שלופנג, והשלושה מגיעים לקרחת יער שבה הם רואים יצור כלשהו המכוסה בגלימה רוכן מעל גופה של חד קרן ושותה ממנה דם. מאלפוי נמלט באימה, והיצור מזנק לעברו של הארי, אך נהדף על ידי הקנטאורפירנזהשהגיע בפתאומיות. פירנזה מצי�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: על מנת לחפש מידע אודות פלאמל במדור הספרים המוגבלים של ספריית הוגוורטס, אך נאלץ להימלט מסנייפ ומפילץ' שהגיעו לאזור הספרייה לאחר שספר מכושף החל לצרוח. הוא נכנס בקושי רב לכיתה שאינה בשימוש המכילה ראי המכונה \"הראי של ינפתא\", ובו הוא רואה את הוריו ואת אבות אבותיו. הארי מתמכר לחזיונות של הראי עד שפרופסור דמבלדור מ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ך החור ברצפה הם נתקלים בסדרת מכשולים, שכל אחד מהם דורש כישור מסוים המאפיין רק אחד מביניהם, כאשרלוח השחמט שכושףעל ידי מינרווה מקגונגל אף גורם לרוןלאבד את ההכרה. בחדר האחרון פוגש הארי לבדו את קווירל, שקושר אותו עם חבל קסום. קווירל מודה שהוא זה שהכניס את הטרול שניסה להרוג את הרמיוני בשירותים, וכי הוא היה זה שניסה ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לים עונש והפחתה של מאה וחמישים נקודות בטורניר הבתים של הוגוורטס, דבר הגורם לגריפינדור לרדת למקום האחרון בטבלה. העונש הנוסף שלהם הוא להצטרף אל האגריד במשימה ביער האסור שמטרתה לברר את סיבת מותם של מספרחדי קרן.\nלאחר שמאלפוי מותח את נוויל פעם נוספת מחליט האגריד לשלוח אותו ביחד עם הארי ועם כלב הציד שלופנג, והשלושה\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: אותו עם חבל קסום. קווירל מודה שהוא זה שהכניס את הטרול שניסה להרוג את הרמיוני בשירותים, וכי הוא היה זה שניסה להרוג אותו במהלך משחק הקווידיץ'. קווירל מודה גם שסנייפ ניסה להציל את הארי וחשד בו לאורך כל הדרך.\nקווירל מספר גם כי הוא משרתו של לורד וולדמורט, וכי לאחר שלא הצליח לגנוב את אבן החכמים מגרינגוטס החליט וולדמורט (\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לחוקי הקוסמים, ומארגנים את הברחתו לשמורה ברומניה שבה עובדצ'ארלי ויזלי, אחיו של רון. דראקו מאלפוי מצליח לחשוף את סודו של האגריד, ומנסה להסגיר אותם בזמן שהם מעבירים את נורברט לנקודת המסירה בראש מגדל האסטרונומיה. למרות היעדרותו של רון, שננשך על ידי נורברט בידו, מצליחים הארי והרמיוני להגיע בבטחה לראש המגדל. אולם,\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �יה. למרות היעדרותו של רון, שננשך על ידי נורברט בידו, מצליחים הארי והרמיוני להגיע בבטחה לראש המגדל. אולם, הם שוכחים שם את גלימת ההיעלמות שהביאו איתם, ולאחר שהם ונוויל שניסה להזהירם נתפסים על ידי פילץ', ומקבלים עונש והפחתה של מאה וחמישים נקודות בטורניר הבתים של הוגוורטס, דבר הגורם לגריפינדור לרדת למקום האחרו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: כל מי שיקרא עליו - לא יוכל לשכוח לעולם. כי כאן הארי מגלה לא רק חברים,ספורט אוויריוקסמים בכל דבר, החל בשיעורים וכלה בארוחות, אלא גם גורל גדול שמחכה לו... בתנאי שהוא יצליח לשרוד!\"\n\nעלילה[]\n\nהאגריד לוקח את הארי לסמטת דיאגון, רחוב לונדוני המוסתר מהמוגלגים באמצעות קסמים, ומסייע לו ברכישת הדברים הנחוצים ללימודיו בהוגוורט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ניסה אליו נאסרה בתחילת השנה, ושם מגלים כלב תלת-ראשי גדל ממדים. הם נמלטים ממנו בקושי, אך הרמיוני מצליחה להבחין כי הכלב עומד מעל דלת ברצפת המסדרון. הארי מסיק כי הכלב שומר על הכניסה למקום שבו נמצאת החבילה שנלקחה מגרינגוטס.\nלאחר שרון מעליב את הרמיוני בעקבות ביצועיה הטובים בשיעור לחשים היא בורחת בדמעות לשירותים של הבנות. הא\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �ה המגמגם להתגוננות מפני כוחות האופל, פורץ לאולם הסעודות בצעקות על כך שטרולחדר לטירה. במקביל לפינוי התלמידים למקום מבטחים ממהרים הארי ורון להזהיר את הרמיוני, שנלכדה בשירותים על ידי הטרול. הארי ורון מצליחים לגבור על הטרול, ולאחר שמספר מורים מגיעים לזירת האירוע הרמיוני נוטלת את האשמה על עצמה, ובעקבות כך ה�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: דיאגון, רחוב לונדוני המוסתר מהמוגלגים באמצעות קסמים, ומסייע לו ברכישת הדברים הנחוצים ללימודיו בהוגוורטס. הארי למד גם על הרכוש הרב שהוריו הורישו לו, שנמצא בגרינגוטס\n\nכחודש לאחר מכן עוזב הארי את בית משפחת דרסלי, ובתחנתקינג קרוסעולה על רכבת האקספרס להוגוורטס. בתוך התחנה הוא מתיידד עם משפחת ויזלי, המראה לו �\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: � ויזלי, המספר לו כי מישהו ניסה לפרוץ לכספת בגרינגוטס. הוא פוגש לראשונה גם בהרמיוני גריינג'ר, תלמידה חכמה ממוצא מוגלגי ובעיניו מעצבנת קמעא. תלמיד נוסף בשםדראקו מאלפוי, המלווה על ידי חבריו קראב וגויל, מנסה לייעץ להארי להתרחק מרון, אך הארי דוחה זאת בגלל סלידתו מהיהירות והדעות הקדומות של מאלפוי על כל מי ש\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: תרחש ככל הנראה בזמן שהארי ביקר בכספת שלו שם, והוא גם נזכר שראה את האגריד יוצא מהבנק עם חבילה קטנה.\nבמהלך שיעור התעופה הראשון שוברנוויל לונגבוטוםאת זרועו, ומאלפוי מנצל זאת על מנת לקחת אתכדור זיכרוןהשביר שלו, ולברוח באמצעות המטאטא המעופף שלו. הארי רודף אחריו בטיסה תוך הפגנת כישרון רב, וברגע האחרון מצליח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לישייה עם האגריד לבקתה שלו, ובמהלך השיחה הוא מסרב להאמין להם שסנייפ היה זה שניסה להרוג את הארי, אך בטעות חושף שהכלב התלת-ראשי (הנקרא \"פלאפי\") שייך לו, וכי הדבר שהמפלצת שומרת עליו שייך למנהל אלבוס דמבלדור ולאדם בשםניקולס פלאמל.\nהארי, רון והרמיוני מנסים לחפש מידע אודות פלאמל, אך לא מצליחים בכך עד תחילת חופשת חג המ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: , ובמקום להעניש אותו כפי שמאלפוי תיכנן היא מצרפת אותו לקבוצת הקווידיץ'של גריפינדור בתפקיד המחפשהאחראי על לכידת הסניץ'במהלך המשחק.\nלאחר מכן מערים מאלפוי על הארי ועל רון, וגורם להם להגיע לחדר המדליות של הוגוורטס לצורך עריכת דו-קרב קוסמים באמצע הלילה. אל הארי ורון מצטרפים נוויל והרמיוני. לאחר שהם כמעט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: הליך מיון קצר, בהם דראקו מאלפוי שנשלח לביתסלית'ריןעוד לפני שהמצנפת מונחת באופן מלא על ראשו, אך המצנפת מנהלת דיון עם הארי וטוענת בפניו כי בשל האמביציה שלו הוא מתאים יותר לסלית'רין. הארי מתנגד לכך לאור המידע השלילי שקיבל על הבית, ולבסוף המצנפת שולחת אותו לביתגריפינדורביחד עם חברו החדש רון. בזמן הסעודה הוא מביט ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: יון מפונק, מגודל ושמן. החדר של הארי הוא ארון פיצפון בתחתית המדרגות, והוריו המאמצים מעולם לא חגגו את יום הולדתו.\n\nאך כל זה עומד להשתנות כשמכתב מסתורי מגיע אליו בדואר ינשופים: מכתב עם הזמנה למקום מופלא שהארי - וכל מי שיקרא עליו - לא יוכל לשכוח לעולם. כי כאן הארי מגלה לא רק חברים,ספורט אוויריוקסמים בכל דבר, החל ב\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �לד בשם רון וויזלי שבמשך השנהרוןוהארי נהפכים לחברים הכי טובים ביחד עםהרמיוני גרינג׳ר.\n\nלפני תחילת סעודת פתיחת השנה בהוגוורטס מתמיינים התלמידים החדשים לבתים השונים באמצעות מצנפת המיון. רוב התלמידים עוברים תהליך מיון קצר, בהם דראקו מאלפוי שנשלח לביתסלית'ריןעוד לפני שהמצנפת מונחת באופן מלא על ראשו, אך המצנפ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ובת שעל הראי היא אנגרמה למשפט \"לא את פניך אראה כי אם את משאלת לבך\".\nעם חזרת התלמידים מחופשת חג המולד מצליח דראקו מאלפוי להטיל קללה על נוויל לונגבוטום, והארי מנחם אותו עם שוקולד בצורת צפרדע. קלף האספנים שהיה בחפיסת הממתק מכיל הסבר שפלאמל הוא אלכימאי בן 665, שהיה היחיד שהצליח ליצור את אבן החכמים ולהפיק ממנה את סם הח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: םניקולס פלאמל.\nהארי, רון והרמיוני מנסים לחפש מידע אודות פלאמל, אך לא מצליחים בכך עד תחילת חופשת חג המולד. הארי, רון ואחיו נשארים בהוגוורטס בחג, שבמהלכו מקבל האריגלימת היעלמותמאדם לא ידוע. הארי משתמש בגלימה על מנת לחפש מידע אודות פלאמל במדור הספרים המוגבלים של ספריית הוגוורטס, אך נאלץ להימלט מסנייפ ומפילץ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ופסור דמבלדור כיוון שהוא זומן בבהילות למשרד הקסמיםבלונדון. הארי מנחש שסנייפ זייף את ההודעה, וכי הוא ינסה לגנוב את האבן באותו לילה.\nבדרכם למסדרון של פלאפי הם נתקלים בנוויל לונגבוטום המנסה לעצור אותם כדי למנוע הורדת נקודות נוספת מגריפינדור, אך הרמיוני מצליחה לשתקו באמצעות קללת נעילת הגוף המלאה. כשהם מגיעים ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: .\nלאחר שמאלפוי מותח את נוויל פעם נוספת מחליט האגריד לשלוח אותו ביחד עם הארי ועם כלב הציד שלופנג, והשלושה מגיעים לקרחת יער שבה הם רואים יצור כלשהו המכוסה בגלימה רוכן מעל גופה של חד קרן ושותה ממנה דם. מאלפוי נמלט באימה, והיצור מזנק לעברו של הארי, אך נהדף על ידי הקנטאורפירנזהשהגיע בפתאומיות. פירנזה מצי�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ך החור ברצפה הם נתקלים בסדרת מכשולים, שכל אחד מהם דורש כישור מסוים המאפיין רק אחד מביניהם, כאשרלוח השחמט שכושףעל ידי מינרווה מקגונגל אף גורם לרוןלאבד את ההכרה. בחדר האחרון פוגש הארי לבדו את קווירל, שקושר אותו עם חבל קסום. קווירל מודה שהוא זה שהכניס את הטרול שניסה להרוג את הרמיוני בשירותים, וכי הוא היה זה שניסה ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: על מנת לחפש מידע אודות פלאמל במדור הספרים המוגבלים של ספריית הוגוורטס, אך נאלץ להימלט מסנייפ ומפילץ' שהגיעו לאזור הספרייה לאחר שספר מכושף החל לצרוח. הוא נכנס בקושי רב לכיתה שאינה בשימוש המכילה ראי המכונה \"הראי של ינפתא\", ובו הוא רואה את הוריו ואת אבות אבותיו. הארי מתמכר לחזיונות של הראי עד שפרופסור דמבלדור מ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: אותו עם חבל קסום. קווירל מודה שהוא זה שהכניס את הטרול שניסה להרוג את הרמיוני בשירותים, וכי הוא היה זה שניסה להרוג אותו במהלך משחק הקווידיץ'. קווירל מודה גם שסנייפ ניסה להציל את הארי וחשד בו לאורך כל הדרך.\nקווירל מספר גם כי הוא משרתו של לורד וולדמורט, וכי לאחר שלא הצליח לגנוב את אבן החכמים מגרינגוטס החליט וולדמורט (\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לים עונש והפחתה של מאה וחמישים נקודות בטורניר הבתים של הוגוורטס, דבר הגורם לגריפינדור לרדת למקום האחרון בטבלה. העונש הנוסף שלהם הוא להצטרף אל האגריד במשימה ביער האסור שמטרתה לברר את סיבת מותם של מספרחדי קרן.\nלאחר שמאלפוי מותח את נוויל פעם נוספת מחליט האגריד לשלוח אותו ביחד עם הארי ועם כלב הציד שלופנג, והשלושה\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ה לקווירל להסיר את הטורבן העוטף את ראשו, והארי מזדעזע לגלות שפניו של וולדמורט מכסים את הצד האחורי של ראשו שלקווירל. וולדמורט/קווירל מנסה לקחת את האבן מהארי, אך כשהוא נוגע בו הבשר של גופו של קווירל מתחיל להישרף. לאחר שהם ממשיכים להיאבק הארי מאבד את הכרתו.\nהארי מתעורר במרפאה של הוגוורטס, שם מספר לו פרופסור דמבלדור\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לחוקי הקוסמים, ומארגנים את הברחתו לשמורה ברומניה שבה עובדצ'ארלי ויזלי, אחיו של רון. דראקו מאלפוי מצליח לחשוף את סודו של האגריד, ומנסה להסגיר אותם בזמן שהם מעבירים את נורברט לנקודת המסירה בראש מגדל האסטרונומיה. למרות היעדרותו של רון, שננשך על ידי נורברט בידו, מצליחים הארי והרמיוני להגיע בבטחה לראש המגדל. אולם,\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ף. לאחר שהם ממשיכים להיאבק הארי מאבד את הכרתו.\nהארי מתעורר במרפאה של הוגוורטס, שם מספר לו פרופסור דמבלדור כי הוא שרד הודות לכך שאמו הקריבה את חייה על מנת להגן עליו, ובכך העניקה לו הגנה קסומה המונעת מוולדמורט, שאינו מסוגל להבין את כוחה של האהבה, לגעת בו. וולדמורט נטש את קווירל שמת, ולדברי דמבלדור הוא ינסה לשוב באמצע\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: אינו מסוגל להבין את כוחה של האהבה, לגעת בו. וולדמורט נטש את קווירל שמת, ולדברי דמבלדור הוא ינסה לשוב באמצעים אחרים. דמבלדור הסביר להארי כי הסיבה שהצליח לקחת את האבן מהראי הייתה שהוא רצה למצוא אותה אך לא להשתמש בה, וזאת בניגוד לקווירל/וולדמורט שרצה לנצל אותה לרעה. בעקבות כך החליטו דמבלדור ופלאמל כי עדיף להשמיד את האב�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �יה. למרות היעדרותו של רון, שננשך על ידי נורברט בידו, מצליחים הארי והרמיוני להגיע בבטחה לראש המגדל. אולם, הם שוכחים שם את גלימת ההיעלמות שהביאו איתם, ולאחר שהם ונוויל שניסה להזהירם נתפסים על ידי פילץ', ומקבלים עונש והפחתה של מאה וחמישים נקודות בטורניר הבתים של הוגוורטס, דבר הגורם לגריפינדור לרדת למקום האחרו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: זאת בניגוד לקווירל/וולדמורט שרצה לנצל אותה לרעה. בעקבות כך החליטו דמבלדור ופלאמל כי עדיף להשמיד את האבן.\nהארי זוכה למבקרים רבים במהלך אשפוזו, בהם רון והרמיוני המסרבים לעזוב אותו. לקראת סוף האשפוז מבקר אותו האגריד המלא ברגשות אשם על כך שגילה לקווירל את סודו של פלאפי, ומעניק להארי אלבום המכיל תמונות רבות של הור\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: כל מי שיקרא עליו - לא יוכל לשכוח לעולם. כי כאן הארי מגלה לא רק חברים,ספורט אוויריוקסמים בכל דבר, החל בשיעורים וכלה בארוחות, אלא גם גורל גדול שמחכה לו... בתנאי שהוא יצליח לשרוד!\"\n\nעלילה[]\n\nהאגריד לוקח את הארי לסמטת דיאגון, רחוב לונדוני המוסתר מהמוגלגים באמצעות קסמים, ומסייע לו ברכישת הדברים הנחוצים ללימודיו בהוגוורט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ניסה אליו נאסרה בתחילת השנה, ושם מגלים כלב תלת-ראשי גדל ממדים. הם נמלטים ממנו בקושי, אך הרמיוני מצליחה להבחין כי הכלב עומד מעל דלת ברצפת המסדרון. הארי מסיק כי הכלב שומר על הכניסה למקום שבו נמצאת החבילה שנלקחה מגרינגוטס.\nלאחר שרון מעליב את הרמיוני בעקבות ביצועיה הטובים בשיעור לחשים היא בורחת בדמעות לשירותים של הבנות. הא\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �ה המגמגם להתגוננות מפני כוחות האופל, פורץ לאולם הסעודות בצעקות על כך שטרולחדר לטירה. במקביל לפינוי התלמידים למקום מבטחים ממהרים הארי ורון להזהיר את הרמיוני, שנלכדה בשירותים על ידי הטרול. הארי ורון מצליחים לגבור על הטרול, ולאחר שמספר מורים מגיעים לזירת האירוע הרמיוני נוטלת את האשמה על עצמה, ובעקבות כך ה�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: דיאגון, רחוב לונדוני המוסתר מהמוגלגים באמצעות קסמים, ומסייע לו ברכישת הדברים הנחוצים ללימודיו בהוגוורטס. הארי למד גם על הרכוש הרב שהוריו הורישו לו, שנמצא בגרינגוטס\n\nכחודש לאחר מכן עוזב הארי את בית משפחת דרסלי, ובתחנתקינג קרוסעולה על רכבת האקספרס להוגוורטס. בתוך התחנה הוא מתיידד עם משפחת ויזלי, המראה לו �\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: � ויזלי, המספר לו כי מישהו ניסה לפרוץ לכספת בגרינגוטס. הוא פוגש לראשונה גם בהרמיוני גריינג'ר, תלמידה חכמה ממוצא מוגלגי ובעיניו מעצבנת קמעא. תלמיד נוסף בשםדראקו מאלפוי, המלווה על ידי חבריו קראב וגויל, מנסה לייעץ להארי להתרחק מרון, אך הארי דוחה זאת בגלל סלידתו מהיהירות והדעות הקדומות של מאלפוי על כל מי ש\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: תרחש ככל הנראה בזמן שהארי ביקר בכספת שלו שם, והוא גם נזכר שראה את האגריד יוצא מהבנק עם חבילה קטנה.\nבמהלך שיעור התעופה הראשון שוברנוויל לונגבוטוםאת זרועו, ומאלפוי מנצל זאת על מנת לקחת אתכדור זיכרוןהשביר שלו, ולברוח באמצעות המטאטא המעופף שלו. הארי רודף אחריו בטיסה תוך הפגנת כישרון רב, וברגע האחרון מצליח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לישייה עם האגריד לבקתה שלו, ובמהלך השיחה הוא מסרב להאמין להם שסנייפ היה זה שניסה להרוג את הארי, אך בטעות חושף שהכלב התלת-ראשי (הנקרא \"פלאפי\") שייך לו, וכי הדבר שהמפלצת שומרת עליו שייך למנהל אלבוס דמבלדור ולאדם בשםניקולס פלאמל.\nהארי, רון והרמיוני מנסים לחפש מידע אודות פלאמל, אך לא מצליחים בכך עד תחילת חופשת חג המ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: הליך מיון קצר, בהם דראקו מאלפוי שנשלח לביתסלית'ריןעוד לפני שהמצנפת מונחת באופן מלא על ראשו, אך המצנפת מנהלת דיון עם הארי וטוענת בפניו כי בשל האמביציה שלו הוא מתאים יותר לסלית'רין. הארי מתנגד לכך לאור המידע השלילי שקיבל על הבית, ולבסוף המצנפת שולחת אותו לביתגריפינדורביחד עם חברו החדש רון. בזמן הסעודה הוא מביט ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: , ובמקום להעניש אותו כפי שמאלפוי תיכנן היא מצרפת אותו לקבוצת הקווידיץ'של גריפינדור בתפקיד המחפשהאחראי על לכידת הסניץ'במהלך המשחק.\nלאחר מכן מערים מאלפוי על הארי ועל רון, וגורם להם להגיע לחדר המדליות של הוגוורטס לצורך עריכת דו-קרב קוסמים באמצע הלילה. אל הארי ורון מצטרפים נוויל והרמיוני. לאחר שהם כמעט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: יון מפונק, מגודל ושמן. החדר של הארי הוא ארון פיצפון בתחתית המדרגות, והוריו המאמצים מעולם לא חגגו את יום הולדתו.\n\nאך כל זה עומד להשתנות כשמכתב מסתורי מגיע אליו בדואר ינשופים: מכתב עם הזמנה למקום מופלא שהארי - וכל מי שיקרא עליו - לא יוכל לשכוח לעולם. כי כאן הארי מגלה לא רק חברים,ספורט אוויריוקסמים בכל דבר, החל ב\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �לד בשם רון וויזלי שבמשך השנהרוןוהארי נהפכים לחברים הכי טובים ביחד עםהרמיוני גרינג׳ר.\n\nלפני תחילת סעודת פתיחת השנה בהוגוורטס מתמיינים התלמידים החדשים לבתים השונים באמצעות מצנפת המיון. רוב התלמידים עוברים תהליך מיון קצר, בהם דראקו מאלפוי שנשלח לביתסלית'ריןעוד לפני שהמצנפת מונחת באופן מלא על ראשו, אך המצנפ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ובת שעל הראי היא אנגרמה למשפט \"לא את פניך אראה כי אם את משאלת לבך\".\nעם חזרת התלמידים מחופשת חג המולד מצליח דראקו מאלפוי להטיל קללה על נוויל לונגבוטום, והארי מנחם אותו עם שוקולד בצורת צפרדע. קלף האספנים שהיה בחפיסת הממתק מכיל הסבר שפלאמל הוא אלכימאי בן 665, שהיה היחיד שהצליח ליצור את אבן החכמים ולהפיק ממנה את סם הח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ופסור דמבלדור כיוון שהוא זומן בבהילות למשרד הקסמיםבלונדון. הארי מנחש שסנייפ זייף את ההודעה, וכי הוא ינסה לגנוב את האבן באותו לילה.\nבדרכם למסדרון של פלאפי הם נתקלים בנוויל לונגבוטום המנסה לעצור אותם כדי למנוע הורדת נקודות נוספת מגריפינדור, אך הרמיוני מצליחה לשתקו באמצעות קללת נעילת הגוף המלאה. כשהם מגיעים ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: םניקולס פלאמל.\nהארי, רון והרמיוני מנסים לחפש מידע אודות פלאמל, אך לא מצליחים בכך עד תחילת חופשת חג המולד. הארי, רון ואחיו נשארים בהוגוורטס בחג, שבמהלכו מקבל האריגלימת היעלמותמאדם לא ידוע. הארי משתמש בגלימה על מנת לחפש מידע אודות פלאמל במדור הספרים המוגבלים של ספריית הוגוורטס, אך נאלץ להימלט מסנייפ ומפילץ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: .\nלאחר שמאלפוי מותח את נוויל פעם נוספת מחליט האגריד לשלוח אותו ביחד עם הארי ועם כלב הציד שלופנג, והשלושה מגיעים לקרחת יער שבה הם רואים יצור כלשהו המכוסה בגלימה רוכן מעל גופה של חד קרן ושותה ממנה דם. מאלפוי נמלט באימה, והיצור מזנק לעברו של הארי, אך נהדף על ידי הקנטאורפירנזהשהגיע בפתאומיות. פירנזה מצי�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ך החור ברצפה הם נתקלים בסדרת מכשולים, שכל אחד מהם דורש כישור מסוים המאפיין רק אחד מביניהם, כאשרלוח השחמט שכושףעל ידי מינרווה מקגונגל אף גורם לרוןלאבד את ההכרה. בחדר האחרון פוגש הארי לבדו את קווירל, שקושר אותו עם חבל קסום. קווירל מודה שהוא זה שהכניס את הטרול שניסה להרוג את הרמיוני בשירותים, וכי הוא היה זה שניסה ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: על מנת לחפש מידע אודות פלאמל במדור הספרים המוגבלים של ספריית הוגוורטס, אך נאלץ להימלט מסנייפ ומפילץ' שהגיעו לאזור הספרייה לאחר שספר מכושף החל לצרוח. הוא נכנס בקושי רב לכיתה שאינה בשימוש המכילה ראי המכונה \"הראי של ינפתא\", ובו הוא רואה את הוריו ואת אבות אבותיו. הארי מתמכר לחזיונות של הראי עד שפרופסור דמבלדור מ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: אותו עם חבל קסום. קווירל מודה שהוא זה שהכניס את הטרול שניסה להרוג את הרמיוני בשירותים, וכי הוא היה זה שניסה להרוג אותו במהלך משחק הקווידיץ'. קווירל מודה גם שסנייפ ניסה להציל את הארי וחשד בו לאורך כל הדרך.\nקווירל מספר גם כי הוא משרתו של לורד וולדמורט, וכי לאחר שלא הצליח לגנוב את אבן החכמים מגרינגוטס החליט וולדמורט (\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לים עונש והפחתה של מאה וחמישים נקודות בטורניר הבתים של הוגוורטס, דבר הגורם לגריפינדור לרדת למקום האחרון בטבלה. העונש הנוסף שלהם הוא להצטרף אל האגריד במשימה ביער האסור שמטרתה לברר את סיבת מותם של מספרחדי קרן.\nלאחר שמאלפוי מותח את נוויל פעם נוספת מחליט האגריד לשלוח אותו ביחד עם הארי ועם כלב הציד שלופנג, והשלושה\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ה לקווירל להסיר את הטורבן העוטף את ראשו, והארי מזדעזע לגלות שפניו של וולדמורט מכסים את הצד האחורי של ראשו שלקווירל. וולדמורט/קווירל מנסה לקחת את האבן מהארי, אך כשהוא נוגע בו הבשר של גופו של קווירל מתחיל להישרף. לאחר שהם ממשיכים להיאבק הארי מאבד את הכרתו.\nהארי מתעורר במרפאה של הוגוורטס, שם מספר לו פרופסור דמבלדור\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ף. לאחר שהם ממשיכים להיאבק הארי מאבד את הכרתו.\nהארי מתעורר במרפאה של הוגוורטס, שם מספר לו פרופסור דמבלדור כי הוא שרד הודות לכך שאמו הקריבה את חייה על מנת להגן עליו, ובכך העניקה לו הגנה קסומה המונעת מוולדמורט, שאינו מסוגל להבין את כוחה של האהבה, לגעת בו. וולדמורט נטש את קווירל שמת, ולדברי דמבלדור הוא ינסה לשוב באמצע\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לחוקי הקוסמים, ומארגנים את הברחתו לשמורה ברומניה שבה עובדצ'ארלי ויזלי, אחיו של רון. דראקו מאלפוי מצליח לחשוף את סודו של האגריד, ומנסה להסגיר אותם בזמן שהם מעבירים את נורברט לנקודת המסירה בראש מגדל האסטרונומיה. למרות היעדרותו של רון, שננשך על ידי נורברט בידו, מצליחים הארי והרמיוני להגיע בבטחה לראש המגדל. אולם,\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: אינו מסוגל להבין את כוחה של האהבה, לגעת בו. וולדמורט נטש את קווירל שמת, ולדברי דמבלדור הוא ינסה לשוב באמצעים אחרים. דמבלדור הסביר להארי כי הסיבה שהצליח לקחת את האבן מהראי הייתה שהוא רצה למצוא אותה אך לא להשתמש בה, וזאת בניגוד לקווירל/וולדמורט שרצה לנצל אותה לרעה. בעקבות כך החליטו דמבלדור ופלאמל כי עדיף להשמיד את האב�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: זאת בניגוד לקווירל/וולדמורט שרצה לנצל אותה לרעה. בעקבות כך החליטו דמבלדור ופלאמל כי עדיף להשמיד את האבן.\nהארי זוכה למבקרים רבים במהלך אשפוזו, בהם רון והרמיוני המסרבים לעזוב אותו. לקראת סוף האשפוז מבקר אותו האגריד המלא ברגשות אשם על כך שגילה לקווירל את סודו של פלאפי, ומעניק להארי אלבום המכיל תמונות רבות של הור\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �יה. למרות היעדרותו של רון, שננשך על ידי נורברט בידו, מצליחים הארי והרמיוני להגיע בבטחה לראש המגדל. אולם, הם שוכחים שם את גלימת ההיעלמות שהביאו איתם, ולאחר שהם ונוויל שניסה להזהירם נתפסים על ידי פילץ', ומקבלים עונש והפחתה של מאה וחמישים נקודות בטורניר הבתים של הוגוורטס, דבר הגורם לגריפינדור לרדת למקום האחרו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ניסה אליו נאסרה בתחילת השנה, ושם מגלים כלב תלת-ראשי גדל ממדים. הם נמלטים ממנו בקושי, אך הרמיוני מצליחה להבחין כי הכלב עומד מעל דלת ברצפת המסדרון. הארי מסיק כי הכלב שומר על הכניסה למקום שבו נמצאת החבילה שנלקחה מגרינגוטס.\nלאחר שרון מעליב את הרמיוני בעקבות ביצועיה הטובים בשיעור לחשים היא בורחת בדמעות לשירותים של הבנות. הא\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �ה המגמגם להתגוננות מפני כוחות האופל, פורץ לאולם הסעודות בצעקות על כך שטרולחדר לטירה. במקביל לפינוי התלמידים למקום מבטחים ממהרים הארי ורון להזהיר את הרמיוני, שנלכדה בשירותים על ידי הטרול. הארי ורון מצליחים לגבור על הטרול, ולאחר שמספר מורים מגיעים לזירת האירוע הרמיוני נוטלת את האשמה על עצמה, ובעקבות כך ה�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: דיאגון, רחוב לונדוני המוסתר מהמוגלגים באמצעות קסמים, ומסייע לו ברכישת הדברים הנחוצים ללימודיו בהוגוורטס. הארי למד גם על הרכוש הרב שהוריו הורישו לו, שנמצא בגרינגוטס\n\nכחודש לאחר מכן עוזב הארי את בית משפחת דרסלי, ובתחנתקינג קרוסעולה על רכבת האקספרס להוגוורטס. בתוך התחנה הוא מתיידד עם משפחת ויזלי, המראה לו �\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: � ויזלי, המספר לו כי מישהו ניסה לפרוץ לכספת בגרינגוטס. הוא פוגש לראשונה גם בהרמיוני גריינג'ר, תלמידה חכמה ממוצא מוגלגי ובעיניו מעצבנת קמעא. תלמיד נוסף בשםדראקו מאלפוי, המלווה על ידי חבריו קראב וגויל, מנסה לייעץ להארי להתרחק מרון, אך הארי דוחה זאת בגלל סלידתו מהיהירות והדעות הקדומות של מאלפוי על כל מי ש\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: תרחש ככל הנראה בזמן שהארי ביקר בכספת שלו שם, והוא גם נזכר שראה את האגריד יוצא מהבנק עם חבילה קטנה.\nבמהלך שיעור התעופה הראשון שוברנוויל לונגבוטוםאת זרועו, ומאלפוי מנצל זאת על מנת לקחת אתכדור זיכרוןהשביר שלו, ולברוח באמצעות המטאטא המעופף שלו. הארי רודף אחריו בטיסה תוך הפגנת כישרון רב, וברגע האחרון מצליח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לישייה עם האגריד לבקתה שלו, ובמהלך השיחה הוא מסרב להאמין להם שסנייפ היה זה שניסה להרוג את הארי, אך בטעות חושף שהכלב התלת-ראשי (הנקרא \"פלאפי\") שייך לו, וכי הדבר שהמפלצת שומרת עליו שייך למנהל אלבוס דמבלדור ולאדם בשםניקולס פלאמל.\nהארי, רון והרמיוני מנסים לחפש מידע אודות פלאמל, אך לא מצליחים בכך עד תחילת חופשת חג המ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: , ובמקום להעניש אותו כפי שמאלפוי תיכנן היא מצרפת אותו לקבוצת הקווידיץ'של גריפינדור בתפקיד המחפשהאחראי על לכידת הסניץ'במהלך המשחק.\nלאחר מכן מערים מאלפוי על הארי ועל רון, וגורם להם להגיע לחדר המדליות של הוגוורטס לצורך עריכת דו-קרב קוסמים באמצע הלילה. אל הארי ורון מצטרפים נוויל והרמיוני. לאחר שהם כמעט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: הליך מיון קצר, בהם דראקו מאלפוי שנשלח לביתסלית'ריןעוד לפני שהמצנפת מונחת באופן מלא על ראשו, אך המצנפת מנהלת דיון עם הארי וטוענת בפניו כי בשל האמביציה שלו הוא מתאים יותר לסלית'רין. הארי מתנגד לכך לאור המידע השלילי שקיבל על הבית, ולבסוף המצנפת שולחת אותו לביתגריפינדורביחד עם חברו החדש רון. בזמן הסעודה הוא מביט ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: יון מפונק, מגודל ושמן. החדר של הארי הוא ארון פיצפון בתחתית המדרגות, והוריו המאמצים מעולם לא חגגו את יום הולדתו.\n\nאך כל זה עומד להשתנות כשמכתב מסתורי מגיע אליו בדואר ינשופים: מכתב עם הזמנה למקום מופלא שהארי - וכל מי שיקרא עליו - לא יוכל לשכוח לעולם. כי כאן הארי מגלה לא רק חברים,ספורט אוויריוקסמים בכל דבר, החל ב\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �לד בשם רון וויזלי שבמשך השנהרוןוהארי נהפכים לחברים הכי טובים ביחד עםהרמיוני גרינג׳ר.\n\nלפני תחילת סעודת פתיחת השנה בהוגוורטס מתמיינים התלמידים החדשים לבתים השונים באמצעות מצנפת המיון. רוב התלמידים עוברים תהליך מיון קצר, בהם דראקו מאלפוי שנשלח לביתסלית'ריןעוד לפני שהמצנפת מונחת באופן מלא על ראשו, אך המצנפ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ובת שעל הראי היא אנגרמה למשפט \"לא את פניך אראה כי אם את משאלת לבך\".\nעם חזרת התלמידים מחופשת חג המולד מצליח דראקו מאלפוי להטיל קללה על נוויל לונגבוטום, והארי מנחם אותו עם שוקולד בצורת צפרדע. קלף האספנים שהיה בחפיסת הממתק מכיל הסבר שפלאמל הוא אלכימאי בן 665, שהיה היחיד שהצליח ליצור את אבן החכמים ולהפיק ממנה את סם הח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ופסור דמבלדור כיוון שהוא זומן בבהילות למשרד הקסמיםבלונדון. הארי מנחש שסנייפ זייף את ההודעה, וכי הוא ינסה לגנוב את האבן באותו לילה.\nבדרכם למסדרון של פלאפי הם נתקלים בנוויל לונגבוטום המנסה לעצור אותם כדי למנוע הורדת נקודות נוספת מגריפינדור, אך הרמיוני מצליחה לשתקו באמצעות קללת נעילת הגוף המלאה. כשהם מגיעים ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: םניקולס פלאמל.\nהארי, רון והרמיוני מנסים לחפש מידע אודות פלאמל, אך לא מצליחים בכך עד תחילת חופשת חג המולד. הארי, רון ואחיו נשארים בהוגוורטס בחג, שבמהלכו מקבל האריגלימת היעלמותמאדם לא ידוע. הארי משתמש בגלימה על מנת לחפש מידע אודות פלאמל במדור הספרים המוגבלים של ספריית הוגוורטס, אך נאלץ להימלט מסנייפ ומפילץ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ך החור ברצפה הם נתקלים בסדרת מכשולים, שכל אחד מהם דורש כישור מסוים המאפיין רק אחד מביניהם, כאשרלוח השחמט שכושףעל ידי מינרווה מקגונגל אף גורם לרוןלאבד את ההכרה. בחדר האחרון פוגש הארי לבדו את קווירל, שקושר אותו עם חבל קסום. קווירל מודה שהוא זה שהכניס את הטרול שניסה להרוג את הרמיוני בשירותים, וכי הוא היה זה שניסה ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: .\nלאחר שמאלפוי מותח את נוויל פעם נוספת מחליט האגריד לשלוח אותו ביחד עם הארי ועם כלב הציד שלופנג, והשלושה מגיעים לקרחת יער שבה הם רואים יצור כלשהו המכוסה בגלימה רוכן מעל גופה של חד קרן ושותה ממנה דם. מאלפוי נמלט באימה, והיצור מזנק לעברו של הארי, אך נהדף על ידי הקנטאורפירנזהשהגיע בפתאומיות. פירנזה מצי�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: על מנת לחפש מידע אודות פלאמל במדור הספרים המוגבלים של ספריית הוגוורטס, אך נאלץ להימלט מסנייפ ומפילץ' שהגיעו לאזור הספרייה לאחר שספר מכושף החל לצרוח. הוא נכנס בקושי רב לכיתה שאינה בשימוש המכילה ראי המכונה \"הראי של ינפתא\", ובו הוא רואה את הוריו ואת אבות אבותיו. הארי מתמכר לחזיונות של הראי עד שפרופסור דמבלדור מ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: אותו עם חבל קסום. קווירל מודה שהוא זה שהכניס את הטרול שניסה להרוג את הרמיוני בשירותים, וכי הוא היה זה שניסה להרוג אותו במהלך משחק הקווידיץ'. קווירל מודה גם שסנייפ ניסה להציל את הארי וחשד בו לאורך כל הדרך.\nקווירל מספר גם כי הוא משרתו של לורד וולדמורט, וכי לאחר שלא הצליח לגנוב את אבן החכמים מגרינגוטס החליט וולדמורט (\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לים עונש והפחתה של מאה וחמישים נקודות בטורניר הבתים של הוגוורטס, דבר הגורם לגריפינדור לרדת למקום האחרון בטבלה. העונש הנוסף שלהם הוא להצטרף אל האגריד במשימה ביער האסור שמטרתה לברר את סיבת מותם של מספרחדי קרן.\nלאחר שמאלפוי מותח את נוויל פעם נוספת מחליט האגריד לשלוח אותו ביחד עם הארי ועם כלב הציד שלופנג, והשלושה\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ה לקווירל להסיר את הטורבן העוטף את ראשו, והארי מזדעזע לגלות שפניו של וולדמורט מכסים את הצד האחורי של ראשו שלקווירל. וולדמורט/קווירל מנסה לקחת את האבן מהארי, אך כשהוא נוגע בו הבשר של גופו של קווירל מתחיל להישרף. לאחר שהם ממשיכים להיאבק הארי מאבד את הכרתו.\nהארי מתעורר במרפאה של הוגוורטס, שם מספר לו פרופסור דמבלדור\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ף. לאחר שהם ממשיכים להיאבק הארי מאבד את הכרתו.\nהארי מתעורר במרפאה של הוגוורטס, שם מספר לו פרופסור דמבלדור כי הוא שרד הודות לכך שאמו הקריבה את חייה על מנת להגן עליו, ובכך העניקה לו הגנה קסומה המונעת מוולדמורט, שאינו מסוגל להבין את כוחה של האהבה, לגעת בו. וולדמורט נטש את קווירל שמת, ולדברי דמבלדור הוא ינסה לשוב באמצע\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לחוקי הקוסמים, ומארגנים את הברחתו לשמורה ברומניה שבה עובדצ'ארלי ויזלי, אחיו של רון. דראקו מאלפוי מצליח לחשוף את סודו של האגריד, ומנסה להסגיר אותם בזמן שהם מעבירים את נורברט לנקודת המסירה בראש מגדל האסטרונומיה. למרות היעדרותו של רון, שננשך על ידי נורברט בידו, מצליחים הארי והרמיוני להגיע בבטחה לראש המגדל. אולם,\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: אינו מסוגל להבין את כוחה של האהבה, לגעת בו. וולדמורט נטש את קווירל שמת, ולדברי דמבלדור הוא ינסה לשוב באמצעים אחרים. דמבלדור הסביר להארי כי הסיבה שהצליח לקחת את האבן מהראי הייתה שהוא רצה למצוא אותה אך לא להשתמש בה, וזאת בניגוד לקווירל/וולדמורט שרצה לנצל אותה לרעה. בעקבות כך החליטו דמבלדור ופלאמל כי עדיף להשמיד את האב�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: זאת בניגוד לקווירל/וולדמורט שרצה לנצל אותה לרעה. בעקבות כך החליטו דמבלדור ופלאמל כי עדיף להשמיד את האבן.\nהארי זוכה למבקרים רבים במהלך אשפוזו, בהם רון והרמיוני המסרבים לעזוב אותו. לקראת סוף האשפוז מבקר אותו האגריד המלא ברגשות אשם על כך שגילה לקווירל את סודו של פלאפי, ומעניק להארי אלבום המכיל תמונות רבות של הור\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �יה. למרות היעדרותו של רון, שננשך על ידי נורברט בידו, מצליחים הארי והרמיוני להגיע בבטחה לראש המגדל. אולם, הם שוכחים שם את גלימת ההיעלמות שהביאו איתם, ולאחר שהם ונוויל שניסה להזהירם נתפסים על ידי פילץ', ומקבלים עונש והפחתה של מאה וחמישים נקודות בטורניר הבתים של הוגוורטס, דבר הגורם לגריפינדור לרדת למקום האחרו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: האגריד המלא ברגשות אשם על כך שגילה לקווירל את סודו של פלאפי, ומעניק להארי אלבום המכיל תמונות רבות של הוריו, לילי וג'יימס. הארי נרגש מאוד מהמתנה כיוון שמעולם לא זכה לראות תמונות של הוריו.\nבעקבות דליפת מידע על מה שאירע סביב הנסיון לגניבת הלילה הופך הארי לגיבור, דבר המתעצם לאחר שפרופסור דמבלדור מחליט להעניק לו, לרון, ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ניסה אליו נאסרה בתחילת השנה, ושם מגלים כלב תלת-ראשי גדל ממדים. הם נמלטים ממנו בקושי, אך הרמיוני מצליחה להבחין כי הכלב עומד מעל דלת ברצפת המסדרון. הארי מסיק כי הכלב שומר על הכניסה למקום שבו נמצאת החבילה שנלקחה מגרינגוטס.\nלאחר שרון מעליב את הרמיוני בעקבות ביצועיה הטובים בשיעור לחשים היא בורחת בדמעות לשירותים של הבנות. הא\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �ה המגמגם להתגוננות מפני כוחות האופל, פורץ לאולם הסעודות בצעקות על כך שטרולחדר לטירה. במקביל לפינוי התלמידים למקום מבטחים ממהרים הארי ורון להזהיר את הרמיוני, שנלכדה בשירותים על ידי הטרול. הארי ורון מצליחים לגבור על הטרול, ולאחר שמספר מורים מגיעים לזירת האירוע הרמיוני נוטלת את האשמה על עצמה, ובעקבות כך ה�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: דיאגון, רחוב לונדוני המוסתר מהמוגלגים באמצעות קסמים, ומסייע לו ברכישת הדברים הנחוצים ללימודיו בהוגוורטס. הארי למד גם על הרכוש הרב שהוריו הורישו לו, שנמצא בגרינגוטס\n\nכחודש לאחר מכן עוזב הארי את בית משפחת דרסלי, ובתחנתקינג קרוסעולה על רכבת האקספרס להוגוורטס. בתוך התחנה הוא מתיידד עם משפחת ויזלי, המראה לו �\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: � ויזלי, המספר לו כי מישהו ניסה לפרוץ לכספת בגרינגוטס. הוא פוגש לראשונה גם בהרמיוני גריינג'ר, תלמידה חכמה ממוצא מוגלגי ובעיניו מעצבנת קמעא. תלמיד נוסף בשםדראקו מאלפוי, המלווה על ידי חבריו קראב וגויל, מנסה לייעץ להארי להתרחק מרון, אך הארי דוחה זאת בגלל סלידתו מהיהירות והדעות הקדומות של מאלפוי על כל מי ש\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: תרחש ככל הנראה בזמן שהארי ביקר בכספת שלו שם, והוא גם נזכר שראה את האגריד יוצא מהבנק עם חבילה קטנה.\nבמהלך שיעור התעופה הראשון שוברנוויל לונגבוטוםאת זרועו, ומאלפוי מנצל זאת על מנת לקחת אתכדור זיכרוןהשביר שלו, ולברוח באמצעות המטאטא המעופף שלו. הארי רודף אחריו בטיסה תוך הפגנת כישרון רב, וברגע האחרון מצליח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לישייה עם האגריד לבקתה שלו, ובמהלך השיחה הוא מסרב להאמין להם שסנייפ היה זה שניסה להרוג את הארי, אך בטעות חושף שהכלב התלת-ראשי (הנקרא \"פלאפי\") שייך לו, וכי הדבר שהמפלצת שומרת עליו שייך למנהל אלבוס דמבלדור ולאדם בשםניקולס פלאמל.\nהארי, רון והרמיוני מנסים לחפש מידע אודות פלאמל, אך לא מצליחים בכך עד תחילת חופשת חג המ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: הליך מיון קצר, בהם דראקו מאלפוי שנשלח לביתסלית'ריןעוד לפני שהמצנפת מונחת באופן מלא על ראשו, אך המצנפת מנהלת דיון עם הארי וטוענת בפניו כי בשל האמביציה שלו הוא מתאים יותר לסלית'רין. הארי מתנגד לכך לאור המידע השלילי שקיבל על הבית, ולבסוף המצנפת שולחת אותו לביתגריפינדורביחד עם חברו החדש רון. בזמן הסעודה הוא מביט ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: , ובמקום להעניש אותו כפי שמאלפוי תיכנן היא מצרפת אותו לקבוצת הקווידיץ'של גריפינדור בתפקיד המחפשהאחראי על לכידת הסניץ'במהלך המשחק.\nלאחר מכן מערים מאלפוי על הארי ועל רון, וגורם להם להגיע לחדר המדליות של הוגוורטס לצורך עריכת דו-קרב קוסמים באמצע הלילה. אל הארי ורון מצטרפים נוויל והרמיוני. לאחר שהם כמעט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: יון מפונק, מגודל ושמן. החדר של הארי הוא ארון פיצפון בתחתית המדרגות, והוריו המאמצים מעולם לא חגגו את יום הולדתו.\n\nאך כל זה עומד להשתנות כשמכתב מסתורי מגיע אליו בדואר ינשופים: מכתב עם הזמנה למקום מופלא שהארי - וכל מי שיקרא עליו - לא יוכל לשכוח לעולם. כי כאן הארי מגלה לא רק חברים,ספורט אוויריוקסמים בכל דבר, החל ב\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �לד בשם רון וויזלי שבמשך השנהרוןוהארי נהפכים לחברים הכי טובים ביחד עםהרמיוני גרינג׳ר.\n\nלפני תחילת סעודת פתיחת השנה בהוגוורטס מתמיינים התלמידים החדשים לבתים השונים באמצעות מצנפת המיון. רוב התלמידים עוברים תהליך מיון קצר, בהם דראקו מאלפוי שנשלח לביתסלית'ריןעוד לפני שהמצנפת מונחת באופן מלא על ראשו, אך המצנפ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ובת שעל הראי היא אנגרמה למשפט \"לא את פניך אראה כי אם את משאלת לבך\".\nעם חזרת התלמידים מחופשת חג המולד מצליח דראקו מאלפוי להטיל קללה על נוויל לונגבוטום, והארי מנחם אותו עם שוקולד בצורת צפרדע. קלף האספנים שהיה בחפיסת הממתק מכיל הסבר שפלאמל הוא אלכימאי בן 665, שהיה היחיד שהצליח ליצור את אבן החכמים ולהפיק ממנה את סם הח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ופסור דמבלדור כיוון שהוא זומן בבהילות למשרד הקסמיםבלונדון. הארי מנחש שסנייפ זייף את ההודעה, וכי הוא ינסה לגנוב את האבן באותו לילה.\nבדרכם למסדרון של פלאפי הם נתקלים בנוויל לונגבוטום המנסה לעצור אותם כדי למנוע הורדת נקודות נוספת מגריפינדור, אך הרמיוני מצליחה לשתקו באמצעות קללת נעילת הגוף המלאה. כשהם מגיעים ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: םניקולס פלאמל.\nהארי, רון והרמיוני מנסים לחפש מידע אודות פלאמל, אך לא מצליחים בכך עד תחילת חופשת חג המולד. הארי, רון ואחיו נשארים בהוגוורטס בחג, שבמהלכו מקבל האריגלימת היעלמותמאדם לא ידוע. הארי משתמש בגלימה על מנת לחפש מידע אודות פלאמל במדור הספרים המוגבלים של ספריית הוגוורטס, אך נאלץ להימלט מסנייפ ומפילץ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ך החור ברצפה הם נתקלים בסדרת מכשולים, שכל אחד מהם דורש כישור מסוים המאפיין רק אחד מביניהם, כאשרלוח השחמט שכושףעל ידי מינרווה מקגונגל אף גורם לרוןלאבד את ההכרה. בחדר האחרון פוגש הארי לבדו את קווירל, שקושר אותו עם חבל קסום. קווירל מודה שהוא זה שהכניס את הטרול שניסה להרוג את הרמיוני בשירותים, וכי הוא היה זה שניסה ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: .\nלאחר שמאלפוי מותח את נוויל פעם נוספת מחליט האגריד לשלוח אותו ביחד עם הארי ועם כלב הציד שלופנג, והשלושה מגיעים לקרחת יער שבה הם רואים יצור כלשהו המכוסה בגלימה רוכן מעל גופה של חד קרן ושותה ממנה דם. מאלפוי נמלט באימה, והיצור מזנק לעברו של הארי, אך נהדף על ידי הקנטאורפירנזהשהגיע בפתאומיות. פירנזה מצי�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: על מנת לחפש מידע אודות פלאמל במדור הספרים המוגבלים של ספריית הוגוורטס, אך נאלץ להימלט מסנייפ ומפילץ' שהגיעו לאזור הספרייה לאחר שספר מכושף החל לצרוח. הוא נכנס בקושי רב לכיתה שאינה בשימוש המכילה ראי המכונה \"הראי של ינפתא\", ובו הוא רואה את הוריו ואת אבות אבותיו. הארי מתמכר לחזיונות של הראי עד שפרופסור דמבלדור מ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: אותו עם חבל קסום. קווירל מודה שהוא זה שהכניס את הטרול שניסה להרוג את הרמיוני בשירותים, וכי הוא היה זה שניסה להרוג אותו במהלך משחק הקווידיץ'. קווירל מודה גם שסנייפ ניסה להציל את הארי וחשד בו לאורך כל הדרך.\nקווירל מספר גם כי הוא משרתו של לורד וולדמורט, וכי לאחר שלא הצליח לגנוב את אבן החכמים מגרינגוטס החליט וולדמורט (\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לים עונש והפחתה של מאה וחמישים נקודות בטורניר הבתים של הוגוורטס, דבר הגורם לגריפינדור לרדת למקום האחרון בטבלה. העונש הנוסף שלהם הוא להצטרף אל האגריד במשימה ביער האסור שמטרתה לברר את סיבת מותם של מספרחדי קרן.\nלאחר שמאלפוי מותח את נוויל פעם נוספת מחליט האגריד לשלוח אותו ביחד עם הארי ועם כלב הציד שלופנג, והשלושה\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ה לקווירל להסיר את הטורבן העוטף את ראשו, והארי מזדעזע לגלות שפניו של וולדמורט מכסים את הצד האחורי של ראשו שלקווירל. וולדמורט/קווירל מנסה לקחת את האבן מהארי, אך כשהוא נוגע בו הבשר של גופו של קווירל מתחיל להישרף. לאחר שהם ממשיכים להיאבק הארי מאבד את הכרתו.\nהארי מתעורר במרפאה של הוגוורטס, שם מספר לו פרופסור דמבלדור\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ף. לאחר שהם ממשיכים להיאבק הארי מאבד את הכרתו.\nהארי מתעורר במרפאה של הוגוורטס, שם מספר לו פרופסור דמבלדור כי הוא שרד הודות לכך שאמו הקריבה את חייה על מנת להגן עליו, ובכך העניקה לו הגנה קסומה המונעת מוולדמורט, שאינו מסוגל להבין את כוחה של האהבה, לגעת בו. וולדמורט נטש את קווירל שמת, ולדברי דמבלדור הוא ינסה לשוב באמצע\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: אינו מסוגל להבין את כוחה של האהבה, לגעת בו. וולדמורט נטש את קווירל שמת, ולדברי דמבלדור הוא ינסה לשוב באמצעים אחרים. דמבלדור הסביר להארי כי הסיבה שהצליח לקחת את האבן מהראי הייתה שהוא רצה למצוא אותה אך לא להשתמש בה, וזאת בניגוד לקווירל/וולדמורט שרצה לנצל אותה לרעה. בעקבות כך החליטו דמבלדור ופלאמל כי עדיף להשמיד את האב�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לחוקי הקוסמים, ומארגנים את הברחתו לשמורה ברומניה שבה עובדצ'ארלי ויזלי, אחיו של רון. דראקו מאלפוי מצליח לחשוף את סודו של האגריד, ומנסה להסגיר אותם בזמן שהם מעבירים את נורברט לנקודת המסירה בראש מגדל האסטרונומיה. למרות היעדרותו של רון, שננשך על ידי נורברט בידו, מצליחים הארי והרמיוני להגיע בבטחה לראש המגדל. אולם,\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: זאת בניגוד לקווירל/וולדמורט שרצה לנצל אותה לרעה. בעקבות כך החליטו דמבלדור ופלאמל כי עדיף להשמיד את האבן.\nהארי זוכה למבקרים רבים במהלך אשפוזו, בהם רון והרמיוני המסרבים לעזוב אותו. לקראת סוף האשפוז מבקר אותו האגריד המלא ברגשות אשם על כך שגילה לקווירל את סודו של פלאפי, ומעניק להארי אלבום המכיל תמונות רבות של הור\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: האגריד המלא ברגשות אשם על כך שגילה לקווירל את סודו של פלאפי, ומעניק להארי אלבום המכיל תמונות רבות של הוריו, לילי וג'יימס. הארי נרגש מאוד מהמתנה כיוון שמעולם לא זכה לראות תמונות של הוריו.\nבעקבות דליפת מידע על מה שאירע סביב הנסיון לגניבת הלילה הופך הארי לגיבור, דבר המתעצם לאחר שפרופסור דמבלדור מחליט להעניק לו, לרון, ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �יה. למרות היעדרותו של רון, שננשך על ידי נורברט בידו, מצליחים הארי והרמיוני להגיע בבטחה לראש המגדל. אולם, הם שוכחים שם את גלימת ההיעלמות שהביאו איתם, ולאחר שהם ונוויל שניסה להזהירם נתפסים על ידי פילץ', ומקבלים עונש והפחתה של מאה וחמישים נקודות בטורניר הבתים של הוגוורטס, דבר הגורם לגריפינדור לרדת למקום האחרו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ניסה אליו נאסרה בתחילת השנה, ושם מגלים כלב תלת-ראשי גדל ממדים. הם נמלטים ממנו בקושי, אך הרמיוני מצליחה להבחין כי הכלב עומד מעל דלת ברצפת המסדרון. הארי מסיק כי הכלב שומר על הכניסה למקום שבו נמצאת החבילה שנלקחה מגרינגוטס.\nלאחר שרון מעליב את הרמיוני בעקבות ביצועיה הטובים בשיעור לחשים היא בורחת בדמעות לשירותים של הבנות. הא\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "ניסה אליו נאסרה בתחילת השנה, ושם מגלים כלב תלת-ראשי גדל ממדים. הם נמלטים ממנו בקושי, אך הרמיוני מצליחה להבחין כי הכלב עומד מעל דלת ברצפת המסדרון. הארי מסיק כי הכלב שומר על הכניסה למקום שבו נמצאת החבילה שנלקחה מגרינגוטס.\nלאחר שרון מעליב את הרמיוני בעקבות ביצועיה הטובים בשיעור לחשים היא בורחת בדמעות לשירותים של הבנות. הא"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �ה המגמגם להתגוננות מפני כוחות האופל, פורץ לאולם הסעודות בצעקות על כך שטרולחדר לטירה. במקביל לפינוי התלמידים למקום מבטחים ממהרים הארי ורון להזהיר את הרמיוני, שנלכדה בשירותים על ידי הטרול. הארי ורון מצליחים לגבור על הטרול, ולאחר שמספר מורים מגיעים לזירת האירוע הרמיוני נוטלת את האשמה על עצמה, ובעקבות כך ה�\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "�ה המגמגם להתגוננות מפני כוחות האופל, פורץ לאולם הסעודות בצעקות על כך שטרולחדר לטירה. במקביל לפינוי התלמידים למקום מבטחים ממהרים הארי ורון להזהיר את הרמיוני, שנלכדה בשירותים על ידי הטרול. הארי ורון מצליחים לגבור על הטרול, ולאחר שמספר מורים מגיעים לזירת האירוע הרמיוני נוטלת את האשמה על עצמה, ובעקבות כך ה�"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: דיאגון, רחוב לונדוני המוסתר מהמוגלגים באמצעות קסמים, ומסייע לו ברכישת הדברים הנחוצים ללימודיו בהוגוורטס. הארי למד גם על הרכוש הרב שהוריו הורישו לו, שנמצא בגרינגוטס\n\nכחודש לאחר מכן עוזב הארי את בית משפחת דרסלי, ובתחנתקינג קרוסעולה על רכבת האקספרס להוגוורטס. בתוך התחנה הוא מתיידד עם משפחת ויזלי, המראה לו �\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "דיאגון, רחוב לונדוני המוסתר מהמוגלגים באמצעות קסמים, ומסייע לו ברכישת הדברים הנחוצים ללימודיו בהוגוורטס. הארי למד גם על הרכוש הרב שהוריו הורישו לו, שנמצא בגרינגוטס\n\nכחודש לאחר מכן עוזב הארי את בית משפחת דרסלי, ובתחנתקינג קרוסעולה על רכבת האקספרס להוגוורטס. בתוך התחנה הוא מתיידד עם משפחת ויזלי, המראה לו �"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: � ויזלי, המספר לו כי מישהו ניסה לפרוץ לכספת בגרינגוטס. הוא פוגש לראשונה גם בהרמיוני גריינג'ר, תלמידה חכמה ממוצא מוגלגי ובעיניו מעצבנת קמעא. תלמיד נוסף בשםדראקו מאלפוי, המלווה על ידי חבריו קראב וגויל, מנסה לייעץ להארי להתרחק מרון, אך הארי דוחה זאת בגלל סלידתו מהיהירות והדעות הקדומות של מאלפוי על כל מי ש\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "� ויזלי, המספר לו כי מישהו ניסה לפרוץ לכספת בגרינגוטס. הוא פוגש לראשונה גם בהרמיוני גריינג'ר, תלמידה חכמה ממוצא מוגלגי ובעיניו מעצבנת קמעא. תלמיד נוסף בשםדראקו מאלפוי, המלווה על ידי חבריו קראב וגויל, מנסה לייעץ להארי להתרחק מרון, אך הארי דוחה זאת בגלל סלידתו מהיהירות והדעות הקדומות של מאלפוי על כל מי ש"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: תרחש ככל הנראה בזמן שהארי ביקר בכספת שלו שם, והוא גם נזכר שראה את האגריד יוצא מהבנק עם חבילה קטנה.\nבמהלך שיעור התעופה הראשון שוברנוויל לונגבוטוםאת זרועו, ומאלפוי מנצל זאת על מנת לקחת אתכדור זיכרוןהשביר שלו, ולברוח באמצעות המטאטא המעופף שלו. הארי רודף אחריו בטיסה תוך הפגנת כישרון רב, וברגע האחרון מצליח\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "תרחש ככל הנראה בזמן שהארי ביקר בכספת שלו שם, והוא גם נזכר שראה את האגריד יוצא מהבנק עם חבילה קטנה.\nבמהלך שיעור התעופה הראשון שוברנוויל לונגבוטוםאת זרועו, ומאלפוי מנצל זאת על מנת לקחת אתכדור זיכרוןהשביר שלו, ולברוח באמצעות המטאטא המעופף שלו. הארי רודף אחריו בטיסה תוך הפגנת כישרון רב, וברגע האחרון מצליח"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לישייה עם האגריד לבקתה שלו, ובמהלך השיחה הוא מסרב להאמין להם שסנייפ היה זה שניסה להרוג את הארי, אך בטעות חושף שהכלב התלת-ראשי (הנקרא \"פלאפי\") שייך לו, וכי הדבר שהמפלצת שומרת עליו שייך למנהל אלבוס דמבלדור ולאדם בשםניקולס פלאמל.\nהארי, רון והרמיוני מנסים לחפש מידע אודות פלאמל, אך לא מצליחים בכך עד תחילת חופשת חג המ\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "לישייה עם האגריד לבקתה שלו, ובמהלך השיחה הוא מסרב להאמין להם שסנייפ היה זה שניסה להרוג את הארי, אך בטעות חושף שהכלב התלת-ראשי (הנקרא \"פלאפי\") שייך לו, וכי הדבר שהמפלצת שומרת עליו שייך למנהל אלבוס דמבלדור ולאדם בשםניקולס פלאמל.\nהארי, רון והרמיוני מנסים לחפש מידע אודות פלאמל, אך לא מצליחים בכך עד תחילת חופשת חג המ"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: הליך מיון קצר, בהם דראקו מאלפוי שנשלח לביתסלית'ריןעוד לפני שהמצנפת מונחת באופן מלא על ראשו, אך המצנפת מנהלת דיון עם הארי וטוענת בפניו כי בשל האמביציה שלו הוא מתאים יותר לסלית'רין. הארי מתנגד לכך לאור המידע השלילי שקיבל על הבית, ולבסוף המצנפת שולחת אותו לביתגריפינדורביחד עם חברו החדש רון. בזמן הסעודה הוא מביט ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "הליך מיון קצר, בהם דראקו מאלפוי שנשלח לביתסלית'ריןעוד לפני שהמצנפת מונחת באופן מלא על ראשו, אך המצנפת מנהלת דיון עם הארי וטוענת בפניו כי בשל האמביציה שלו הוא מתאים יותר לסלית'רין. הארי מתנגד לכך לאור המידע השלילי שקיבל על הבית, ולבסוף המצנפת שולחת אותו לביתגריפינדורביחד עם חברו החדש רון. בזמן הסעודה הוא מביט ל"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: , ובמקום להעניש אותו כפי שמאלפוי תיכנן היא מצרפת אותו לקבוצת הקווידיץ'של גריפינדור בתפקיד המחפשהאחראי על לכידת הסניץ'במהלך המשחק.\nלאחר מכן מערים מאלפוי על הארי ועל רון, וגורם להם להגיע לחדר המדליות של הוגוורטס לצורך עריכת דו-קרב קוסמים באמצע הלילה. אל הארי ורון מצטרפים נוויל והרמיוני. לאחר שהם כמעט\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": ", ובמקום להעניש אותו כפי שמאלפוי תיכנן היא מצרפת אותו לקבוצת הקווידיץ'של גריפינדור בתפקיד המחפשהאחראי על לכידת הסניץ'במהלך המשחק.\nלאחר מכן מערים מאלפוי על הארי ועל רון, וגורם להם להגיע לחדר המדליות של הוגוורטס לצורך עריכת דו-קרב קוסמים באמצע הלילה. אל הארי ורון מצטרפים נוויל והרמיוני. לאחר שהם כמעט"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: יון מפונק, מגודל ושמן. החדר של הארי הוא ארון פיצפון בתחתית המדרגות, והוריו המאמצים מעולם לא חגגו את יום הולדתו.\n\nאך כל זה עומד להשתנות כשמכתב מסתורי מגיע אליו בדואר ינשופים: מכתב עם הזמנה למקום מופלא שהארי - וכל מי שיקרא עליו - לא יוכל לשכוח לעולם. כי כאן הארי מגלה לא רק חברים,ספורט אוויריוקסמים בכל דבר, החל ב\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "יון מפונק, מגודל ושמן. החדר של הארי הוא ארון פיצפון בתחתית המדרגות, והוריו המאמצים מעולם לא חגגו את יום הולדתו.\n\nאך כל זה עומד להשתנות כשמכתב מסתורי מגיע אליו בדואר ינשופים: מכתב עם הזמנה למקום מופלא שהארי - וכל מי שיקרא עליו - לא יוכל לשכוח לעולם. כי כאן הארי מגלה לא רק חברים,ספורט אוויריוקסמים בכל דבר, החל ב"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �לד בשם רון וויזלי שבמשך השנהרוןוהארי נהפכים לחברים הכי טובים ביחד עםהרמיוני גרינג׳ר.\n\nלפני תחילת סעודת פתיחת השנה בהוגוורטס מתמיינים התלמידים החדשים לבתים השונים באמצעות מצנפת המיון. רוב התלמידים עוברים תהליך מיון קצר, בהם דראקו מאלפוי שנשלח לביתסלית'ריןעוד לפני שהמצנפת מונחת באופן מלא על ראשו, אך המצנפ\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "�לד בשם רון וויזלי שבמשך השנהרוןוהארי נהפכים לחברים הכי טובים ביחד עםהרמיוני גרינג׳ר.\n\nלפני תחילת סעודת פתיחת השנה בהוגוורטס מתמיינים התלמידים החדשים לבתים השונים באמצעות מצנפת המיון. רוב התלמידים עוברים תהליך מיון קצר, בהם דראקו מאלפוי שנשלח לביתסלית'ריןעוד לפני שהמצנפת מונחת באופן מלא על ראשו, אך המצנפ"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ובת שעל הראי היא אנגרמה למשפט \"לא את פניך אראה כי אם את משאלת לבך\".\nעם חזרת התלמידים מחופשת חג המולד מצליח דראקו מאלפוי להטיל קללה על נוויל לונגבוטום, והארי מנחם אותו עם שוקולד בצורת צפרדע. קלף האספנים שהיה בחפיסת הממתק מכיל הסבר שפלאמל הוא אלכימאי בן 665, שהיה היחיד שהצליח ליצור את אבן החכמים ולהפיק ממנה את סם הח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ופסור דמבלדור כיוון שהוא זומן בבהילות למשרד הקסמיםבלונדון. הארי מנחש שסנייפ זייף את ההודעה, וכי הוא ינסה לגנוב את האבן באותו לילה.\nבדרכם למסדרון של פלאפי הם נתקלים בנוויל לונגבוטום המנסה לעצור אותם כדי למנוע הורדת נקודות נוספת מגריפינדור, אך הרמיוני מצליחה לשתקו באמצעות קללת נעילת הגוף המלאה. כשהם מגיעים ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: םניקולס פלאמל.\nהארי, רון והרמיוני מנסים לחפש מידע אודות פלאמל, אך לא מצליחים בכך עד תחילת חופשת חג המולד. הארי, רון ואחיו נשארים בהוגוורטס בחג, שבמהלכו מקבל האריגלימת היעלמותמאדם לא ידוע. הארי משתמש בגלימה על מנת לחפש מידע אודות פלאמל במדור הספרים המוגבלים של ספריית הוגוורטס, אך נאלץ להימלט מסנייפ ומפילץ\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "םניקולס פלאמל.\nהארי, רון והרמיוני מנסים לחפש מידע אודות פלאמל, אך לא מצליחים בכך עד תחילת חופשת חג המולד. הארי, רון ואחיו נשארים בהוגוורטס בחג, שבמהלכו מקבל האריגלימת היעלמותמאדם לא ידוע. הארי משתמש בגלימה על מנת לחפש מידע אודות פלאמל במדור הספרים המוגבלים של ספריית הוגוורטס, אך נאלץ להימלט מסנייפ ומפילץ"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ך החור ברצפה הם נתקלים בסדרת מכשולים, שכל אחד מהם דורש כישור מסוים המאפיין רק אחד מביניהם, כאשרלוח השחמט שכושףעל ידי מינרווה מקגונגל אף גורם לרוןלאבד את ההכרה. בחדר האחרון פוגש הארי לבדו את קווירל, שקושר אותו עם חבל קסום. קווירל מודה שהוא זה שהכניס את הטרול שניסה להרוג את הרמיוני בשירותים, וכי הוא היה זה שניסה ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: .\nלאחר שמאלפוי מותח את נוויל פעם נוספת מחליט האגריד לשלוח אותו ביחד עם הארי ועם כלב הציד שלופנג, והשלושה מגיעים לקרחת יער שבה הם רואים יצור כלשהו המכוסה בגלימה רוכן מעל גופה של חד קרן ושותה ממנה דם. מאלפוי נמלט באימה, והיצור מזנק לעברו של הארי, אך נהדף על ידי הקנטאורפירנזהשהגיע בפתאומיות. פירנזה מצי�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: על מנת לחפש מידע אודות פלאמל במדור הספרים המוגבלים של ספריית הוגוורטס, אך נאלץ להימלט מסנייפ ומפילץ' שהגיעו לאזור הספרייה לאחר שספר מכושף החל לצרוח. הוא נכנס בקושי רב לכיתה שאינה בשימוש המכילה ראי המכונה \"הראי של ינפתא\", ובו הוא רואה את הוריו ואת אבות אבותיו. הארי מתמכר לחזיונות של הראי עד שפרופסור דמבלדור מ\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "על מנת לחפש מידע אודות פלאמל במדור הספרים המוגבלים של ספריית הוגוורטס, אך נאלץ להימלט מסנייפ ומפילץ' שהגיעו לאזור הספרייה לאחר שספר מכושף החל לצרוח. הוא נכנס בקושי רב לכיתה שאינה בשימוש המכילה ראי המכונה \"הראי של ינפתא\", ובו הוא רואה את הוריו ואת אבות אבותיו. הארי מתמכר לחזיונות של הראי עד שפרופסור דמבלדור מ"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: אותו עם חבל קסום. קווירל מודה שהוא זה שהכניס את הטרול שניסה להרוג את הרמיוני בשירותים, וכי הוא היה זה שניסה להרוג אותו במהלך משחק הקווידיץ'. קווירל מודה גם שסנייפ ניסה להציל את הארי וחשד בו לאורך כל הדרך.\nקווירל מספר גם כי הוא משרתו של לורד וולדמורט, וכי לאחר שלא הצליח לגנוב את אבן החכמים מגרינגוטס החליט וולדמורט (\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לים עונש והפחתה של מאה וחמישים נקודות בטורניר הבתים של הוגוורטס, דבר הגורם לגריפינדור לרדת למקום האחרון בטבלה. העונש הנוסף שלהם הוא להצטרף אל האגריד במשימה ביער האסור שמטרתה לברר את סיבת מותם של מספרחדי קרן.\nלאחר שמאלפוי מותח את נוויל פעם נוספת מחליט האגריד לשלוח אותו ביחד עם הארי ועם כלב הציד שלופנג, והשלושה\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ה לקווירל להסיר את הטורבן העוטף את ראשו, והארי מזדעזע לגלות שפניו של וולדמורט מכסים את הצד האחורי של ראשו שלקווירל. וולדמורט/קווירל מנסה לקחת את האבן מהארי, אך כשהוא נוגע בו הבשר של גופו של קווירל מתחיל להישרף. לאחר שהם ממשיכים להיאבק הארי מאבד את הכרתו.\nהארי מתעורר במרפאה של הוגוורטס, שם מספר לו פרופסור דמבלדור\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ף. לאחר שהם ממשיכים להיאבק הארי מאבד את הכרתו.\nהארי מתעורר במרפאה של הוגוורטס, שם מספר לו פרופסור דמבלדור כי הוא שרד הודות לכך שאמו הקריבה את חייה על מנת להגן עליו, ובכך העניקה לו הגנה קסומה המונעת מוולדמורט, שאינו מסוגל להבין את כוחה של האהבה, לגעת בו. וולדמורט נטש את קווירל שמת, ולדברי דמבלדור הוא ינסה לשוב באמצע\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: אינו מסוגל להבין את כוחה של האהבה, לגעת בו. וולדמורט נטש את קווירל שמת, ולדברי דמבלדור הוא ינסה לשוב באמצעים אחרים. דמבלדור הסביר להארי כי הסיבה שהצליח לקחת את האבן מהראי הייתה שהוא רצה למצוא אותה אך לא להשתמש בה, וזאת בניגוד לקווירל/וולדמורט שרצה לנצל אותה לרעה. בעקבות כך החליטו דמבלדור ופלאמל כי עדיף להשמיד את האב�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לחוקי הקוסמים, ומארגנים את הברחתו לשמורה ברומניה שבה עובדצ'ארלי ויזלי, אחיו של רון. דראקו מאלפוי מצליח לחשוף את סודו של האגריד, ומנסה להסגיר אותם בזמן שהם מעבירים את נורברט לנקודת המסירה בראש מגדל האסטרונומיה. למרות היעדרותו של רון, שננשך על ידי נורברט בידו, מצליחים הארי והרמיוני להגיע בבטחה לראש המגדל. אולם,\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: זאת בניגוד לקווירל/וולדמורט שרצה לנצל אותה לרעה. בעקבות כך החליטו דמבלדור ופלאמל כי עדיף להשמיד את האבן.\nהארי זוכה למבקרים רבים במהלך אשפוזו, בהם רון והרמיוני המסרבים לעזוב אותו. לקראת סוף האשפוז מבקר אותו האגריד המלא ברגשות אשם על כך שגילה לקווירל את סודו של פלאפי, ומעניק להארי אלבום המכיל תמונות רבות של הור\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: האגריד המלא ברגשות אשם על כך שגילה לקווירל את סודו של פלאפי, ומעניק להארי אלבום המכיל תמונות רבות של הוריו, לילי וג'יימס. הארי נרגש מאוד מהמתנה כיוון שמעולם לא זכה לראות תמונות של הוריו.\nבעקבות דליפת מידע על מה שאירע סביב הנסיון לגניבת הלילה הופך הארי לגיבור, דבר המתעצם לאחר שפרופסור דמבלדור מחליט להעניק לו, לרון, ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �יה. למרות היעדרותו של רון, שננשך על ידי נורברט בידו, מצליחים הארי והרמיוני להגיע בבטחה לראש המגדל. אולם, הם שוכחים שם את גלימת ההיעלמות שהביאו איתם, ולאחר שהם ונוויל שניסה להזהירם נתפסים על ידי פילץ', ומקבלים עונש והפחתה של מאה וחמישים נקודות בטורניר הבתים של הוגוורטס, דבר הגורם לגריפינדור לרדת למקום האחרו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "�יה. למרות היעדרותו של רון, שננשך על ידי נורברט בידו, מצליחים הארי והרמיוני להגיע בבטחה לראש המגדל. אולם, הם שוכחים שם את גלימת ההיעלמות שהביאו איתם, ולאחר שהם ונוויל שניסה להזהירם נתפסים על ידי פילץ', ומקבלים עונש והפחתה של מאה וחמישים נקודות בטורניר הבתים של הוגוורטס, דבר הגורם לגריפינדור לרדת למקום האחרו�"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: שאירע סביב הנסיון לגניבת הלילה הופך הארי לגיבור, דבר המתעצם לאחר שפרופסור דמבלדור מחליט להעניק לו, לרון, להרמיוני ולנוויל נקודות המסייעות לגריפינדור לזכות בטורניר הבתים לראשונה זה שבע שנים. אולם, בסוף השנה הוא נאלץ לחזור לבית משפחת דרסלי. עם זאת, הוא מספר לרון ולהרמיוני בשמחה רבה כי הדרסלים לא יודעים שבתור קטי�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �אלץ לחזור לבית משפחת דרסלי. עם זאת, הוא מספר לרון ולהרמיוני בשמחה רבה כי הדרסלים לא יודעים שבתור קטין הוא אינו רשאי לבצעקסמיםמחוץ להוגוורטס, וכי הדבר יגרום למצבים משעשעים רבים במהלך החופשה.\n\nגיל\n\n6-99\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ובת שעל הראי היא אנגרמה למשפט \"לא את פניך אראה כי אם את משאלת לבך\".\nעם חזרת התלמידים מחופשת חג המולד מצליח דראקו מאלפוי להטיל קללה על נוויל לונגבוטום, והארי מנחם אותו עם שוקולד בצורת צפרדע. קלף האספנים שהיה בחפיסת הממתק מכיל הסבר שפלאמל הוא אלכימאי בן 665, שהיה היחיד שהצליח ליצור את אבן החכמים ולהפיק ממנה את סם הח\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "ובת שעל הראי היא אנגרמה למשפט \"לא את פניך אראה כי אם את משאלת לבך\".\nעם חזרת התלמידים מחופשת חג המולד מצליח דראקו מאלפוי להטיל קללה על נוויל לונגבוטום, והארי מנחם אותו עם שוקולד בצורת צפרדע. קלף האספנים שהיה בחפיסת הממתק מכיל הסבר שפלאמל הוא אלכימאי בן 665, שהיה היחיד שהצליח ליצור את אבן החכמים ולהפיק ממנה את סם הח"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ופסור דמבלדור כיוון שהוא זומן בבהילות למשרד הקסמיםבלונדון. הארי מנחש שסנייפ זייף את ההודעה, וכי הוא ינסה לגנוב את האבן באותו לילה.\nבדרכם למסדרון של פלאפי הם נתקלים בנוויל לונגבוטום המנסה לעצור אותם כדי למנוע הורדת נקודות נוספת מגריפינדור, אך הרמיוני מצליחה לשתקו באמצעות קללת נעילת הגוף המלאה. כשהם מגיעים ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: .\nלאחר שמאלפוי מותח את נוויל פעם נוספת מחליט האגריד לשלוח אותו ביחד עם הארי ועם כלב הציד שלופנג, והשלושה מגיעים לקרחת יער שבה הם רואים יצור כלשהו המכוסה בגלימה רוכן מעל גופה של חד קרן ושותה ממנה דם. מאלפוי נמלט באימה, והיצור מזנק לעברו של הארי, אך נהדף על ידי הקנטאורפירנזהשהגיע בפתאומיות. פירנזה מצי�\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": ".\nלאחר שמאלפוי מותח את נוויל פעם נוספת מחליט האגריד לשלוח אותו ביחד עם הארי ועם כלב הציד שלופנג, והשלושה מגיעים לקרחת יער שבה הם רואים יצור כלשהו המכוסה בגלימה רוכן מעל גופה של חד קרן ושותה ממנה דם. מאלפוי נמלט באימה, והיצור מזנק לעברו של הארי, אך נהדף על ידי הקנטאורפירנזהשהגיע בפתאומיות. פירנזה מצי�"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: אותו עם חבל קסום. קווירל מודה שהוא זה שהכניס את הטרול שניסה להרוג את הרמיוני בשירותים, וכי הוא היה זה שניסה להרוג אותו במהלך משחק הקווידיץ'. קווירל מודה גם שסנייפ ניסה להציל את הארי וחשד בו לאורך כל הדרך.\nקווירל מספר גם כי הוא משרתו של לורד וולדמורט, וכי לאחר שלא הצליח לגנוב את אבן החכמים מגרינגוטס החליט וולדמורט (\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לים עונש והפחתה של מאה וחמישים נקודות בטורניר הבתים של הוגוורטס, דבר הגורם לגריפינדור לרדת למקום האחרון בטבלה. העונש הנוסף שלהם הוא להצטרף אל האגריד במשימה ביער האסור שמטרתה לברר את סיבת מותם של מספרחדי קרן.\nלאחר שמאלפוי מותח את נוויל פעם נוספת מחליט האגריד לשלוח אותו ביחד עם הארי ועם כלב הציד שלופנג, והשלושה\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "לים עונש והפחתה של מאה וחמישים נקודות בטורניר הבתים של הוגוורטס, דבר הגורם לגריפינדור לרדת למקום האחרון בטבלה. העונש הנוסף שלהם הוא להצטרף אל האגריד במשימה ביער האסור שמטרתה לברר את סיבת מותם של מספרחדי קרן.\nלאחר שמאלפוי מותח את נוויל פעם נוספת מחליט האגריד לשלוח אותו ביחד עם הארי ועם כלב הציד שלופנג, והשלושה"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: ה לקווירל להסיר את הטורבן העוטף את ראשו, והארי מזדעזע לגלות שפניו של וולדמורט מכסים את הצד האחורי של ראשו שלקווירל. וולדמורט/קווירל מנסה לקחת את האבן מהארי, אך כשהוא נוגע בו הבשר של גופו של קווירל מתחיל להישרף. לאחר שהם ממשיכים להיאבק הארי מאבד את הכרתו.\nהארי מתעורר במרפאה של הוגוורטס, שם מספר לו פרופסור דמבלדור\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: אינו מסוגל להבין את כוחה של האהבה, לגעת בו. וולדמורט נטש את קווירל שמת, ולדברי דמבלדור הוא ינסה לשוב באמצעים אחרים. דמבלדור הסביר להארי כי הסיבה שהצליח לקחת את האבן מהראי הייתה שהוא רצה למצוא אותה אך לא להשתמש בה, וזאת בניגוד לקווירל/וולדמורט שרצה לנצל אותה לרעה. בעקבות כך החליטו דמבלדור ופלאמל כי עדיף להשמיד את האב�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: לחוקי הקוסמים, ומארגנים את הברחתו לשמורה ברומניה שבה עובדצ'ארלי ויזלי, אחיו של רון. דראקו מאלפוי מצליח לחשוף את סודו של האגריד, ומנסה להסגיר אותם בזמן שהם מעבירים את נורברט לנקודת המסירה בראש מגדל האסטרונומיה. למרות היעדרותו של רון, שננשך על ידי נורברט בידו, מצליחים הארי והרמיוני להגיע בבטחה לראש המגדל. אולם,\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "לחוקי הקוסמים, ומארגנים את הברחתו לשמורה ברומניה שבה עובדצ'ארלי ויזלי, אחיו של רון. דראקו מאלפוי מצליח לחשוף את סודו של האגריד, ומנסה להסגיר אותם בזמן שהם מעבירים את נורברט לנקודת המסירה בראש מגדל האסטרונומיה. למרות היעדרותו של רון, שננשך על ידי נורברט בידו, מצליחים הארי והרמיוני להגיע בבטחה לראש המגדל. אולם,"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: זאת בניגוד לקווירל/וולדמורט שרצה לנצל אותה לרעה. בעקבות כך החליטו דמבלדור ופלאמל כי עדיף להשמיד את האבן.\nהארי זוכה למבקרים רבים במהלך אשפוזו, בהם רון והרמיוני המסרבים לעזוב אותו. לקראת סוף האשפוז מבקר אותו האגריד המלא ברגשות אשם על כך שגילה לקווירל את סודו של פלאפי, ומעניק להארי אלבום המכיל תמונות רבות של הור\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: האגריד המלא ברגשות אשם על כך שגילה לקווירל את סודו של פלאפי, ומעניק להארי אלבום המכיל תמונות רבות של הוריו, לילי וג'יימס. הארי נרגש מאוד מהמתנה כיוון שמעולם לא זכה לראות תמונות של הוריו.\nבעקבות דליפת מידע על מה שאירע סביב הנסיון לגניבת הלילה הופך הארי לגיבור, דבר המתעצם לאחר שפרופסור דמבלדור מחליט להעניק לו, לרון, ל\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: �אלץ לחזור לבית משפחת דרסלי. עם זאת, הוא מספר לרון ולהרמיוני בשמחה רבה כי הדרסלים לא יודעים שבתור קטין הוא אינו רשאי לבצעקסמיםמחוץ להוגוורטס, וכי הדבר יגרום למצבים משעשעים רבים במהלך החופשה.\n\nגיל\n\n6-99\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [דמויות, חפצים קסומים, מקומות, אירועים, מוסדות]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: דמויות, מוסדות\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: דמויות, חפצים קסומים, מקומות, אירועים, מוסדות\nText: שאירע סביב הנסיון לגניבת הלילה הופך הארי לגיבור, דבר המתעצם לאחר שפרופסור דמבלדור מחליט להעניק לו, לרון, להרמיוני ולנוויל נקודות המסייעות לגריפינדור לזכות בטורניר הבתים לראשונה זה שבע שנים. אולם, בסוף השנה הוא נאלץ לחזור לבית משפחת דרסלי. עם זאת, הוא מספר לרון ולהרמיוני בשמחה רבה כי הדרסלים לא יודעים שבתור קטי�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\nYou are an AI assistant that helps a human analyst to perform general information discovery. Information discovery is the process of identifying and assessing relevant information associated with certain entities (e.g., organizations and individuals) within a network.\n\n# Goal\nWrite a comprehensive report of a community, given a list of entities that belong to the community as well as their relationships and optional associated claims. The report will be used to inform decision-makers about information associated with the community and their potential impact. The content of this report includes an overview of the community's key entities, their legal compliance, technical capabilities, reputation, and noteworthy claims.\n\n# Report Structure\n\nThe report should include the following sections:\n\n- TITLE: community's name that represents its key entities - title should be short but specific. When possible, include representative named entities in the title.\n- SUMMARY: An executive summary of the community's overall structure, how its entities are related to each other, and significant information associated with its entities.\n- IMPACT SEVERITY RATING: a float score between 0-10 that represents the severity of IMPACT posed by entities within the community.  IMPACT is the scored importance of a community.\n- RATING EXPLANATION: Give a single sentence explanation of the IMPACT severity rating.\n- DETAILED FINDINGS: A list of 5-10 key insights about the community. Each insight should have a short summary followed by multiple paragraphs of explanatory text grounded according to the grounding rules below. Be comprehensive.\n\nReturn output as a well-formed JSON-formatted string with the following format:\n    {{\n        \"title\": <report_title>,\n        \"summary\": <executive_summary>,\n        \"rating\": <impact_severity_rating>,\n        \"rating_explanation\": <rating_explanation>,\n        \"findings\": [\n            {{\n                \"summary\":<insight_1_summary>,\n                \"explanation\": <insight_1_explanation>\n            }},\n            {{\n                \"summary\":<insight_2_summary>,\n                \"explanation\": <insight_2_explanation>\n            }}\n        ]\n    }}\n\n# Grounding Rules\n\nPoints supported by data should list their data references as follows:\n\n\"This is an example sentence supported by multiple data references [Data: <dataset name> (record ids); <dataset name> (record ids)].\"\n\nDo not list more than 5 record ids in a single reference. Instead, list the top 5 most relevant record ids and add \"+more\" to indicate that there are more.\n\nFor example:\n\"Person X is the owner of Company Y and subject to many allegations of wrongdoing [Data: Reports (1), Entities (5, 7); Relationships (23); Claims (7, 2, 34, 64, 46, +more)].\"\n\nwhere 1, 5, 7, 23, 2, 34, 46, and 64 represent the id (not the index) of the relevant data record.\n\nDo not include information where the supporting evidence for it is not provided.\n\n\n# Example Input\n-----------\nText:\n\nEntities\n\nid,entity,description\n5,VERDANT OASIS PLAZA,Verdant Oasis Plaza is the location of the Unity March\n6,HARMONY ASSEMBLY,Harmony Assembly is an organization that is holding a march at Verdant Oasis Plaza\n\nRelationships\n\nid,source,target,description\n37,VERDANT OASIS PLAZA,UNITY MARCH,Verdant Oasis Plaza is the location of the Unity March\n38,VERDANT OASIS PLAZA,HARMONY ASSEMBLY,Harmony Assembly is holding a march at Verdant Oasis Plaza\n39,VERDANT OASIS PLAZA,UNITY MARCH,The Unity March is taking place at Verdant Oasis Plaza\n40,VERDANT OASIS PLAZA,TRIBUNE SPOTLIGHT,Tribune Spotlight is reporting on the Unity march taking place at Verdant Oasis Plaza\n41,VERDANT OASIS PLAZA,BAILEY ASADI,Bailey Asadi is speaking at Verdant Oasis Plaza about the march\n43,HARMONY ASSEMBLY,UNITY MARCH,Harmony Assembly is organizing the Unity March\n\nOutput:\n{{\n    \"title\": \"Verdant Oasis Plaza and Unity March\",\n    \"summary\": \"The community revolves around the Verdant Oasis Plaza, which is the location of the Unity March. The plaza has relationships with the Harmony Assembly, Unity March, and Tribune Spotlight, all of which are associated with the march event.\",\n    \"rating\": 5.0,\n    \"rating_explanation\": \"The impact severity rating is moderate due to the potential for unrest or conflict during the Unity March.\",\n    \"findings\": [\n        {{\n            \"summary\": \"Verdant Oasis Plaza as the central location\",\n            \"explanation\": \"Verdant Oasis Plaza is the central entity in this community, serving as the location for the Unity March. This plaza is the common link between all other entities, suggesting its significance in the community. The plaza's association with the march could potentially lead to issues such as public disorder or conflict, depending on the nature of the march and the reactions it provokes. [Data: Entities (5), Relationships (37, 38, 39, 40, 41,+more)]\"\n        }},\n        {{\n            \"summary\": \"Harmony Assembly's role in the community\",\n            \"explanation\": \"Harmony Assembly is another key entity in this community, being the organizer of the march at Verdant Oasis Plaza. The nature of Harmony Assembly and its march could be a potential source of threat, depending on their objectives and the reactions they provoke. The relationship between Harmony Assembly and the plaza is crucial in understanding the dynamics of this community. [Data: Entities(6), Relationships (38, 43)]\"\n        }},\n        {{\n            \"summary\": \"Unity March as a significant event\",\n            \"explanation\": \"The Unity March is a significant event taking place at Verdant Oasis Plaza. This event is a key factor in the community's dynamics and could be a potential source of threat, depending on the nature of the march and the reactions it provokes. The relationship between the march and the plaza is crucial in understanding the dynamics of this community. [Data: Relationships (39)]\"\n        }},\n        {{\n            \"summary\": \"Role of Tribune Spotlight\",\n            \"explanation\": \"Tribune Spotlight is reporting on the Unity March taking place in Verdant Oasis Plaza. This suggests that the event has attracted media attention, which could amplify its impact on the community. The role of Tribune Spotlight could be significant in shaping public perception of the event and the entities involved. [Data: Relationships (40)]\"\n        }}\n    ]\n}}\n\n\n# Real Data\n\nUse the following text for your answer. Do not make anything up in your answer.\n\nText:\n-----Entities-----\nhuman_readable_id,title,description,degree\n32,גרינגוטס,\"Gringotts is a cosmic bank that Harry Potter visited. It is also the place where Voldemort attempted to steal the Philosopher's Stone.  \n\",2\n78,לורד וולדמורט,\"לורד וולדמורט הוא אויב של הארי פוטר, ניסה לגנוב את אבן החכמים מגרינגוטס\",3\n77,פר,פר הוא משרת של לורד וולדמורט,1\n\n\n-----Relationships-----\nhuman_readable_id,source,target,description,rank\n35,האגריד,גרינגוטס,האגריד נראה יוצא מהבנק גרינגוטס עם חבילה קטנה,7\n18,אבן החכמים,לורד וולדמורט,וולדמורט רצה לגנוב את אבן החכמים,7\n41,גרינגוטס,לורד וולדמורט,וולדמורט ניסה לגנוב את אבן החכמים מגרינגוטס,5\n55,פר,לורד וולדמורט,פר משרת את לורד וולדמורט,4\n\n\nThe report should include the following sections:\n\n- TITLE: community's name that represents its key entities - title should be short but specific. When possible, include representative named entities in the title.\n- SUMMARY: An executive summary of the community's overall structure, how its entities are related to each other, and significant information associated with its entities.\n- IMPACT SEVERITY RATING: a float score between 0-10 that represents the severity of IMPACT posed by entities within the community.  IMPACT is the scored importance of a community.\n- RATING EXPLANATION: Give a single sentence explanation of the IMPACT severity rating.\n- DETAILED FINDINGS: A list of 5-10 key insights about the community. Each insight should have a short summary followed by multiple paragraphs of explanatory text grounded according to the grounding rules below. Be comprehensive.\n\nReturn output as a well-formed JSON-formatted string with the following format:\n    {{\n        \"title\": <report_title>,\n        \"summary\": <executive_summary>,\n        \"rating\": <impact_severity_rating>,\n        \"rating_explanation\": <rating_explanation>,\n        \"findings\": [\n            {{\n                \"summary\":<insight_1_summary>,\n                \"explanation\": <insight_1_explanation>\n            }},\n            {{\n                \"summary\":<insight_2_summary>,\n                \"explanation\": <insight_2_explanation>\n            }}\n        ]\n    }}\n\n# Grounding Rules\n\nPoints supported by data should list their data references as follows:\n\n\"This is an example sentence supported by multiple data references [Data: <dataset name> (record ids); <dataset name> (record ids)].\"\n\nDo not list more than 5 record ids in a single reference. Instead, list the top 5 most relevant record ids and add \"+more\" to indicate that there are more.\n\nFor example:\n\"Person X is the owner of Company Y and subject to many allegations of wrongdoing [Data: Reports (1), Entities (5, 7); Relationships (23); Claims (7, 2, 34, 64, 46, +more)].\"\n\nwhere 1, 5, 7, 23, 2, 34, 46, and 64 represent the id (not the index) of the relevant data record.\n\nDo not include information where the supporting evidence for it is not provided.\n\nOutput:"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\nYou are an AI assistant that helps a human analyst to perform general information discovery. Information discovery is the process of identifying and assessing relevant information associated with certain entities (e.g., organizations and individuals) within a network.\n\n# Goal\nWrite a comprehensive report of a community, given a list of entities that belong to the community as well as their relationships and optional associated claims. The report will be used to inform decision-makers about information associated with the community and their potential impact. The content of this report includes an overview of the community's key entities, their legal compliance, technical capabilities, reputation, and noteworthy claims.\n\n# Report Structure\n\nThe report should include the following sections:\n\n- TITLE: community's name that represents its key entities - title should be short but specific. When possible, include representative named entities in the title.\n- SUMMARY: An executive summary of the community's overall structure, how its entities are related to each other, and significant information associated with its entities.\n- IMPACT SEVERITY RATING: a float score between 0-10 that represents the severity of IMPACT posed by entities within the community.  IMPACT is the scored importance of a community.\n- RATING EXPLANATION: Give a single sentence explanation of the IMPACT severity rating.\n- DETAILED FINDINGS: A list of 5-10 key insights about the community. Each insight should have a short summary followed by multiple paragraphs of explanatory text grounded according to the grounding rules below. Be comprehensive.\n\nReturn output as a well-formed JSON-formatted string with the following format:\n    {{\n        \"title\": <report_title>,\n        \"summary\": <executive_summary>,\n        \"rating\": <impact_severity_rating>,\n        \"rating_explanation\": <rating_explanation>,\n        \"findings\": [\n            {{\n                \"summary\":<insight_1_summary>,\n                \"explanation\": <insight_1_explanation>\n            }},\n            {{\n                \"summary\":<insight_2_summary>,\n                \"explanation\": <insight_2_explanation>\n            }}\n        ]\n    }}\n\n# Grounding Rules\n\nPoints supported by data should list their data references as follows:\n\n\"This is an example sentence supported by multiple data references [Data: <dataset name> (record ids); <dataset name> (record ids)].\"\n\nDo not list more than 5 record ids in a single reference. Instead, list the top 5 most relevant record ids and add \"+more\" to indicate that there are more.\n\nFor example:\n\"Person X is the owner of Company Y and subject to many allegations of wrongdoing [Data: Reports (1), Entities (5, 7); Relationships (23); Claims (7, 2, 34, 64, 46, +more)].\"\n\nwhere 1, 5, 7, 23, 2, 34, 46, and 64 represent the id (not the index) of the relevant data record.\n\nDo not include information where the supporting evidence for it is not provided.\n\n\n# Example Input\n-----------\nText:\n\nEntities\n\nid,entity,description\n5,VERDANT OASIS PLAZA,Verdant Oasis Plaza is the location of the Unity March\n6,HARMONY ASSEMBLY,Harmony Assembly is an organization that is holding a march at Verdant Oasis Plaza\n\nRelationships\n\nid,source,target,description\n37,VERDANT OASIS PLAZA,UNITY MARCH,Verdant Oasis Plaza is the location of the Unity March\n38,VERDANT OASIS PLAZA,HARMONY ASSEMBLY,Harmony Assembly is holding a march at Verdant Oasis Plaza\n39,VERDANT OASIS PLAZA,UNITY MARCH,The Unity March is taking place at Verdant Oasis Plaza\n40,VERDANT OASIS PLAZA,TRIBUNE SPOTLIGHT,Tribune Spotlight is reporting on the Unity march taking place at Verdant Oasis Plaza\n41,VERDANT OASIS PLAZA,BAILEY ASADI,Bailey Asadi is speaking at Verdant Oasis Plaza about the march\n43,HARMONY ASSEMBLY,UNITY MARCH,Harmony Assembly is organizing the Unity March\n\nOutput:\n{{\n    \"title\": \"Verdant Oasis Plaza and Unity March\",\n    \"summary\": \"The community revolves around the Verdant Oasis Plaza, which is the location of the Unity March. The plaza has relationships with the Harmony Assembly, Unity March, and Tribune Spotlight, all of which are associated with the march event.\",\n    \"rating\": 5.0,\n    \"rating_explanation\": \"The impact severity rating is moderate due to the potential for unrest or conflict during the Unity March.\",\n    \"findings\": [\n        {{\n            \"summary\": \"Verdant Oasis Plaza as the central location\",\n            \"explanation\": \"Verdant Oasis Plaza is the central entity in this community, serving as the location for the Unity March. This plaza is the common link between all other entities, suggesting its significance in the community. The plaza's association with the march could potentially lead to issues such as public disorder or conflict, depending on the nature of the march and the reactions it provokes. [Data: Entities (5), Relationships (37, 38, 39, 40, 41,+more)]\"\n        }},\n        {{\n            \"summary\": \"Harmony Assembly's role in the community\",\n            \"explanation\": \"Harmony Assembly is another key entity in this community, being the organizer of the march at Verdant Oasis Plaza. The nature of Harmony Assembly and its march could be a potential source of threat, depending on their objectives and the reactions they provoke. The relationship between Harmony Assembly and the plaza is crucial in understanding the dynamics of this community. [Data: Entities(6), Relationships (38, 43)]\"\n        }},\n        {{\n            \"summary\": \"Unity March as a significant event\",\n            \"explanation\": \"The Unity March is a significant event taking place at Verdant Oasis Plaza. This event is a key factor in the community's dynamics and could be a potential source of threat, depending on the nature of the march and the reactions it provokes. The relationship between the march and the plaza is crucial in understanding the dynamics of this community. [Data: Relationships (39)]\"\n        }},\n        {{\n            \"summary\": \"Role of Tribune Spotlight\",\n            \"explanation\": \"Tribune Spotlight is reporting on the Unity March taking place in Verdant Oasis Plaza. This suggests that the event has attracted media attention, which could amplify its impact on the community. The role of Tribune Spotlight could be significant in shaping public perception of the event and the entities involved. [Data: Relationships (40)]\"\n        }}\n    ]\n}}\n\n\n# Real Data\n\nUse the following text for your answer. Do not make anything up in your answer.\n\nText:\n-----Entities-----\nhuman_readable_id,title,description,degree\n84,אבן האש,אבן האש היא חפץ קסום בעל כוחות רב עוצמה,3\n73,דמבלדור,\"Albus Dumbledore is a teacher and the headmaster of Hogwarts School of Witchcraft and Wizardry. He is also a close friend of Harry Potter. \n\",2\n83,קווירל/וולדמורט,קווירל/וולדמורט הוא אנטגוניסט שרוצה להשתמש באבן האש,1\n74,המשרד הקסמים,\"המשרד הקסמים בלונדון, מקום עבודתו של דמבלדור\",1\n\n\n-----Relationships-----\nhuman_readable_id,source,target,description,rank\n48,פלאמל,אבן האש,פלאמל החליט להשמיד את אבן האש,6\n54,דמבלדור,אבן האש,דמבלדור החליט להשמיד את אבן האש,5\n56,קווירל/וולדמורט,אבן האש,קווירל/וולדמורט רוצה להשתמש באבן האש לרעה,4\n53,דמבלדור,המשרד הקסמים,דמבלדור זומן למשרד הקסמים בלונדון,3\n\n\nThe report should include the following sections:\n\n- TITLE: community's name that represents its key entities - title should be short but specific. When possible, include representative named entities in the title.\n- SUMMARY: An executive summary of the community's overall structure, how its entities are related to each other, and significant information associated with its entities.\n- IMPACT SEVERITY RATING: a float score between 0-10 that represents the severity of IMPACT posed by entities within the community.  IMPACT is the scored importance of a community.\n- RATING EXPLANATION: Give a single sentence explanation of the IMPACT severity rating.\n- DETAILED FINDINGS: A list of 5-10 key insights about the community. Each insight should have a short summary followed by multiple paragraphs of explanatory text grounded according to the grounding rules below. Be comprehensive.\n\nReturn output as a well-formed JSON-formatted string with the following format:\n    {{\n        \"title\": <report_title>,\n        \"summary\": <executive_summary>,\n        \"rating\": <impact_severity_rating>,\n        \"rating_explanation\": <rating_explanation>,\n        \"findings\": [\n            {{\n                \"summary\":<insight_1_summary>,\n                \"explanation\": <insight_1_explanation>\n            }},\n            {{\n                \"summary\":<insight_2_summary>,\n                \"explanation\": <insight_2_explanation>\n            }}\n        ]\n    }}\n\n# Grounding Rules\n\nPoints supported by data should list their data references as follows:\n\n\"This is an example sentence supported by multiple data references [Data: <dataset name> (record ids); <dataset name> (record ids)].\"\n\nDo not list more than 5 record ids in a single reference. Instead, list the top 5 most relevant record ids and add \"+more\" to indicate that there are more.\n\nFor example:\n\"Person X is the owner of Company Y and subject to many allegations of wrongdoing [Data: Reports (1), Entities (5, 7); Relationships (23); Claims (7, 2, 34, 64, 46, +more)].\"\n\nwhere 1, 5, 7, 23, 2, 34, 46, and 64 represent the id (not the index) of the relevant data record.\n\nDo not include information where the supporting evidence for it is not provided.\n\nOutput:"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\nYou are an AI assistant that helps a human analyst to perform general information discovery. Information discovery is the process of identifying and assessing relevant information associated with certain entities (e.g., organizations and individuals) within a network.\n\n# Goal\nWrite a comprehensive report of a community, given a list of entities that belong to the community as well as their relationships and optional associated claims. The report will be used to inform decision-makers about information associated with the community and their potential impact. The content of this report includes an overview of the community's key entities, their legal compliance, technical capabilities, reputation, and noteworthy claims.\n\n# Report Structure\n\nThe report should include the following sections:\n\n- TITLE: community's name that represents its key entities - title should be short but specific. When possible, include representative named entities in the title.\n- SUMMARY: An executive summary of the community's overall structure, how its entities are related to each other, and significant information associated with its entities.\n- IMPACT SEVERITY RATING: a float score between 0-10 that represents the severity of IMPACT posed by entities within the community.  IMPACT is the scored importance of a community.\n- RATING EXPLANATION: Give a single sentence explanation of the IMPACT severity rating.\n- DETAILED FINDINGS: A list of 5-10 key insights about the community. Each insight should have a short summary followed by multiple paragraphs of explanatory text grounded according to the grounding rules below. Be comprehensive.\n\nReturn output as a well-formed JSON-formatted string with the following format:\n    {{\n        \"title\": <report_title>,\n        \"summary\": <executive_summary>,\n        \"rating\": <impact_severity_rating>,\n        \"rating_explanation\": <rating_explanation>,\n        \"findings\": [\n            {{\n                \"summary\":<insight_1_summary>,\n                \"explanation\": <insight_1_explanation>\n            }},\n            {{\n                \"summary\":<insight_2_summary>,\n                \"explanation\": <insight_2_explanation>\n            }}\n        ]\n    }}\n\n# Grounding Rules\n\nPoints supported by data should list their data references as follows:\n\n\"This is an example sentence supported by multiple data references [Data: <dataset name> (record ids); <dataset name> (record ids)].\"\n\nDo not list more than 5 record ids in a single reference. Instead, list the top 5 most relevant record ids and add \"+more\" to indicate that there are more.\n\nFor example:\n\"Person X is the owner of Company Y and subject to many allegations of wrongdoing [Data: Reports (1), Entities (5, 7); Relationships (23); Claims (7, 2, 34, 64, 46, +more)].\"\n\nwhere 1, 5, 7, 23, 2, 34, 46, and 64 represent the id (not the index) of the relevant data record.\n\nDo not include information where the supporting evidence for it is not provided.\n\n\n# Example Input\n-----------\nText:\n\nEntities\n\nid,entity,description\n5,VERDANT OASIS PLAZA,Verdant Oasis Plaza is the location of the Unity March\n6,HARMONY ASSEMBLY,Harmony Assembly is an organization that is holding a march at Verdant Oasis Plaza\n\nRelationships\n\nid,source,target,description\n37,VERDANT OASIS PLAZA,UNITY MARCH,Verdant Oasis Plaza is the location of the Unity March\n38,VERDANT OASIS PLAZA,HARMONY ASSEMBLY,Harmony Assembly is holding a march at Verdant Oasis Plaza\n39,VERDANT OASIS PLAZA,UNITY MARCH,The Unity March is taking place at Verdant Oasis Plaza\n40,VERDANT OASIS PLAZA,TRIBUNE SPOTLIGHT,Tribune Spotlight is reporting on the Unity march taking place at Verdant Oasis Plaza\n41,VERDANT OASIS PLAZA,BAILEY ASADI,Bailey Asadi is speaking at Verdant Oasis Plaza about the march\n43,HARMONY ASSEMBLY,UNITY MARCH,Harmony Assembly is organizing the Unity March\n\nOutput:\n{{\n    \"title\": \"Verdant Oasis Plaza and Unity March\",\n    \"summary\": \"The community revolves around the Verdant Oasis Plaza, which is the location of the Unity March. The plaza has relationships with the Harmony Assembly, Unity March, and Tribune Spotlight, all of which are associated with the march event.\",\n    \"rating\": 5.0,\n    \"rating_explanation\": \"The impact severity rating is moderate due to the potential for unrest or conflict during the Unity March.\",\n    \"findings\": [\n        {{\n            \"summary\": \"Verdant Oasis Plaza as the central location\",\n            \"explanation\": \"Verdant Oasis Plaza is the central entity in this community, serving as the location for the Unity March. This plaza is the common link between all other entities, suggesting its significance in the community. The plaza's association with the march could potentially lead to issues such as public disorder or conflict, depending on the nature of the march and the reactions it provokes. [Data: Entities (5), Relationships (37, 38, 39, 40, 41,+more)]\"\n        }},\n        {{\n            \"summary\": \"Harmony Assembly's role in the community\",\n            \"explanation\": \"Harmony Assembly is another key entity in this community, being the organizer of the march at Verdant Oasis Plaza. The nature of Harmony Assembly and its march could be a potential source of threat, depending on their objectives and the reactions they provoke. The relationship between Harmony Assembly and the plaza is crucial in understanding the dynamics of this community. [Data: Entities(6), Relationships (38, 43)]\"\n        }},\n        {{\n            \"summary\": \"Unity March as a significant event\",\n            \"explanation\": \"The Unity March is a significant event taking place at Verdant Oasis Plaza. This event is a key factor in the community's dynamics and could be a potential source of threat, depending on the nature of the march and the reactions it provokes. The relationship between the march and the plaza is crucial in understanding the dynamics of this community. [Data: Relationships (39)]\"\n        }},\n        {{\n            \"summary\": \"Role of Tribune Spotlight\",\n            \"explanation\": \"Tribune Spotlight is reporting on the Unity March taking place in Verdant Oasis Plaza. This suggests that the event has attracted media attention, which could amplify its impact on the community. The role of Tribune Spotlight could be significant in shaping public perception of the event and the entities involved. [Data: Relationships (40)]\"\n        }}\n    ]\n}}\n\n\n# Real Data\n\nUse the following text for your answer. Do not make anything up in your answer.\n\nText:\n-----Entities-----\nhuman_readable_id,title,description,degree\n45,סנייפ,\"Severus Snape is a teacher at Hogwarts School of Witchcraft and Wizardry. He has a suspicious nature towards Harry Potter and is considered an adversary by him.  During a game, Snape was bitten by the three-headed dog. There are also suspicions surrounding Snape, as he is suspected of stealing the Philosopher's Stone. \n\n\n\",5\n38,הרמיוני,\"Hermione is a good friend of Harry and Ron. She is a student at Hogwarts School of Witchcraft and Wizardry, specifically in Gryffindor house.  She was also present as a spectator during a Quidditch match. \n\n\n\",4\n47,פרופסור קווירל,\"Professor Quirrell is a teacher at Hogwarts School of Witchcraft and Wizardry.  \n\",2\n\n\n-----Relationships-----\nhuman_readable_id,source,target,description,rank\n8,הארי פוטר,סנייפ,\"Harry sees Snape receiving medical treatment after being bitten by a three-headed dog.  Later, Harry also sees Snape sneaking to the edge of the Forbidden Forest. \n\n\nLet me know if you have any other data you'd like me to summarize! \n\",21\n26,הארי,סנייפ,הארי חושד שסנייפ זייף את ההודעה וכי הוא ינסה לגנוב את האבן,21\n11,הארי פוטר,הרמיוני,הם חברים טובים,20\n34,הארי,הרמיוני,הרמיוני היא חברה של הארי,20\n42,הרמיוני,סנייפ,הרמיוני מבחינה בסנייפ המתבונן בהארי וממלמל דבר מההרמיוני מציתה בסתר את חלוק הקוסמים של סנייפ,9\n17,אבן החכמים,סנייפ,סנייפ מתעניין באבן החכמים ורוצה לגנוב אותה,9\n46,סנייפ,פרופסור קווירל,סנייפ שואל פרופסור קווירל על אבן החכמים,7\n43,הרמיוני,פרופסור קווירל,הרמיוני מפילה את פרופסור קווירל בדרכה לאזור שבו יושב סנייפ,6\n\n\nThe report should include the following sections:\n\n- TITLE: community's name that represents its key entities - title should be short but specific. When possible, include representative named entities in the title.\n- SUMMARY: An executive summary of the community's overall structure, how its entities are related to each other, and significant information associated with its entities.\n- IMPACT SEVERITY RATING: a float score between 0-10 that represents the severity of IMPACT posed by entities within the community.  IMPACT is the scored importance of a community.\n- RATING EXPLANATION: Give a single sentence explanation of the IMPACT severity rating.\n- DETAILED FINDINGS: A list of 5-10 key insights about the community. Each insight should have a short summary followed by multiple paragraphs of explanatory text grounded according to the grounding rules below. Be comprehensive.\n\nReturn output as a well-formed JSON-formatted string with the following format:\n    {{\n        \"title\": <report_title>,\n        \"summary\": <executive_summary>,\n        \"rating\": <impact_severity_rating>,\n        \"rating_explanation\": <rating_explanation>,\n        \"findings\": [\n            {{\n                \"summary\":<insight_1_summary>,\n                \"explanation\": <insight_1_explanation>\n            }},\n            {{\n                \"summary\":<insight_2_summary>,\n                \"explanation\": <insight_2_explanation>\n            }}\n        ]\n    }}\n\n# Grounding Rules\n\nPoints supported by data should list their data references as follows:\n\n\"This is an example sentence supported by multiple data references [Data: <dataset name> (record ids); <dataset name> (record ids)].\"\n\nDo not list more than 5 record ids in a single reference. Instead, list the top 5 most relevant record ids and add \"+more\" to indicate that there are more.\n\nFor example:\n\"Person X is the owner of Company Y and subject to many allegations of wrongdoing [Data: Reports (1), Entities (5, 7); Relationships (23); Claims (7, 2, 34, 64, 46, +more)].\"\n\nwhere 1, 5, 7, 23, 2, 34, 46, and 64 represent the id (not the index) of the relevant data record.\n\nDo not include information where the supporting evidence for it is not provided.\n\nOutput:"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\nYou are an AI assistant that helps a human analyst to perform general information discovery. Information discovery is the process of identifying and assessing relevant information associated with certain entities (e.g., organizations and individuals) within a network.\n\n# Goal\nWrite a comprehensive report of a community, given a list of entities that belong to the community as well as their relationships and optional associated claims. The report will be used to inform decision-makers about information associated with the community and their potential impact. The content of this report includes an overview of the community's key entities, their legal compliance, technical capabilities, reputation, and noteworthy claims.\n\n# Report Structure\n\nThe report should include the following sections:\n\n- TITLE: community's name that represents its key entities - title should be short but specific. When possible, include representative named entities in the title.\n- SUMMARY: An executive summary of the community's overall structure, how its entities are related to each other, and significant information associated with its entities.\n- IMPACT SEVERITY RATING: a float score between 0-10 that represents the severity of IMPACT posed by entities within the community.  IMPACT is the scored importance of a community.\n- RATING EXPLANATION: Give a single sentence explanation of the IMPACT severity rating.\n- DETAILED FINDINGS: A list of 5-10 key insights about the community. Each insight should have a short summary followed by multiple paragraphs of explanatory text grounded according to the grounding rules below. Be comprehensive.\n\nReturn output as a well-formed JSON-formatted string with the following format:\n    {{\n        \"title\": <report_title>,\n        \"summary\": <executive_summary>,\n        \"rating\": <impact_severity_rating>,\n        \"rating_explanation\": <rating_explanation>,\n        \"findings\": [\n            {{\n                \"summary\":<insight_1_summary>,\n                \"explanation\": <insight_1_explanation>\n            }},\n            {{\n                \"summary\":<insight_2_summary>,\n                \"explanation\": <insight_2_explanation>\n            }}\n        ]\n    }}\n\n# Grounding Rules\n\nPoints supported by data should list their data references as follows:\n\n\"This is an example sentence supported by multiple data references [Data: <dataset name> (record ids); <dataset name> (record ids)].\"\n\nDo not list more than 5 record ids in a single reference. Instead, list the top 5 most relevant record ids and add \"+more\" to indicate that there are more.\n\nFor example:\n\"Person X is the owner of Company Y and subject to many allegations of wrongdoing [Data: Reports (1), Entities (5, 7); Relationships (23); Claims (7, 2, 34, 64, 46, +more)].\"\n\nwhere 1, 5, 7, 23, 2, 34, 46, and 64 represent the id (not the index) of the relevant data record.\n\nDo not include information where the supporting evidence for it is not provided.\n\n\n# Example Input\n-----------\nText:\n\nEntities\n\nid,entity,description\n5,VERDANT OASIS PLAZA,Verdant Oasis Plaza is the location of the Unity March\n6,HARMONY ASSEMBLY,Harmony Assembly is an organization that is holding a march at Verdant Oasis Plaza\n\nRelationships\n\nid,source,target,description\n37,VERDANT OASIS PLAZA,UNITY MARCH,Verdant Oasis Plaza is the location of the Unity March\n38,VERDANT OASIS PLAZA,HARMONY ASSEMBLY,Harmony Assembly is holding a march at Verdant Oasis Plaza\n39,VERDANT OASIS PLAZA,UNITY MARCH,The Unity March is taking place at Verdant Oasis Plaza\n40,VERDANT OASIS PLAZA,TRIBUNE SPOTLIGHT,Tribune Spotlight is reporting on the Unity march taking place at Verdant Oasis Plaza\n41,VERDANT OASIS PLAZA,BAILEY ASADI,Bailey Asadi is speaking at Verdant Oasis Plaza about the march\n43,HARMONY ASSEMBLY,UNITY MARCH,Harmony Assembly is organizing the Unity March\n\nOutput:\n{{\n    \"title\": \"Verdant Oasis Plaza and Unity March\",\n    \"summary\": \"The community revolves around the Verdant Oasis Plaza, which is the location of the Unity March. The plaza has relationships with the Harmony Assembly, Unity March, and Tribune Spotlight, all of which are associated with the march event.\",\n    \"rating\": 5.0,\n    \"rating_explanation\": \"The impact severity rating is moderate due to the potential for unrest or conflict during the Unity March.\",\n    \"findings\": [\n        {{\n            \"summary\": \"Verdant Oasis Plaza as the central location\",\n            \"explanation\": \"Verdant Oasis Plaza is the central entity in this community, serving as the location for the Unity March. This plaza is the common link between all other entities, suggesting its significance in the community. The plaza's association with the march could potentially lead to issues such as public disorder or conflict, depending on the nature of the march and the reactions it provokes. [Data: Entities (5), Relationships (37, 38, 39, 40, 41,+more)]\"\n        }},\n        {{\n            \"summary\": \"Harmony Assembly's role in the community\",\n            \"explanation\": \"Harmony Assembly is another key entity in this community, being the organizer of the march at Verdant Oasis Plaza. The nature of Harmony Assembly and its march could be a potential source of threat, depending on their objectives and the reactions they provoke. The relationship between Harmony Assembly and the plaza is crucial in understanding the dynamics of this community. [Data: Entities(6), Relationships (38, 43)]\"\n        }},\n        {{\n            \"summary\": \"Unity March as a significant event\",\n            \"explanation\": \"The Unity March is a significant event taking place at Verdant Oasis Plaza. This event is a key factor in the community's dynamics and could be a potential source of threat, depending on the nature of the march and the reactions it provokes. The relationship between the march and the plaza is crucial in understanding the dynamics of this community. [Data: Relationships (39)]\"\n        }},\n        {{\n            \"summary\": \"Role of Tribune Spotlight\",\n            \"explanation\": \"Tribune Spotlight is reporting on the Unity March taking place in Verdant Oasis Plaza. This suggests that the event has attracted media attention, which could amplify its impact on the community. The role of Tribune Spotlight could be significant in shaping public perception of the event and the entities involved. [Data: Relationships (40)]\"\n        }}\n    ]\n}}\n\n\n# Real Data\n\nUse the following text for your answer. Do not make anything up in your answer.\n\nText:\n-----Entities-----\nhuman_readable_id,title,description,degree\n56,קווירל,\"קווירל is an antagonist in the Harry Potter universe. He is a former student of Hogwarts School of Witchcraft and Wizardry who served Lord Voldemort.  \n\nDuring his time at Hogwarts, קווירל attacked Hermione Granger in the bathroom and attempted to kill Harry Potter during a Quidditch match, both acts carried out on Voldemort's orders. He is also responsible for sending a troll to attack Hermione. Despite being a former student, קווירל ultimately abandoned Hogwarts and met his demise. \n\n\n\",4\n79,וולדמורט,\"וולדמורט is Harry Potter's enemy and seeks to control the world through dark magic. He is the main antagonist of the story, aiming to acquire the Philosopher's Stone.  \n\",2\n43,הטרול,\"The **Troll** is a dangerous creature that resides in Hogwarts School of Witchcraft and Wizardry. It attempted to kill Hermione Granger in the bathroom. \n\n\n\",1\n\n\n-----Relationships-----\nhuman_readable_id,source,target,description,rank\n28,הארי,קווירל,\"**Kvirl** attempts to restrain **Harry** by tying him up with a magical rope. \n\n\nLet me know if you have any other data you'd like me to summarize! \n\",20\n29,הארי,וולדמורט,וולדמורט שולח את קווירל להילחם בארי,18\n50,קווירל,וולדמורט,קווירל משרת את וולדמורט,6\n49,קווירל,האבן,קווירל הקים הגנות קסומות סביב האבן,6\n45,הטרול,קווירל,קווירל הוא זה שהכניס את הטרול בשירותים,5\n\n\nThe report should include the following sections:\n\n- TITLE: community's name that represents its key entities - title should be short but specific. When possible, include representative named entities in the title.\n- SUMMARY: An executive summary of the community's overall structure, how its entities are related to each other, and significant information associated with its entities.\n- IMPACT SEVERITY RATING: a float score between 0-10 that represents the severity of IMPACT posed by entities within the community.  IMPACT is the scored importance of a community.\n- RATING EXPLANATION: Give a single sentence explanation of the IMPACT severity rating.\n- DETAILED FINDINGS: A list of 5-10 key insights about the community. Each insight should have a short summary followed by multiple paragraphs of explanatory text grounded according to the grounding rules below. Be comprehensive.\n\nReturn output as a well-formed JSON-formatted string with the following format:\n    {{\n        \"title\": <report_title>,\n        \"summary\": <executive_summary>,\n        \"rating\": <impact_severity_rating>,\n        \"rating_explanation\": <rating_explanation>,\n        \"findings\": [\n            {{\n                \"summary\":<insight_1_summary>,\n                \"explanation\": <insight_1_explanation>\n            }},\n            {{\n                \"summary\":<insight_2_summary>,\n                \"explanation\": <insight_2_explanation>\n            }}\n        ]\n    }}\n\n# Grounding Rules\n\nPoints supported by data should list their data references as follows:\n\n\"This is an example sentence supported by multiple data references [Data: <dataset name> (record ids); <dataset name> (record ids)].\"\n\nDo not list more than 5 record ids in a single reference. Instead, list the top 5 most relevant record ids and add \"+more\" to indicate that there are more.\n\nFor example:\n\"Person X is the owner of Company Y and subject to many allegations of wrongdoing [Data: Reports (1), Entities (5, 7); Relationships (23); Claims (7, 2, 34, 64, 46, +more)].\"\n\nwhere 1, 5, 7, 23, 2, 34, 46, and 64 represent the id (not the index) of the relevant data record.\n\nDo not include information where the supporting evidence for it is not provided.\n\nOutput:"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\nYou are an AI assistant that helps a human analyst to perform general information discovery. Information discovery is the process of identifying and assessing relevant information associated with certain entities (e.g., organizations and individuals) within a network.\n\n# Goal\nWrite a comprehensive report of a community, given a list of entities that belong to the community as well as their relationships and optional associated claims. The report will be used to inform decision-makers about information associated with the community and their potential impact. The content of this report includes an overview of the community's key entities, their legal compliance, technical capabilities, reputation, and noteworthy claims.\n\n# Report Structure\n\nThe report should include the following sections:\n\n- TITLE: community's name that represents its key entities - title should be short but specific. When possible, include representative named entities in the title.\n- SUMMARY: An executive summary of the community's overall structure, how its entities are related to each other, and significant information associated with its entities.\n- IMPACT SEVERITY RATING: a float score between 0-10 that represents the severity of IMPACT posed by entities within the community.  IMPACT is the scored importance of a community.\n- RATING EXPLANATION: Give a single sentence explanation of the IMPACT severity rating.\n- DETAILED FINDINGS: A list of 5-10 key insights about the community. Each insight should have a short summary followed by multiple paragraphs of explanatory text grounded according to the grounding rules below. Be comprehensive.\n\nReturn output as a well-formed JSON-formatted string with the following format:\n    {{\n        \"title\": <report_title>,\n        \"summary\": <executive_summary>,\n        \"rating\": <impact_severity_rating>,\n        \"rating_explanation\": <rating_explanation>,\n        \"findings\": [\n            {{\n                \"summary\":<insight_1_summary>,\n                \"explanation\": <insight_1_explanation>\n            }},\n            {{\n                \"summary\":<insight_2_summary>,\n                \"explanation\": <insight_2_explanation>\n            }}\n        ]\n    }}\n\n# Grounding Rules\n\nPoints supported by data should list their data references as follows:\n\n\"This is an example sentence supported by multiple data references [Data: <dataset name> (record ids); <dataset name> (record ids)].\"\n\nDo not list more than 5 record ids in a single reference. Instead, list the top 5 most relevant record ids and add \"+more\" to indicate that there are more.\n\nFor example:\n\"Person X is the owner of Company Y and subject to many allegations of wrongdoing [Data: Reports (1), Entities (5, 7); Relationships (23); Claims (7, 2, 34, 64, 46, +more)].\"\n\nwhere 1, 5, 7, 23, 2, 34, 46, and 64 represent the id (not the index) of the relevant data record.\n\nDo not include information where the supporting evidence for it is not provided.\n\n\n# Example Input\n-----------\nText:\n\nEntities\n\nid,entity,description\n5,VERDANT OASIS PLAZA,Verdant Oasis Plaza is the location of the Unity March\n6,HARMONY ASSEMBLY,Harmony Assembly is an organization that is holding a march at Verdant Oasis Plaza\n\nRelationships\n\nid,source,target,description\n37,VERDANT OASIS PLAZA,UNITY MARCH,Verdant Oasis Plaza is the location of the Unity March\n38,VERDANT OASIS PLAZA,HARMONY ASSEMBLY,Harmony Assembly is holding a march at Verdant Oasis Plaza\n39,VERDANT OASIS PLAZA,UNITY MARCH,The Unity March is taking place at Verdant Oasis Plaza\n40,VERDANT OASIS PLAZA,TRIBUNE SPOTLIGHT,Tribune Spotlight is reporting on the Unity march taking place at Verdant Oasis Plaza\n41,VERDANT OASIS PLAZA,BAILEY ASADI,Bailey Asadi is speaking at Verdant Oasis Plaza about the march\n43,HARMONY ASSEMBLY,UNITY MARCH,Harmony Assembly is organizing the Unity March\n\nOutput:\n{{\n    \"title\": \"Verdant Oasis Plaza and Unity March\",\n    \"summary\": \"The community revolves around the Verdant Oasis Plaza, which is the location of the Unity March. The plaza has relationships with the Harmony Assembly, Unity March, and Tribune Spotlight, all of which are associated with the march event.\",\n    \"rating\": 5.0,\n    \"rating_explanation\": \"The impact severity rating is moderate due to the potential for unrest or conflict during the Unity March.\",\n    \"findings\": [\n        {{\n            \"summary\": \"Verdant Oasis Plaza as the central location\",\n            \"explanation\": \"Verdant Oasis Plaza is the central entity in this community, serving as the location for the Unity March. This plaza is the common link between all other entities, suggesting its significance in the community. The plaza's association with the march could potentially lead to issues such as public disorder or conflict, depending on the nature of the march and the reactions it provokes. [Data: Entities (5), Relationships (37, 38, 39, 40, 41,+more)]\"\n        }},\n        {{\n            \"summary\": \"Harmony Assembly's role in the community\",\n            \"explanation\": \"Harmony Assembly is another key entity in this community, being the organizer of the march at Verdant Oasis Plaza. The nature of Harmony Assembly and its march could be a potential source of threat, depending on their objectives and the reactions they provoke. The relationship between Harmony Assembly and the plaza is crucial in understanding the dynamics of this community. [Data: Entities(6), Relationships (38, 43)]\"\n        }},\n        {{\n            \"summary\": \"Unity March as a significant event\",\n            \"explanation\": \"The Unity March is a significant event taking place at Verdant Oasis Plaza. This event is a key factor in the community's dynamics and could be a potential source of threat, depending on the nature of the march and the reactions it provokes. The relationship between the march and the plaza is crucial in understanding the dynamics of this community. [Data: Relationships (39)]\"\n        }},\n        {{\n            \"summary\": \"Role of Tribune Spotlight\",\n            \"explanation\": \"Tribune Spotlight is reporting on the Unity March taking place in Verdant Oasis Plaza. This suggests that the event has attracted media attention, which could amplify its impact on the community. The role of Tribune Spotlight could be significant in shaping public perception of the event and the entities involved. [Data: Relationships (40)]\"\n        }}\n    ]\n}}\n\n\n# Real Data\n\nUse the following text for your answer. Do not make anything up in your answer.\n\nText:\n-----Entities-----\nhuman_readable_id,title,description,degree\n16,הוגוורטס,\"Hogwarts is a magical school for wizards.  It is the school where Harry Potter, Ron, and their friends learn magic. \n\n\n\",2\n50,גריפינדור,\"Gryffindor is a house of students at Hogwarts School of Witchcraft and Wizardry.  \n\",1\n21,מאלפוי,\"Malpui is a student at Hogwarts School of Witchcraft and Wizardry who appears to be trying to hinder Harry Potter during Quidditch matches. He is a negative character who provides information to the servant and advises Harry to stay away from Ron.  \n\",1\n20,רון וויזלי,רון וויזלי הוא חבר טוב של הארי פוטר,1\n67,המאגריד,\"המאגריד הוא חברו של הארי פוטר, עובד בבית הספר הוגוורטס\",1\n39,נוויל,\"Novil is a new friend who joins Harry and Ron. He is also a close friend of Harry Potter.  \n\",1\n82,פרופסור דמבלדור,\"Professor Dumbledore is a teacher at Hogwarts School of Witchcraft and Wizardry. He mentors Harry Potter and tells him about protective magic he received.  \n\",1\n87,הדרסלים,\"הדרסלים הם משפחתם של הארי פוטר, והם לא יודעים שהוא קוסם\",1\n\n\n-----Relationships-----\nhuman_readable_id,source,target,description,rank\n7,הארי פוטר,האגריד,הארי פוטר מבקר את האגריד בבקתה שלו,21\n8,הארי פוטר,סנייפ,\"Harry sees Snape receiving medical treatment after being bitten by a three-headed dog.  Later, Harry also sees Snape sneaking to the edge of the Forbidden Forest. \n\n\nLet me know if you have any other data you'd like me to summarize! \n\",21\n0,הארי פוטר,אבן החכמים,הארי פוטר מחפש את אבן החכמים,20\n11,הארי פוטר,הרמיוני,הם חברים טובים,20\n5,הארי פוטר,סוורוס סנייפ,סנייפ מתעמר בהארי,19\n10,הארי פוטר,רון,הם חברים טובים,19\n3,הארי פוטר,הרמיוני גריינג'ר,\"הארי, רון והרמיוני הם חברים\",18\n4,הארי פוטר,ולדמורט,הקללה של וולדמורט גרמה לצלקת של הארי פוטר,18\n6,הארי פוטר,הוגוורטס,\"Harry Potter learns at Hogwarts School of Witchcraft and Wizardry. \n\n\nLet me know if you have any other data you'd like me to summarize!  \n\",18\n33,הארי,הוגוורטס,הארי לומד בהוגוורטס,18\n14,הארי פוטר,גריפינדור,הארי הוא תלמיד בבית גריפינדור,17\n1,הארי פוטר,מאלפוי,מאלפוי מייעץ להארי להתרחק מרון,17\n2,הארי פוטר,רון וויזלי,הארי ורון נהפכים לחברים הכי טובים,17\n9,הארי פוטר,המאגריד,הם חברים,17\n12,הארי פוטר,נוויל,הם חברים טובים,17\n13,הארי פוטר,פרופסור דמבלדור,דמבלדור העניק לארי נקודות שסייעו לגריפינדור לזכות בטורניר הבתים,17\n15,הארי פוטר,הדרסלים,הארי פוטר גר אצל משפחת דרסלי,17\n\n\nThe report should include the following sections:\n\n- TITLE: community's name that represents its key entities - title should be short but specific. When possible, include representative named entities in the title.\n- SUMMARY: An executive summary of the community's overall structure, how its entities are related to each other, and significant information associated with its entities.\n- IMPACT SEVERITY RATING: a float score between 0-10 that represents the severity of IMPACT posed by entities within the community.  IMPACT is the scored importance of a community.\n- RATING EXPLANATION: Give a single sentence explanation of the IMPACT severity rating.\n- DETAILED FINDINGS: A list of 5-10 key insights about the community. Each insight should have a short summary followed by multiple paragraphs of explanatory text grounded according to the grounding rules below. Be comprehensive.\n\nReturn output as a well-formed JSON-formatted string with the following format:\n    {{\n        \"title\": <report_title>,\n        \"summary\": <executive_summary>,\n        \"rating\": <impact_severity_rating>,\n        \"rating_explanation\": <rating_explanation>,\n        \"findings\": [\n            {{\n                \"summary\":<insight_1_summary>,\n                \"explanation\": <insight_1_explanation>\n            }},\n            {{\n                \"summary\":<insight_2_summary>,\n                \"explanation\": <insight_2_explanation>\n            }}\n        ]\n    }}\n\n# Grounding Rules\n\nPoints supported by data should list their data references as follows:\n\n\"This is an example sentence supported by multiple data references [Data: <dataset name> (record ids); <dataset name> (record ids)].\"\n\nDo not list more than 5 record ids in a single reference. Instead, list the top 5 most relevant record ids and add \"+more\" to indicate that there are more.\n\nFor example:\n\"Person X is the owner of Company Y and subject to many allegations of wrongdoing [Data: Reports (1), Entities (5, 7); Relationships (23); Claims (7, 2, 34, 64, 46, +more)].\"\n\nwhere 1, 5, 7, 23, 2, 34, 46, and 64 represent the id (not the index) of the relevant data record.\n\nDo not include information where the supporting evidence for it is not provided.\n\nOutput:"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\nYou are an AI assistant that helps a human analyst to perform general information discovery. Information discovery is the process of identifying and assessing relevant information associated with certain entities (e.g., organizations and individuals) within a network.\n\n# Goal\nWrite a comprehensive report of a community, given a list of entities that belong to the community as well as their relationships and optional associated claims. The report will be used to inform decision-makers about information associated with the community and their potential impact. The content of this report includes an overview of the community's key entities, their legal compliance, technical capabilities, reputation, and noteworthy claims.\n\n# Report Structure\n\nThe report should include the following sections:\n\n- TITLE: community's name that represents its key entities - title should be short but specific. When possible, include representative named entities in the title.\n- SUMMARY: An executive summary of the community's overall structure, how its entities are related to each other, and significant information associated with its entities.\n- IMPACT SEVERITY RATING: a float score between 0-10 that represents the severity of IMPACT posed by entities within the community.  IMPACT is the scored importance of a community.\n- RATING EXPLANATION: Give a single sentence explanation of the IMPACT severity rating.\n- DETAILED FINDINGS: A list of 5-10 key insights about the community. Each insight should have a short summary followed by multiple paragraphs of explanatory text grounded according to the grounding rules below. Be comprehensive.\n\nReturn output as a well-formed JSON-formatted string with the following format:\n    {{\n        \"title\": <report_title>,\n        \"summary\": <executive_summary>,\n        \"rating\": <impact_severity_rating>,\n        \"rating_explanation\": <rating_explanation>,\n        \"findings\": [\n            {{\n                \"summary\":<insight_1_summary>,\n                \"explanation\": <insight_1_explanation>\n            }},\n            {{\n                \"summary\":<insight_2_summary>,\n                \"explanation\": <insight_2_explanation>\n            }}\n        ]\n    }}\n\n# Grounding Rules\n\nPoints supported by data should list their data references as follows:\n\n\"This is an example sentence supported by multiple data references [Data: <dataset name> (record ids); <dataset name> (record ids)].\"\n\nDo not list more than 5 record ids in a single reference. Instead, list the top 5 most relevant record ids and add \"+more\" to indicate that there are more.\n\nFor example:\n\"Person X is the owner of Company Y and subject to many allegations of wrongdoing [Data: Reports (1), Entities (5, 7); Relationships (23); Claims (7, 2, 34, 64, 46, +more)].\"\n\nwhere 1, 5, 7, 23, 2, 34, 46, and 64 represent the id (not the index) of the relevant data record.\n\nDo not include information where the supporting evidence for it is not provided.\n\n\n# Example Input\n-----------\nText:\n\nEntities\n\nid,entity,description\n5,VERDANT OASIS PLAZA,Verdant Oasis Plaza is the location of the Unity March\n6,HARMONY ASSEMBLY,Harmony Assembly is an organization that is holding a march at Verdant Oasis Plaza\n\nRelationships\n\nid,source,target,description\n37,VERDANT OASIS PLAZA,UNITY MARCH,Verdant Oasis Plaza is the location of the Unity March\n38,VERDANT OASIS PLAZA,HARMONY ASSEMBLY,Harmony Assembly is holding a march at Verdant Oasis Plaza\n39,VERDANT OASIS PLAZA,UNITY MARCH,The Unity March is taking place at Verdant Oasis Plaza\n40,VERDANT OASIS PLAZA,TRIBUNE SPOTLIGHT,Tribune Spotlight is reporting on the Unity march taking place at Verdant Oasis Plaza\n41,VERDANT OASIS PLAZA,BAILEY ASADI,Bailey Asadi is speaking at Verdant Oasis Plaza about the march\n43,HARMONY ASSEMBLY,UNITY MARCH,Harmony Assembly is organizing the Unity March\n\nOutput:\n{{\n    \"title\": \"Verdant Oasis Plaza and Unity March\",\n    \"summary\": \"The community revolves around the Verdant Oasis Plaza, which is the location of the Unity March. The plaza has relationships with the Harmony Assembly, Unity March, and Tribune Spotlight, all of which are associated with the march event.\",\n    \"rating\": 5.0,\n    \"rating_explanation\": \"The impact severity rating is moderate due to the potential for unrest or conflict during the Unity March.\",\n    \"findings\": [\n        {{\n            \"summary\": \"Verdant Oasis Plaza as the central location\",\n            \"explanation\": \"Verdant Oasis Plaza is the central entity in this community, serving as the location for the Unity March. This plaza is the common link between all other entities, suggesting its significance in the community. The plaza's association with the march could potentially lead to issues such as public disorder or conflict, depending on the nature of the march and the reactions it provokes. [Data: Entities (5), Relationships (37, 38, 39, 40, 41,+more)]\"\n        }},\n        {{\n            \"summary\": \"Harmony Assembly's role in the community\",\n            \"explanation\": \"Harmony Assembly is another key entity in this community, being the organizer of the march at Verdant Oasis Plaza. The nature of Harmony Assembly and its march could be a potential source of threat, depending on their objectives and the reactions they provoke. The relationship between Harmony Assembly and the plaza is crucial in understanding the dynamics of this community. [Data: Entities(6), Relationships (38, 43)]\"\n        }},\n        {{\n            \"summary\": \"Unity March as a significant event\",\n            \"explanation\": \"The Unity March is a significant event taking place at Verdant Oasis Plaza. This event is a key factor in the community's dynamics and could be a potential source of threat, depending on the nature of the march and the reactions it provokes. The relationship between the march and the plaza is crucial in understanding the dynamics of this community. [Data: Relationships (39)]\"\n        }},\n        {{\n            \"summary\": \"Role of Tribune Spotlight\",\n            \"explanation\": \"Tribune Spotlight is reporting on the Unity March taking place in Verdant Oasis Plaza. This suggests that the event has attracted media attention, which could amplify its impact on the community. The role of Tribune Spotlight could be significant in shaping public perception of the event and the entities involved. [Data: Relationships (40)]\"\n        }}\n    ]\n}}\n\n\n# Real Data\n\nUse the following text for your answer. Do not make anything up in your answer.\n\nText:\n-----Entities-----\nhuman_readable_id,title,description,degree\n1,אבן החכמים,\"אבן החכמים is a magical stone sought after by Lord Voldemort. It is described as a powerful artifact that signifies the power of its owner and serves as the central focus of the story.  According to some accounts, it was created by Nicolas Flamel and possesses the ability to produce the Elixir of Life.  It is also mentioned that Albus Dumbledore possessed the stone at one point, as Voldemort attempted to steal it from him. \n\n\n\",4\n52,פלאמל,\"פלאמל is an alchemist who successfully created the Philosopher's Stone and extracted the Elixir of Life. He is also a teacher at Hogwarts School of Witchcraft and Wizardry, working alongside Dumbledore. \n\n\n\",3\n78,לורד וולדמורט,\"לורד וולדמורט הוא אויב של הארי פוטר, ניסה לגנוב את אבן החכמים מגרינגוטס\",3\n32,גרינגוטס,\"Gringotts is a cosmic bank that Harry Potter visited. It is also the place where Voldemort attempted to steal the Philosopher's Stone.  \n\",2\n84,אבן האש,אבן האש היא חפץ קסום בעל כוחות רב עוצמה,3\n73,דמבלדור,\"Albus Dumbledore is a teacher and the headmaster of Hogwarts School of Witchcraft and Wizardry. He is also a close friend of Harry Potter. \n\",2\n83,קווירל/וולדמורט,קווירל/וולדמורט הוא אנטגוניסט שרוצה להשתמש באבן האש,1\n77,פר,פר הוא משרת של לורד וולדמורט,1\n53,סם החיים,סם החיים הוא סם שמופק מאבן החכמים ומאפשר לבן אלמוות,1\n74,המשרד הקסמים,\"המשרד הקסמים בלונדון, מקום עבודתו של דמבלדור\",1\n\n\n-----Relationships-----\nhuman_readable_id,source,target,description,rank\n0,הארי פוטר,אבן החכמים,הארי פוטר מחפש את אבן החכמים,20\n17,אבן החכמים,סנייפ,סנייפ מתעניין באבן החכמים ורוצה לגנוב אותה,9\n16,אבן החכמים,פלאמל,פלאמל יצר את אבן החכמים,7\n18,אבן החכמים,לורד וולדמורט,וולדמורט רצה לגנוב את אבן החכמים,7\n35,האגריד,גרינגוטס,האגריד נראה יוצא מהבנק גרינגוטס עם חבילה קטנה,7\n48,פלאמל,אבן האש,פלאמל החליט להשמיד את אבן האש,6\n54,דמבלדור,אבן האש,דמבלדור החליט להשמיד את אבן האש,5\n41,גרינגוטס,לורד וולדמורט,וולדמורט ניסה לגנוב את אבן החכמים מגרינגוטס,5\n56,קווירל/וולדמורט,אבן האש,קווירל/וולדמורט רוצה להשתמש באבן האש לרעה,4\n55,פר,לורד וולדמורט,פר משרת את לורד וולדמורט,4\n47,פלאמל,סם החיים,פלאמל הצליח להפיק את סם החיים מאבן החכמים,4\n53,דמבלדור,המשרד הקסמים,דמבלדור זומן למשרד הקסמים בלונדון,3\n\n\nThe report should include the following sections:\n\n- TITLE: community's name that represents its key entities - title should be short but specific. When possible, include representative named entities in the title.\n- SUMMARY: An executive summary of the community's overall structure, how its entities are related to each other, and significant information associated with its entities.\n- IMPACT SEVERITY RATING: a float score between 0-10 that represents the severity of IMPACT posed by entities within the community.  IMPACT is the scored importance of a community.\n- RATING EXPLANATION: Give a single sentence explanation of the IMPACT severity rating.\n- DETAILED FINDINGS: A list of 5-10 key insights about the community. Each insight should have a short summary followed by multiple paragraphs of explanatory text grounded according to the grounding rules below. Be comprehensive.\n\nReturn output as a well-formed JSON-formatted string with the following format:\n    {{\n        \"title\": <report_title>,\n        \"summary\": <executive_summary>,\n        \"rating\": <impact_severity_rating>,\n        \"rating_explanation\": <rating_explanation>,\n        \"findings\": [\n            {{\n                \"summary\":<insight_1_summary>,\n                \"explanation\": <insight_1_explanation>\n            }},\n            {{\n                \"summary\":<insight_2_summary>,\n                \"explanation\": <insight_2_explanation>\n            }}\n        ]\n    }}\n\n# Grounding Rules\n\nPoints supported by data should list their data references as follows:\n\n\"This is an example sentence supported by multiple data references [Data: <dataset name> (record ids); <dataset name> (record ids)].\"\n\nDo not list more than 5 record ids in a single reference. Instead, list the top 5 most relevant record ids and add \"+more\" to indicate that there are more.\n\nFor example:\n\"Person X is the owner of Company Y and subject to many allegations of wrongdoing [Data: Reports (1), Entities (5, 7); Relationships (23); Claims (7, 2, 34, 64, 46, +more)].\"\n\nwhere 1, 5, 7, 23, 2, 34, 46, and 64 represent the id (not the index) of the relevant data record.\n\nDo not include information where the supporting evidence for it is not provided.\n\nOutput:"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\nYou are an AI assistant that helps a human analyst to perform general information discovery. Information discovery is the process of identifying and assessing relevant information associated with certain entities (e.g., organizations and individuals) within a network.\n\n# Goal\nWrite a comprehensive report of a community, given a list of entities that belong to the community as well as their relationships and optional associated claims. The report will be used to inform decision-makers about information associated with the community and their potential impact. The content of this report includes an overview of the community's key entities, their legal compliance, technical capabilities, reputation, and noteworthy claims.\n\n# Report Structure\n\nThe report should include the following sections:\n\n- TITLE: community's name that represents its key entities - title should be short but specific. When possible, include representative named entities in the title.\n- SUMMARY: An executive summary of the community's overall structure, how its entities are related to each other, and significant information associated with its entities.\n- IMPACT SEVERITY RATING: a float score between 0-10 that represents the severity of IMPACT posed by entities within the community.  IMPACT is the scored importance of a community.\n- RATING EXPLANATION: Give a single sentence explanation of the IMPACT severity rating.\n- DETAILED FINDINGS: A list of 5-10 key insights about the community. Each insight should have a short summary followed by multiple paragraphs of explanatory text grounded according to the grounding rules below. Be comprehensive.\n\nReturn output as a well-formed JSON-formatted string with the following format:\n    {{\n        \"title\": <report_title>,\n        \"summary\": <executive_summary>,\n        \"rating\": <impact_severity_rating>,\n        \"rating_explanation\": <rating_explanation>,\n        \"findings\": [\n            {{\n                \"summary\":<insight_1_summary>,\n                \"explanation\": <insight_1_explanation>\n            }},\n            {{\n                \"summary\":<insight_2_summary>,\n                \"explanation\": <insight_2_explanation>\n            }}\n        ]\n    }}\n\n# Grounding Rules\n\nPoints supported by data should list their data references as follows:\n\n\"This is an example sentence supported by multiple data references [Data: <dataset name> (record ids); <dataset name> (record ids)].\"\n\nDo not list more than 5 record ids in a single reference. Instead, list the top 5 most relevant record ids and add \"+more\" to indicate that there are more.\n\nFor example:\n\"Person X is the owner of Company Y and subject to many allegations of wrongdoing [Data: Reports (1), Entities (5, 7); Relationships (23); Claims (7, 2, 34, 64, 46, +more)].\"\n\nwhere 1, 5, 7, 23, 2, 34, 46, and 64 represent the id (not the index) of the relevant data record.\n\nDo not include information where the supporting evidence for it is not provided.\n\n\n# Example Input\n-----------\nText:\n\nEntities\n\nid,entity,description\n5,VERDANT OASIS PLAZA,Verdant Oasis Plaza is the location of the Unity March\n6,HARMONY ASSEMBLY,Harmony Assembly is an organization that is holding a march at Verdant Oasis Plaza\n\nRelationships\n\nid,source,target,description\n37,VERDANT OASIS PLAZA,UNITY MARCH,Verdant Oasis Plaza is the location of the Unity March\n38,VERDANT OASIS PLAZA,HARMONY ASSEMBLY,Harmony Assembly is holding a march at Verdant Oasis Plaza\n39,VERDANT OASIS PLAZA,UNITY MARCH,The Unity March is taking place at Verdant Oasis Plaza\n40,VERDANT OASIS PLAZA,TRIBUNE SPOTLIGHT,Tribune Spotlight is reporting on the Unity march taking place at Verdant Oasis Plaza\n41,VERDANT OASIS PLAZA,BAILEY ASADI,Bailey Asadi is speaking at Verdant Oasis Plaza about the march\n43,HARMONY ASSEMBLY,UNITY MARCH,Harmony Assembly is organizing the Unity March\n\nOutput:\n{{\n    \"title\": \"Verdant Oasis Plaza and Unity March\",\n    \"summary\": \"The community revolves around the Verdant Oasis Plaza, which is the location of the Unity March. The plaza has relationships with the Harmony Assembly, Unity March, and Tribune Spotlight, all of which are associated with the march event.\",\n    \"rating\": 5.0,\n    \"rating_explanation\": \"The impact severity rating is moderate due to the potential for unrest or conflict during the Unity March.\",\n    \"findings\": [\n        {{\n            \"summary\": \"Verdant Oasis Plaza as the central location\",\n            \"explanation\": \"Verdant Oasis Plaza is the central entity in this community, serving as the location for the Unity March. This plaza is the common link between all other entities, suggesting its significance in the community. The plaza's association with the march could potentially lead to issues such as public disorder or conflict, depending on the nature of the march and the reactions it provokes. [Data: Entities (5), Relationships (37, 38, 39, 40, 41,+more)]\"\n        }},\n        {{\n            \"summary\": \"Harmony Assembly's role in the community\",\n            \"explanation\": \"Harmony Assembly is another key entity in this community, being the organizer of the march at Verdant Oasis Plaza. The nature of Harmony Assembly and its march could be a potential source of threat, depending on their objectives and the reactions they provoke. The relationship between Harmony Assembly and the plaza is crucial in understanding the dynamics of this community. [Data: Entities(6), Relationships (38, 43)]\"\n        }},\n        {{\n            \"summary\": \"Unity March as a significant event\",\n            \"explanation\": \"The Unity March is a significant event taking place at Verdant Oasis Plaza. This event is a key factor in the community's dynamics and could be a potential source of threat, depending on the nature of the march and the reactions it provokes. The relationship between the march and the plaza is crucial in understanding the dynamics of this community. [Data: Relationships (39)]\"\n        }},\n        {{\n            \"summary\": \"Role of Tribune Spotlight\",\n            \"explanation\": \"Tribune Spotlight is reporting on the Unity March taking place in Verdant Oasis Plaza. This suggests that the event has attracted media attention, which could amplify its impact on the community. The role of Tribune Spotlight could be significant in shaping public perception of the event and the entities involved. [Data: Relationships (40)]\"\n        }}\n    ]\n}}\n\n\n# Real Data\n\nUse the following text for your answer. Do not make anything up in your answer.\n\nText:\n-----Entities-----\nhuman_readable_id,title,description,degree\n27,סוורוס סנייפ,\"Severus Snape is a teacher at Hogwarts School of Witchcraft and Wizardry. He is described as a teacher who mistreats Harry Potter, exhibiting a suspicious attitude towards him throughout the series.  Snape is also portrayed as harboring suspicions about Quirrell's intentions. \n\n\n\",3\n57,האבן,\"The **אבן** is a magical artifact that Voldemort desires to possess.  It is so powerful that he seeks to control it, and Severus Snape attempts to steal it. \n\n\n\",2\n\n\n-----Relationships-----\nhuman_readable_id,source,target,description,rank\n5,הארי פוטר,סוורוס סנייפ,סנייפ מתעמר בהארי,19\n22,הארי,סוורוס סנייפ,סנייפ מתעמר בהארי,19\n49,קווירל,האבן,קווירל הקים הגנות קסומות סביב האבן,6\n40,סוורוס סנייפ,האבן,סוורוס סנייפ מנסה לגנוב את האבן,5\n\n\nThe report should include the following sections:\n\n- TITLE: community's name that represents its key entities - title should be short but specific. When possible, include representative named entities in the title.\n- SUMMARY: An executive summary of the community's overall structure, how its entities are related to each other, and significant information associated with its entities.\n- IMPACT SEVERITY RATING: a float score between 0-10 that represents the severity of IMPACT posed by entities within the community.  IMPACT is the scored importance of a community.\n- RATING EXPLANATION: Give a single sentence explanation of the IMPACT severity rating.\n- DETAILED FINDINGS: A list of 5-10 key insights about the community. Each insight should have a short summary followed by multiple paragraphs of explanatory text grounded according to the grounding rules below. Be comprehensive.\n\nReturn output as a well-formed JSON-formatted string with the following format:\n    {{\n        \"title\": <report_title>,\n        \"summary\": <executive_summary>,\n        \"rating\": <impact_severity_rating>,\n        \"rating_explanation\": <rating_explanation>,\n        \"findings\": [\n            {{\n                \"summary\":<insight_1_summary>,\n                \"explanation\": <insight_1_explanation>\n            }},\n            {{\n                \"summary\":<insight_2_summary>,\n                \"explanation\": <insight_2_explanation>\n            }}\n        ]\n    }}\n\n# Grounding Rules\n\nPoints supported by data should list their data references as follows:\n\n\"This is an example sentence supported by multiple data references [Data: <dataset name> (record ids); <dataset name> (record ids)].\"\n\nDo not list more than 5 record ids in a single reference. Instead, list the top 5 most relevant record ids and add \"+more\" to indicate that there are more.\n\nFor example:\n\"Person X is the owner of Company Y and subject to many allegations of wrongdoing [Data: Reports (1), Entities (5, 7); Relationships (23); Claims (7, 2, 34, 64, 46, +more)].\"\n\nwhere 1, 5, 7, 23, 2, 34, 46, and 64 represent the id (not the index) of the relevant data record.\n\nDo not include information where the supporting evidence for it is not provided.\n\nOutput:"}}
