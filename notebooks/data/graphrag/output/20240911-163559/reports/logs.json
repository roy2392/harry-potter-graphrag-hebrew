{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: **ישויות מרכזיות מתוך \"הארי פוטר ואבן החכמים\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - אדון וגברת דרסלי\n   - דאדלי דרסלי\n   - האגריד\n   - רון ויזלי\n   - הרמיוני גריינג'ר\n   - דראקו מאלפוי\n   - סוורוס סנייפ\n   - מינרווה מקגונגל\n   - קוויריניוס קווירל\n   - וולדמורט\n   - נוויל לונגבוטום\n   - ניקולס פלאמל\n\n2. **מקומות:**\n   - דרך פריווט מס\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: - קוויריניוס קווירל\n   - וולדמורט\n   - נוויל לונגבוטום\n   - ניקולס פלאמל\n\n2. **מקומות:**\n   - דרך פריווט מספר ארבע\n   - סמטת דיאגון\n   - גרינגוטס\n   - הוגוורטס\n   - רציף תשע ושלושה רבעים\n   - היער האסור\n   - חדר המדליות\n   - מגדל האסטרונומיה\n\n3. **חפצים קסומים:**\n   - גלימת היעלמות\n   - אבן החכמים\n   - כדור זיכרון\n   - הראי של �\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: י (מנבאת)\n   - פרופסור מקגונגל (מנהלת הוגוורטס)\n   - פרופסור לופין (מורה חדש להתגוננות מפני כוחות האופל)\n   - קורנליוס פאדג' (שר הקסמים)\n   - משפחת וויזלי (המשפחה של רון)\n\n2. **מקומות:**\n   - הוגוורטס (בית הספר לקוסמים)\n   - אזקבאן (כלא הקוסמים)\n   - קלחת הרותחת (פאב בלונדון)\n   - הוגסמיד (כפר קוסמים)\n\n3. **חפצים קסומים:**\n   - מח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ת ידע גרפי הממח\n\n**סיכום ישויות מתוך \"הארי פוטר והאסיר מאזקבאן\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - סיריוס בלק (רוצח המונים, סנדק של הארי)\n   - הרמיוני גריינג'ר (חברתו של הארי)\n   - רון וויזלי (חברו של הארי)\n   - פרופסור טרלוני (מנבאת)\n   - פרופסור מקגונגל (מנהלת הוגוורטס)\n   - פרופסור לופין (מורה חדש להתגוננות מפני כוחות האופל)\n   -\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ליות\n   - מגדל האסטרונומיה\n\n3. **חפצים קסומים:**\n   - גלימת היעלמות\n   - אבן החכמים\n   - כדור זיכרון\n   - הראי של ינפתא\n   - פלאפי (הכלב התלת-ראשי)\n   - דרקון (נורברט)\n\n4. **אירועים מרכזיים:**\n   - קבלת המכתב מהוגוורטס\n   - טיסה על מטאטא\n   - משחק קווידיץ' הראשון\n   - הקרב עם הטרול\n   - חיפוש מידע על ניקולס פלאמל\n   - הברחת נורברט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ועים מרכזיים:**\n- הארי מקבל אזהרה מדובי שלא לחזור להוגוורטס.\n- הארי ורון מתעופפים להוגוורטס במכונית המעופפת.\n- פתיחת חדר הסודות ותקיפות התלמידים.\n- גילוי מפלצת הבסיליסק והקשר שלה לטום רידל\n\n### ישויות עיקריות בספר \"הארי פוטר והנסיך חצוי-הדם\":\n\n#### דמויות:\n- **הארי פוטר** - הגיבור הראשי, תלמיד בהוגוורטס.\n- **סוורוס\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ורים ששואבים שמחה ומחשבות טובות)\n\n5. **אירועים:**\n   - בריחתו של סיריוס בלק מאזקבאן\n   - הפגישה הראשונה של הארי עם סוהרסן\n   - השיחה של מארג' עם משפחת דרסלי על הארי והוריו\n   - הנסיעה באוטונוס הלילה (אוטובוס קסום)\n\nהקשרים בין הדמויות והאירועים יכולים לשמש לבניית גרף ידע הממחיש את המערכות היחסים והקשרים בין הישויות השונות ב�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: )\n   - אזקבאן (כלא הקוסמים)\n   - קלחת הרותחת (פאב בלונדון)\n   - הוגסמיד (כפר קוסמים)\n\n3. **חפצים קסומים:**\n   - מחולל זמן (חפץ קסום של הרמיוני)\n   - מטאטא \"אש המחץ\" (מטאטא חדש בעולם הקוסמים)\n\n4. **יצורים:**\n   - סוהרסנים (יצורים ששואבים שמחה ומחשבות טובות)\n\n5. **אירועים:**\n   - בריחתו של סיריוס בלק מאזקבאן\n   - הפגישה הראשונה של הארי ע\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: � לסטריינג'** - אוכלת מוות, אחותה של נרקיסה.\n- **הוראס סלגהורן** - המורה לשיקויים החדש בהוגוורטס.\n\n#### מקומות:\n- **הוגוורטס** - בית הספר לקוסמים.\n- **הבית של הוויזלים** (מחילה) - בית משפחת ויזלי.\n- **החדר הנחיצות** - מקום מסתורי בהוגוורטס.\n- **האסטרונומיה** - מגדל בו מתרחש הקרב הסופי.\n\n#### חפצים קסומים:\n- **הורקרוקס** - פריט המכיל חלק\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: .\n- האגריד מסייע להארי ברכישת חפצים קסומים ומגלה לו על פלאפי.\n- סוורוס סנייפ מנסה להפעיל הגנות על אבן החכמים.\n- וולדמורט מנסה לגנוב את אבן החכמים באמצעות קוויריניוס קווירל. \n\nהנתונים הללו יכולים לשמש ליצירת ידע גרפי הממח\n\n**סיכום ישויות מתוך \"הארי פוטר והאסיר מאזקבאן\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - סיריוס בל�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: רים בין הדמויות והאירועים יכולים לשמש לבניית גרף ידע הממחיש את המערכות היחסים והקשרים בין הישויות השונות בסיפור.\n\n**הארי פוטר וחדר הסודות - סיכום ישויות מרכזיות:**\n\n**דמויות:**\n- הארי פוטר: קוסם, גיבור הסיפור, תלמיד בהוגוורטס.\n- רון וויזלי: חברו של הארי, תלמיד בהוגוורטס.\n- הרמיוני גריינג'ר: חברה של הארי ורון, תלמידה מו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ס ומדריך של הארי.\n- **ג'יני ויזלי** - חברה של הארי.\n- **רון ויזלי** - חברו הטוב של הארי.\n- **הרמיוני גריינג'ר** - חברה של הארי ורון.\n- **דראקו מאלפוי** - תלמיד מסלית'רין, מתנגד להארי.\n- **נרקיסה מאלפוי** - אמו של דראקו.\n- **בלטריקס לסטריינג'** - אוכלת מוות, אחותה של נרקיסה.\n- **הוראס סלגהורן** - המורה לשיקויים החדש בהוגוורטס.\n\n#### מקומות:\n-\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: עוף החול של דמבלדור.\n\n**מקומות:**\n- הוגוורטס: בית הספר לכישוף ולקוסמות.\n- חדר הסודות: חדר סודי בהוגוורטס, בו שוכנת מפלצת.\n- המחילה: בית משפחת וויזלי.\n- היער האסור: מקום מסוכן בו שוכנים יצורים קסומים.\n\n**אובייקטים קסומים:**\n- יומן טום רידל: יומן קסום שמחזיק בזכרונותיו של רידל.\n- חרב גודריק גריפנדור: חרב קסומ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ות בספר \"הארי פוטר והנסיך חצוי-הדם\":\n\n#### דמויות:\n- **הארי פוטר** - הגיבור הראשי, תלמיד בהוגוורטס.\n- **סוורוס סנייפ** - מורה להתגוננות מפני כוחות האופל, אוכל מוות, מכונה \"הנסיך חצוי הדם\".\n- **אלבוס דמבלדור** - מנהל הוגוורטס ומדריך של הארי.\n- **ג'יני ויזלי** - חברה של הארי.\n- **רון ויזלי** - חברו הטוב של הארי.\n- **הרמיוני גריינג'ר** - חבר\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: עימותים עם אוכלי המוות\n- מותו של סנייפ\n- גילוי זיכרונות סנייפ\n- הקרב הסופי בין הארי ווולדמורט\n\n**אגדות ומסורות:**\n- מעשה בשלושה אחים (אוצרות המוות)\n- האמונה באוצרות המוות\n- סיפורו של דמבלדור\n\n**מערכת יחסים בין דמויות:**\n- הארי, רון והרמיוני - חברים ושותפים להרפתקאות\n- דמבלדור - מורה והדרכה להארי\n- סנייפ - דמות מורכבת, שי�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: תפאר בעצמו.\n- דראקו מאלפוי: יריבו של הארי.\n- מירטל המייללת: רוח רפאים השוכנת בשירותים של הבנות.\n- דובי: גמדון בית המזהיר את הארי.\n- טום רידל: דמות מהעבר, בעל היומן הקסום.\n- האגריד: שומר היער, מורה בהוגוורטס.\n- פוקס: עוף החול של דמבלדור.\n\n**מקומות:**\n- הוגוורטס: בית הספר לכישוף ולקוסמות.\n- חדר הסודות: חדר סודי בהוגוורט�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: הוגוורטס.\n- **האסטרונומיה** - מגדל בו מתרחש הקרב הסופי.\n\n#### חפצים קסומים:\n- **הורקרוקס** - פריט המכיל חלק מנשמתו של קוסם (וולדמורט).\n- **ספר השיקויים של הנסיך חצוי הדם** - ספר המנחה את הארי בהכנת שיקויים.\n- **הגביע של הפלפאף** - אחד מההורקרוקסים של וולדמורט.\n- **טבעת של ואנדרולו** - הורקרוקס נוסף.\n\n#### אירועים חשובים:\n- **פג\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: פצים קסומים:**\n- הורקרוקסים של וולדמורט\n- שרביט הסמבוק\n- אבן התחייה\n- גלימת ההיעלמות\n- חרבו של גריפינדור\n- סניץ' הראשון של הארי\n- הספל של הפלפאף\n- עין מכושפת של עין הזעם מודי\n\n**מיקומים:**\n- הוגוורטס\n- בית הדרסלים\n- אחוזת מאלפוי\n- כיכר גרימולד מספר 12\n- גרינגוטס\n- מכתש גודריק\n- יער דין\n- בקתת הצדפים\n\n**איר\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: הפלפאף** - אחד מההורקרוקסים של וולדמורט.\n- **טבעת של ואנדרולו** - הורקרוקס נוסף.\n\n#### אירועים חשובים:\n- **פגישת ראש הממשלה עם שר הקסמים** - מספקת מידע על פעילות וולדמורט.\n- **ההתקפה על דמבלדור** - ס\n\n**סיכום ישויות - \"הארי פוטר ואוצרות המוות\"**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- רון וויזלי\n- הרמיוני גריינג'ר\n- וולדמורט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: :**\n- הארי, רון והרמיוני - חברים ושותפים להרפתקאות\n- דמבלדור - מורה והדרכה להארי\n- סנייפ - דמות מורכבת, שיתוף פעולה עם דמבלדור\n- וולדמורט - האויב הראשי של הארי וחבריו\n\nהסיכום הזה מכיל את הדמויות, החפצים, המקומות והאירועים המרכזיים בספר \"ה\n\n**עיקרי הישויות והקשרים מתוך \"הארי פוטר ומסדר עוף-החול\":**\n\n**דמויות מרכזיות\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: רסלים\n- אחוזת מאלפוי\n- כיכר גרימולד מספר 12\n- גרינגוטס\n- מכתש גודריק\n- יער דין\n- בקתת הצדפים\n\n**אירועים מרכזיים:**\n- מסע ההשמדת ההורקרוקסים\n- הקרב על הוגוורטס\n- החתונה של ביל ופלר\n- פריצה לגרינגוטס\n- עימותים עם אוכלי המוות\n- מותו של סנייפ\n- גילוי זיכרונות סנייפ\n- הקרב הסופי בין הארי ווולדמורט\n\n**אגדות ו\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ות - \"הארי פוטר ואוצרות המוות\"**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- רון וויזלי\n- הרמיוני גריינג'ר\n- וולדמורט (הלורד וולדמורט)\n- דמבלדור\n- סנייפ\n- אוליבנדר\n- בלטריקס לסטריינג'\n- לונה לאבגוד\n- נוויל לונגבוטום\n\n**חפצים קסומים:**\n- הורקרוקסים של וולדמורט\n- שרביט הסמבוק\n- אבן התחייה\n- גלימת ההיעלמות\n- חרבו של גריפינד\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ים קסומים:**\n- יומן טום רידל: יומן קסום שמחזיק בזכרונותיו של רידל.\n- חרב גודריק גריפנדור: חרב קסומה שהארי משתמש בה בקרב נגד הבסיליסק.\n- מכונית מעופפת (פורד אנגליה): המכונית של אביו של רון, ששימשה לבריחה.\n\n**אירועים מרכזיים:**\n- הארי מקבל אזהרה מדובי שלא לחזור להוגוורטס.\n- הארי ורון מתעופפים להוגוורטס במכונית המעו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: � והאירועים המרכזיים בספר \"ה\n\n**עיקרי הישויות והקשרים מתוך \"הארי פוטר ומסדר עוף-החול\":**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- וולדמורט\n- דמבלדור\n- רון וויזלי\n- הרמיוני גריינג'ר\n- סיריוס בלק\n- דולורס אמברידג'\n- אלאסטור מודי\n- רמוס לופין\n- נימפדורה טונקס\n- קינגסלי שאקלבולט\n- לוציוס מאלפוי\n- דאדלי דרסלי\n- ג\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ים קסומים:**\n- יומן טום רידל: יומן קסום שמחזיק בזכרונותיו של רידל.\n- חרב גודריק גריפנדור: חרב קסומה שהארי משתמש בה בקרב נגד הבסיליסק.\n- מכונית מעופפת (פורד אנגליה): המכונית של אביו של רון, ששימשה לבריחה.\n\n**אירועים מרכזיים:**\n- הארי מקבל אזהרה מדובי שלא לחזור להוגוורטס.\n- הארי ורון מתעופפים להוגוורטס במכונית המעו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ות בספר \"הארי פוטר והנסיך חצוי-הדם\":\n\n#### דמויות:\n- **הארי פוטר** - הגיבור הראשי, תלמיד בהוגוורטס.\n- **סוורוס סנייפ** - מורה להתגוננות מפני כוחות האופל, אוכל מוות, מכונה \"הנסיך חצוי הדם\".\n- **אלבוס דמבלדור** - מנהל הוגוורטס ומדריך של הארי.\n- **ג'יני ויזלי** - חברה של הארי.\n- **רון ויזלי** - חברו הטוב של הארי.\n- **הרמיוני גריינג'ר** - חבר\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: - קוויריניוס קווירל\n   - וולדמורט\n   - נוויל לונגבוטום\n   - ניקולס פלאמל\n\n2. **מקומות:**\n   - דרך פריווט מספר ארבע\n   - סמטת דיאגון\n   - גרינגוטס\n   - הוגוורטס\n   - רציף תשע ושלושה רבעים\n   - היער האסור\n   - חדר המדליות\n   - מגדל האסטרונומיה\n\n3. **חפצים קסומים:**\n   - גלימת היעלמות\n   - אבן החכמים\n   - כדור זיכרון\n   - הראי של �\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ות - \"הארי פוטר ואוצרות המוות\"**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- רון וויזלי\n- הרמיוני גריינג'ר\n- וולדמורט (הלורד וולדמורט)\n- דמבלדור\n- סנייפ\n- אוליבנדר\n- בלטריקס לסטריינג'\n- לונה לאבגוד\n- נוויל לונגבוטום\n\n**חפצים קסומים:**\n- הורקרוקסים של וולדמורט\n- שרביט הסמבוק\n- אבן התחייה\n- גלימת ההיעלמות\n- חרבו של גריפינד\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: :**\n- הארי, רון והרמיוני - חברים ושותפים להרפתקאות\n- דמבלדור - מורה והדרכה להארי\n- סנייפ - דמות מורכבת, שיתוף פעולה עם דמבלדור\n- וולדמורט - האויב הראשי של הארי וחבריו\n\nהסיכום הזה מכיל את הדמויות, החפצים, המקומות והאירועים המרכזיים בספר \"ה\n\n**עיקרי הישויות והקשרים מתוך \"הארי פוטר ומסדר עוף-החול\":**\n\n**דמויות מרכזיות\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ליות\n   - מגדל האסטרונומיה\n\n3. **חפצים קסומים:**\n   - גלימת היעלמות\n   - אבן החכמים\n   - כדור זיכרון\n   - הראי של ינפתא\n   - פלאפי (הכלב התלת-ראשי)\n   - דרקון (נורברט)\n\n4. **אירועים מרכזיים:**\n   - קבלת המכתב מהוגוורטס\n   - טיסה על מטאטא\n   - משחק קווידיץ' הראשון\n   - הקרב עם הטרול\n   - חיפוש מידע על ניקולס פלאמל\n   - הברחת נורברט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: פצים קסומים:**\n- הורקרוקסים של וולדמורט\n- שרביט הסמבוק\n- אבן התחייה\n- גלימת ההיעלמות\n- חרבו של גריפינדור\n- סניץ' הראשון של הארי\n- הספל של הפלפאף\n- עין מכושפת של עין הזעם מודי\n\n**מיקומים:**\n- הוגוורטס\n- בית הדרסלים\n- אחוזת מאלפוי\n- כיכר גרימולד מספר 12\n- גרינגוטס\n- מכתש גודריק\n- יער דין\n- בקתת הצדפים\n\n**איר\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: רסלים\n- אחוזת מאלפוי\n- כיכר גרימולד מספר 12\n- גרינגוטס\n- מכתש גודריק\n- יער דין\n- בקתת הצדפים\n\n**אירועים מרכזיים:**\n- מסע ההשמדת ההורקרוקסים\n- הקרב על הוגוורטס\n- החתונה של ביל ופלר\n- פריצה לגרינגוטס\n- עימותים עם אוכלי המוות\n- מותו של סנייפ\n- גילוי זיכרונות סנייפ\n- הקרב הסופי בין הארי ווולדמורט\n\n**אגדות ו\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: )\n   - אזקבאן (כלא הקוסמים)\n   - קלחת הרותחת (פאב בלונדון)\n   - הוגסמיד (כפר קוסמים)\n\n3. **חפצים קסומים:**\n   - מחולל זמן (חפץ קסום של הרמיוני)\n   - מטאטא \"אש המחץ\" (מטאטא חדש בעולם הקוסמים)\n\n4. **יצורים:**\n   - סוהרסנים (יצורים ששואבים שמחה ומחשבות טובות)\n\n5. **אירועים:**\n   - בריחתו של סיריוס בלק מאזקבאן\n   - הפגישה הראשונה של הארי ע\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: רים בין הדמויות והאירועים יכולים לשמש לבניית גרף ידע הממחיש את המערכות היחסים והקשרים בין הישויות השונות בסיפור.\n\n**הארי פוטר וחדר הסודות - סיכום ישויות מרכזיות:**\n\n**דמויות:**\n- הארי פוטר: קוסם, גיבור הסיפור, תלמיד בהוגוורטס.\n- רון וויזלי: חברו של הארי, תלמיד בהוגוורטס.\n- הרמיוני גריינג'ר: חברה של הארי ורון, תלמידה מו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: � לסטריינג'** - אוכלת מוות, אחותה של נרקיסה.\n- **הוראס סלגהורן** - המורה לשיקויים החדש בהוגוורטס.\n\n#### מקומות:\n- **הוגוורטס** - בית הספר לקוסמים.\n- **הבית של הוויזלים** (מחילה) - בית משפחת ויזלי.\n- **החדר הנחיצות** - מקום מסתורי בהוגוורטס.\n- **האסטרונומיה** - מגדל בו מתרחש הקרב הסופי.\n\n#### חפצים קסומים:\n- **הורקרוקס** - פריט המכיל חלק\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: הפלפאף** - אחד מההורקרוקסים של וולדמורט.\n- **טבעת של ואנדרולו** - הורקרוקס נוסף.\n\n#### אירועים חשובים:\n- **פגישת ראש הממשלה עם שר הקסמים** - מספקת מידע על פעילות וולדמורט.\n- **ההתקפה על דמבלדור** - ס\n\n**סיכום ישויות - \"הארי פוטר ואוצרות המוות\"**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- רון וויזלי\n- הרמיוני גריינג'ר\n- וולדמורט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: עוף החול של דמבלדור.\n\n**מקומות:**\n- הוגוורטס: בית הספר לכישוף ולקוסמות.\n- חדר הסודות: חדר סודי בהוגוורטס, בו שוכנת מפלצת.\n- המחילה: בית משפחת וויזלי.\n- היער האסור: מקום מסוכן בו שוכנים יצורים קסומים.\n\n**אובייקטים קסומים:**\n- יומן טום רידל: יומן קסום שמחזיק בזכרונותיו של רידל.\n- חרב גודריק גריפנדור: חרב קסומ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: תפאר בעצמו.\n- דראקו מאלפוי: יריבו של הארי.\n- מירטל המייללת: רוח רפאים השוכנת בשירותים של הבנות.\n- דובי: גמדון בית המזהיר את הארי.\n- טום רידל: דמות מהעבר, בעל היומן הקסום.\n- האגריד: שומר היער, מורה בהוגוורטס.\n- פוקס: עוף החול של דמבלדור.\n\n**מקומות:**\n- הוגוורטס: בית הספר לכישוף ולקוסמות.\n- חדר הסודות: חדר סודי בהוגוורט�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ס ומדריך של הארי.\n- **ג'יני ויזלי** - חברה של הארי.\n- **רון ויזלי** - חברו הטוב של הארי.\n- **הרמיוני גריינג'ר** - חברה של הארי ורון.\n- **דראקו מאלפוי** - תלמיד מסלית'רין, מתנגד להארי.\n- **נרקיסה מאלפוי** - אמו של דראקו.\n- **בלטריקס לסטריינג'** - אוכלת מוות, אחותה של נרקיסה.\n- **הוראס סלגהורן** - המורה לשיקויים החדש בהוגוורטס.\n\n#### מקומות:\n-\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: י (מנבאת)\n   - פרופסור מקגונגל (מנהלת הוגוורטס)\n   - פרופסור לופין (מורה חדש להתגוננות מפני כוחות האופל)\n   - קורנליוס פאדג' (שר הקסמים)\n   - משפחת וויזלי (המשפחה של רון)\n\n2. **מקומות:**\n   - הוגוורטס (בית הספר לקוסמים)\n   - אזקבאן (כלא הקוסמים)\n   - קלחת הרותחת (פאב בלונדון)\n   - הוגסמיד (כפר קוסמים)\n\n3. **חפצים קסומים:**\n   - מח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: עימותים עם אוכלי המוות\n- מותו של סנייפ\n- גילוי זיכרונות סנייפ\n- הקרב הסופי בין הארי ווולדמורט\n\n**אגדות ומסורות:**\n- מעשה בשלושה אחים (אוצרות המוות)\n- האמונה באוצרות המוות\n- סיפורו של דמבלדור\n\n**מערכת יחסים בין דמויות:**\n- הארי, רון והרמיוני - חברים ושותפים להרפתקאות\n- דמבלדור - מורה והדרכה להארי\n- סנייפ - דמות מורכבת, שי�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: **ישויות מרכזיות מתוך \"הארי פוטר ואבן החכמים\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - אדון וגברת דרסלי\n   - דאדלי דרסלי\n   - האגריד\n   - רון ויזלי\n   - הרמיוני גריינג'ר\n   - דראקו מאלפוי\n   - סוורוס סנייפ\n   - מינרווה מקגונגל\n   - קוויריניוס קווירל\n   - וולדמורט\n   - נוויל לונגבוטום\n   - ניקולס פלאמל\n\n2. **מקומות:**\n   - דרך פריווט מס\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ת ידע גרפי הממח\n\n**סיכום ישויות מתוך \"הארי פוטר והאסיר מאזקבאן\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - סיריוס בלק (רוצח המונים, סנדק של הארי)\n   - הרמיוני גריינג'ר (חברתו של הארי)\n   - רון וויזלי (חברו של הארי)\n   - פרופסור טרלוני (מנבאת)\n   - פרופסור מקגונגל (מנהלת הוגוורטס)\n   - פרופסור לופין (מורה חדש להתגוננות מפני כוחות האופל)\n   -\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ועים מרכזיים:**\n- הארי מקבל אזהרה מדובי שלא לחזור להוגוורטס.\n- הארי ורון מתעופפים להוגוורטס במכונית המעופפת.\n- פתיחת חדר הסודות ותקיפות התלמידים.\n- גילוי מפלצת הבסיליסק והקשר שלה לטום רידל\n\n### ישויות עיקריות בספר \"הארי פוטר והנסיך חצוי-הדם\":\n\n#### דמויות:\n- **הארי פוטר** - הגיבור הראשי, תלמיד בהוגוורטס.\n- **סוורוס\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: הוגוורטס.\n- **האסטרונומיה** - מגדל בו מתרחש הקרב הסופי.\n\n#### חפצים קסומים:\n- **הורקרוקס** - פריט המכיל חלק מנשמתו של קוסם (וולדמורט).\n- **ספר השיקויים של הנסיך חצוי הדם** - ספר המנחה את הארי בהכנת שיקויים.\n- **הגביע של הפלפאף** - אחד מההורקרוקסים של וולדמורט.\n- **טבעת של ואנדרולו** - הורקרוקס נוסף.\n\n#### אירועים חשובים:\n- **פג\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: .\n- האגריד מסייע להארי ברכישת חפצים קסומים ומגלה לו על פלאפי.\n- סוורוס סנייפ מנסה להפעיל הגנות על אבן החכמים.\n- וולדמורט מנסה לגנוב את אבן החכמים באמצעות קוויריניוס קווירל. \n\nהנתונים הללו יכולים לשמש ליצירת ידע גרפי הממח\n\n**סיכום ישויות מתוך \"הארי פוטר והאסיר מאזקבאן\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - סיריוס בל�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: � והאירועים המרכזיים בספר \"ה\n\n**עיקרי הישויות והקשרים מתוך \"הארי פוטר ומסדר עוף-החול\":**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- וולדמורט\n- דמבלדור\n- רון וויזלי\n- הרמיוני גריינג'ר\n- סיריוס בלק\n- דולורס אמברידג'\n- אלאסטור מודי\n- רמוס לופין\n- נימפדורה טונקס\n- קינגסלי שאקלבולט\n- לוציוס מאלפוי\n- דאדלי דרסלי\n- ג\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ' והארי פוטר (עימותים)\n- סיריוס בלק והארי פוטר (סנדק ודוד)\n- לוציוס מאלפוי ואוכלי המוות (קשרים עם האויבים)\n- צבא דמבלדור (קבוצת תלמידים נגד משרד הקסמים) \n\n**סיכום:**\nהעלילה עוסקת במאבק של הארי וחבריו מול משרד הקסמים המסתיר את חזרתו של וולדמורט. הם מקימים את\n\n## סיכום ישויות מ\"הארי פוטר וגביע האש\"\n\n### דמויות עיקריות:\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: לאסטור מודי\n- רמוס לופין\n- נימפדורה טונקס\n- קינגסלי שאקלבולט\n- לוציוס מאלפוי\n- דאדלי דרסלי\n- ג'יני וויזלי\n- פרד וויזלי\n- ג'ורג' וויזלי\n- סיביל טרלוני\n- קריצ'ר\n\n**מקומות:**\n- הוגוורטס\n- משרד הקסמים\n- כיכר גרימולד מספר 12 (מפקדת מסדר עוף החול)\n- מחלקת המסתורין\n- יער האסור\n\n**אובייקטים קסומים:**\n- נב\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: לאסטור מודי\n- רמוס לופין\n- נימפדורה טונקס\n- קינגסלי שאקלבולט\n- לוציוס מאלפוי\n- דאדלי דרסלי\n- ג'יני וויזלי\n- פרד וויזלי\n- ג'ורג' וויזלי\n- סיביל טרלוני\n- קריצ'ר\n\n**מקומות:**\n- הוגוורטס\n- משרד הקסמים\n- כיכר גרימולד מספר 12 (מפקדת מסדר עוף החול)\n- מחלקת המסתורין\n- יער האסור\n\n**אובייקטים קסומים:**\n- נב\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ' והארי פוטר (עימותים)\n- סיריוס בלק והארי פוטר (סנדק ודוד)\n- לוציוס מאלפוי ואוכלי המוות (קשרים עם האויבים)\n- צבא דמבלדור (קבוצת תלמידים נגד משרד הקסמים) \n\n**סיכום:**\nהעלילה עוסקת במאבק של הארי וחבריו מול משרד הקסמים המסתיר את חזרתו של וולדמורט. הם מקימים את\n\n## סיכום ישויות מ\"הארי פוטר וגביע האש\"\n\n### דמויות עיקריות:\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ס ומדריך של הארי.\n- **ג'יני ויזלי** - חברה של הארי.\n- **רון ויזלי** - חברו הטוב של הארי.\n- **הרמיוני גריינג'ר** - חברה של הארי ורון.\n- **דראקו מאלפוי** - תלמיד מסלית'רין, מתנגד להארי.\n- **נרקיסה מאלפוי** - אמו של דראקו.\n- **בלטריקס לסטריינג'** - אוכלת מוות, אחותה של נרקיסה.\n- **הוראס סלגהורן** - המורה לשיקויים החדש בהוגוורטס.\n\n#### מקומות:\n-\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ות בספר \"הארי פוטר והנסיך חצוי-הדם\":\n\n#### דמויות:\n- **הארי פוטר** - הגיבור הראשי, תלמיד בהוגוורטס.\n- **סוורוס סנייפ** - מורה להתגוננות מפני כוחות האופל, אוכל מוות, מכונה \"הנסיך חצוי הדם\".\n- **אלבוס דמבלדור** - מנהל הוגוורטס ומדריך של הארי.\n- **ג'יני ויזלי** - חברה של הארי.\n- **רון ויזלי** - חברו הטוב של הארי.\n- **הרמיוני גריינג'ר** - חבר\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ועים מרכזיים:**\n- הארי מקבל אזהרה מדובי שלא לחזור להוגוורטס.\n- הארי ורון מתעופפים להוגוורטס במכונית המעופפת.\n- פתיחת חדר הסודות ותקיפות התלמידים.\n- גילוי מפלצת הבסיליסק והקשר שלה לטום רידל\n\n### ישויות עיקריות בספר \"הארי פוטר והנסיך חצוי-הדם\":\n\n#### דמויות:\n- **הארי פוטר** - הגיבור הראשי, תלמיד בהוגוורטס.\n- **סוורוס\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: .\n- האגריד מסייע להארי ברכישת חפצים קסומים ומגלה לו על פלאפי.\n- סוורוס סנייפ מנסה להפעיל הגנות על אבן החכמים.\n- וולדמורט מנסה לגנוב את אבן החכמים באמצעות קוויריניוס קווירל. \n\nהנתונים הללו יכולים לשמש ליצירת ידע גרפי הממח\n\n**סיכום ישויות מתוך \"הארי פוטר והאסיר מאזקבאן\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - סיריוס בל�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: **ישויות מרכזיות מתוך \"הארי פוטר ואבן החכמים\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - אדון וגברת דרסלי\n   - דאדלי דרסלי\n   - האגריד\n   - רון ויזלי\n   - הרמיוני גריינג'ר\n   - דראקו מאלפוי\n   - סוורוס סנייפ\n   - מינרווה מקגונגל\n   - קוויריניוס קווירל\n   - וולדמורט\n   - נוויל לונגבוטום\n   - ניקולס פלאמל\n\n2. **מקומות:**\n   - דרך פריווט מס\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: � לסטריינג'** - אוכלת מוות, אחותה של נרקיסה.\n- **הוראס סלגהורן** - המורה לשיקויים החדש בהוגוורטס.\n\n#### מקומות:\n- **הוגוורטס** - בית הספר לקוסמים.\n- **הבית של הוויזלים** (מחילה) - בית משפחת ויזלי.\n- **החדר הנחיצות** - מקום מסתורי בהוגוורטס.\n- **האסטרונומיה** - מגדל בו מתרחש הקרב הסופי.\n\n#### חפצים קסומים:\n- **הורקרוקס** - פריט המכיל חלק\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: הפלפאף** - אחד מההורקרוקסים של וולדמורט.\n- **טבעת של ואנדרולו** - הורקרוקס נוסף.\n\n#### אירועים חשובים:\n- **פגישת ראש הממשלה עם שר הקסמים** - מספקת מידע על פעילות וולדמורט.\n- **ההתקפה על דמבלדור** - ס\n\n**סיכום ישויות - \"הארי פוטר ואוצרות המוות\"**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- רון וויזלי\n- הרמיוני גריינג'ר\n- וולדמורט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: � והאירועים המרכזיים בספר \"ה\n\n**עיקרי הישויות והקשרים מתוך \"הארי פוטר ומסדר עוף-החול\":**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- וולדמורט\n- דמבלדור\n- רון וויזלי\n- הרמיוני גריינג'ר\n- סיריוס בלק\n- דולורס אמברידג'\n- אלאסטור מודי\n- רמוס לופין\n- נימפדורה טונקס\n- קינגסלי שאקלבולט\n- לוציוס מאלפוי\n- דאדלי דרסלי\n- ג\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: עימותים עם אוכלי המוות\n- מותו של סנייפ\n- גילוי זיכרונות סנייפ\n- הקרב הסופי בין הארי ווולדמורט\n\n**אגדות ומסורות:**\n- מעשה בשלושה אחים (אוצרות המוות)\n- האמונה באוצרות המוות\n- סיפורו של דמבלדור\n\n**מערכת יחסים בין דמויות:**\n- הארי, רון והרמיוני - חברים ושותפים להרפתקאות\n- דמבלדור - מורה והדרכה להארי\n- סנייפ - דמות מורכבת, שי�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ות - \"הארי פוטר ואוצרות המוות\"**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- רון וויזלי\n- הרמיוני גריינג'ר\n- וולדמורט (הלורד וולדמורט)\n- דמבלדור\n- סנייפ\n- אוליבנדר\n- בלטריקס לסטריינג'\n- לונה לאבגוד\n- נוויל לונגבוטום\n\n**חפצים קסומים:**\n- הורקרוקסים של וולדמורט\n- שרביט הסמבוק\n- אבן התחייה\n- גלימת ההיעלמות\n- חרבו של גריפינד\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: הוגוורטס.\n- **האסטרונומיה** - מגדל בו מתרחש הקרב הסופי.\n\n#### חפצים קסומים:\n- **הורקרוקס** - פריט המכיל חלק מנשמתו של קוסם (וולדמורט).\n- **ספר השיקויים של הנסיך חצוי הדם** - ספר המנחה את הארי בהכנת שיקויים.\n- **הגביע של הפלפאף** - אחד מההורקרוקסים של וולדמורט.\n- **טבעת של ואנדרולו** - הורקרוקס נוסף.\n\n#### אירועים חשובים:\n- **פג\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ליות\n   - מגדל האסטרונומיה\n\n3. **חפצים קסומים:**\n   - גלימת היעלמות\n   - אבן החכמים\n   - כדור זיכרון\n   - הראי של ינפתא\n   - פלאפי (הכלב התלת-ראשי)\n   - דרקון (נורברט)\n\n4. **אירועים מרכזיים:**\n   - קבלת המכתב מהוגוורטס\n   - טיסה על מטאטא\n   - משחק קווידיץ' הראשון\n   - הקרב עם הטרול\n   - חיפוש מידע על ניקולס פלאמל\n   - הברחת נורברט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: י (מנבאת)\n   - פרופסור מקגונגל (מנהלת הוגוורטס)\n   - פרופסור לופין (מורה חדש להתגוננות מפני כוחות האופל)\n   - קורנליוס פאדג' (שר הקסמים)\n   - משפחת וויזלי (המשפחה של רון)\n\n2. **מקומות:**\n   - הוגוורטס (בית הספר לקוסמים)\n   - אזקבאן (כלא הקוסמים)\n   - קלחת הרותחת (פאב בלונדון)\n   - הוגסמיד (כפר קוסמים)\n\n3. **חפצים קסומים:**\n   - מח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ים קסומים:**\n- יומן טום רידל: יומן קסום שמחזיק בזכרונותיו של רידל.\n- חרב גודריק גריפנדור: חרב קסומה שהארי משתמש בה בקרב נגד הבסיליסק.\n- מכונית מעופפת (פורד אנגליה): המכונית של אביו של רון, ששימשה לבריחה.\n\n**אירועים מרכזיים:**\n- הארי מקבל אזהרה מדובי שלא לחזור להוגוורטס.\n- הארי ורון מתעופפים להוגוורטס במכונית המעו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: :**\n- הארי, רון והרמיוני - חברים ושותפים להרפתקאות\n- דמבלדור - מורה והדרכה להארי\n- סנייפ - דמות מורכבת, שיתוף פעולה עם דמבלדור\n- וולדמורט - האויב הראשי של הארי וחבריו\n\nהסיכום הזה מכיל את הדמויות, החפצים, המקומות והאירועים המרכזיים בספר \"ה\n\n**עיקרי הישויות והקשרים מתוך \"הארי פוטר ומסדר עוף-החול\":**\n\n**דמויות מרכזיות\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: רים בין הדמויות והאירועים יכולים לשמש לבניית גרף ידע הממחיש את המערכות היחסים והקשרים בין הישויות השונות בסיפור.\n\n**הארי פוטר וחדר הסודות - סיכום ישויות מרכזיות:**\n\n**דמויות:**\n- הארי פוטר: קוסם, גיבור הסיפור, תלמיד בהוגוורטס.\n- רון וויזלי: חברו של הארי, תלמיד בהוגוורטס.\n- הרמיוני גריינג'ר: חברה של הארי ורון, תלמידה מו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: - קוויריניוס קווירל\n   - וולדמורט\n   - נוויל לונגבוטום\n   - ניקולס פלאמל\n\n2. **מקומות:**\n   - דרך פריווט מספר ארבע\n   - סמטת דיאגון\n   - גרינגוטס\n   - הוגוורטס\n   - רציף תשע ושלושה רבעים\n   - היער האסור\n   - חדר המדליות\n   - מגדל האסטרונומיה\n\n3. **חפצים קסומים:**\n   - גלימת היעלמות\n   - אבן החכמים\n   - כדור זיכרון\n   - הראי של �\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ת ידע גרפי הממח\n\n**סיכום ישויות מתוך \"הארי פוטר והאסיר מאזקבאן\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - סיריוס בלק (רוצח המונים, סנדק של הארי)\n   - הרמיוני גריינג'ר (חברתו של הארי)\n   - רון וויזלי (חברו של הארי)\n   - פרופסור טרלוני (מנבאת)\n   - פרופסור מקגונגל (מנהלת הוגוורטס)\n   - פרופסור לופין (מורה חדש להתגוננות מפני כוחות האופל)\n   -\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: רסלים\n- אחוזת מאלפוי\n- כיכר גרימולד מספר 12\n- גרינגוטס\n- מכתש גודריק\n- יער דין\n- בקתת הצדפים\n\n**אירועים מרכזיים:**\n- מסע ההשמדת ההורקרוקסים\n- הקרב על הוגוורטס\n- החתונה של ביל ופלר\n- פריצה לגרינגוטס\n- עימותים עם אוכלי המוות\n- מותו של סנייפ\n- גילוי זיכרונות סנייפ\n- הקרב הסופי בין הארי ווולדמורט\n\n**אגדות ו\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: תפאר בעצמו.\n- דראקו מאלפוי: יריבו של הארי.\n- מירטל המייללת: רוח רפאים השוכנת בשירותים של הבנות.\n- דובי: גמדון בית המזהיר את הארי.\n- טום רידל: דמות מהעבר, בעל היומן הקסום.\n- האגריד: שומר היער, מורה בהוגוורטס.\n- פוקס: עוף החול של דמבלדור.\n\n**מקומות:**\n- הוגוורטס: בית הספר לכישוף ולקוסמות.\n- חדר הסודות: חדר סודי בהוגוורט�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: )\n   - אזקבאן (כלא הקוסמים)\n   - קלחת הרותחת (פאב בלונדון)\n   - הוגסמיד (כפר קוסמים)\n\n3. **חפצים קסומים:**\n   - מחולל זמן (חפץ קסום של הרמיוני)\n   - מטאטא \"אש המחץ\" (מטאטא חדש בעולם הקוסמים)\n\n4. **יצורים:**\n   - סוהרסנים (יצורים ששואבים שמחה ומחשבות טובות)\n\n5. **אירועים:**\n   - בריחתו של סיריוס בלק מאזקבאן\n   - הפגישה הראשונה של הארי ע\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: פצים קסומים:**\n- הורקרוקסים של וולדמורט\n- שרביט הסמבוק\n- אבן התחייה\n- גלימת ההיעלמות\n- חרבו של גריפינדור\n- סניץ' הראשון של הארי\n- הספל של הפלפאף\n- עין מכושפת של עין הזעם מודי\n\n**מיקומים:**\n- הוגוורטס\n- בית הדרסלים\n- אחוזת מאלפוי\n- כיכר גרימולד מספר 12\n- גרינגוטס\n- מכתש גודריק\n- יער דין\n- בקתת הצדפים\n\n**איר\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: עוף החול של דמבלדור.\n\n**מקומות:**\n- הוגוורטס: בית הספר לכישוף ולקוסמות.\n- חדר הסודות: חדר סודי בהוגוורטס, בו שוכנת מפלצת.\n- המחילה: בית משפחת וויזלי.\n- היער האסור: מקום מסוכן בו שוכנים יצורים קסומים.\n\n**אובייקטים קסומים:**\n- יומן טום רידל: יומן קסום שמחזיק בזכרונותיו של רידל.\n- חרב גודריק גריפנדור: חרב קסומ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ' והארי פוטר (עימותים)\n- סיריוס בלק והארי פוטר (סנדק ודוד)\n- לוציוס מאלפוי ואוכלי המוות (קשרים עם האויבים)\n- צבא דמבלדור (קבוצת תלמידים נגד משרד הקסמים) \n\n**סיכום:**\nהעלילה עוסקת במאבק של הארי וחבריו מול משרד הקסמים המסתיר את חזרתו של וולדמורט. הם מקימים את\n\n## סיכום ישויות מ\"הארי פוטר וגביע האש\"\n\n### דמויות עיקריות:\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: לאסטור מודי\n- רמוס לופין\n- נימפדורה טונקס\n- קינגסלי שאקלבולט\n- לוציוס מאלפוי\n- דאדלי דרסלי\n- ג'יני וויזלי\n- פרד וויזלי\n- ג'ורג' וויזלי\n- סיביל טרלוני\n- קריצ'ר\n\n**מקומות:**\n- הוגוורטס\n- משרד הקסמים\n- כיכר גרימולד מספר 12 (מפקדת מסדר עוף החול)\n- מחלקת המסתורין\n- יער האסור\n\n**אובייקטים קסומים:**\n- נב\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ס ומדריך של הארי.\n- **ג'יני ויזלי** - חברה של הארי.\n- **רון ויזלי** - חברו הטוב של הארי.\n- **הרמיוני גריינג'ר** - חברה של הארי ורון.\n- **דראקו מאלפוי** - תלמיד מסלית'רין, מתנגד להארי.\n- **נרקיסה מאלפוי** - אמו של דראקו.\n- **בלטריקס לסטריינג'** - אוכלת מוות, אחותה של נרקיסה.\n- **הוראס סלגהורן** - המורה לשיקויים החדש בהוגוורטס.\n\n#### מקומות:\n-\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ות - \"הארי פוטר ואוצרות המוות\"**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- רון וויזלי\n- הרמיוני גריינג'ר\n- וולדמורט (הלורד וולדמורט)\n- דמבלדור\n- סנייפ\n- אוליבנדר\n- בלטריקס לסטריינג'\n- לונה לאבגוד\n- נוויל לונגבוטום\n\n**חפצים קסומים:**\n- הורקרוקסים של וולדמורט\n- שרביט הסמבוק\n- אבן התחייה\n- גלימת ההיעלמות\n- חרבו של גריפינד\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: עימותים עם אוכלי המוות\n- מותו של סנייפ\n- גילוי זיכרונות סנייפ\n- הקרב הסופי בין הארי ווולדמורט\n\n**אגדות ומסורות:**\n- מעשה בשלושה אחים (אוצרות המוות)\n- האמונה באוצרות המוות\n- סיפורו של דמבלדור\n\n**מערכת יחסים בין דמויות:**\n- הארי, רון והרמיוני - חברים ושותפים להרפתקאות\n- דמבלדור - מורה והדרכה להארי\n- סנייפ - דמות מורכבת, שי�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ועים מרכזיים:**\n- הארי מקבל אזהרה מדובי שלא לחזור להוגוורטס.\n- הארי ורון מתעופפים להוגוורטס במכונית המעופפת.\n- פתיחת חדר הסודות ותקיפות התלמידים.\n- גילוי מפלצת הבסיליסק והקשר שלה לטום רידל\n\n### ישויות עיקריות בספר \"הארי פוטר והנסיך חצוי-הדם\":\n\n#### דמויות:\n- **הארי פוטר** - הגיבור הראשי, תלמיד בהוגוורטס.\n- **סוורוס\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ליות\n   - מגדל האסטרונומיה\n\n3. **חפצים קסומים:**\n   - גלימת היעלמות\n   - אבן החכמים\n   - כדור זיכרון\n   - הראי של ינפתא\n   - פלאפי (הכלב התלת-ראשי)\n   - דרקון (נורברט)\n\n4. **אירועים מרכזיים:**\n   - קבלת המכתב מהוגוורטס\n   - טיסה על מטאטא\n   - משחק קווידיץ' הראשון\n   - הקרב עם הטרול\n   - חיפוש מידע על ניקולס פלאמל\n   - הברחת נורברט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: - קוויריניוס קווירל\n   - וולדמורט\n   - נוויל לונגבוטום\n   - ניקולס פלאמל\n\n2. **מקומות:**\n   - דרך פריווט מספר ארבע\n   - סמטת דיאגון\n   - גרינגוטס\n   - הוגוורטס\n   - רציף תשע ושלושה רבעים\n   - היער האסור\n   - חדר המדליות\n   - מגדל האסטרונומיה\n\n3. **חפצים קסומים:**\n   - גלימת היעלמות\n   - אבן החכמים\n   - כדור זיכרון\n   - הראי של �\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: � והאירועים המרכזיים בספר \"ה\n\n**עיקרי הישויות והקשרים מתוך \"הארי פוטר ומסדר עוף-החול\":**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- וולדמורט\n- דמבלדור\n- רון וויזלי\n- הרמיוני גריינג'ר\n- סיריוס בלק\n- דולורס אמברידג'\n- אלאסטור מודי\n- רמוס לופין\n- נימפדורה טונקס\n- קינגסלי שאקלבולט\n- לוציוס מאלפוי\n- דאדלי דרסלי\n- ג\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: � לסטריינג'** - אוכלת מוות, אחותה של נרקיסה.\n- **הוראס סלגהורן** - המורה לשיקויים החדש בהוגוורטס.\n\n#### מקומות:\n- **הוגוורטס** - בית הספר לקוסמים.\n- **הבית של הוויזלים** (מחילה) - בית משפחת ויזלי.\n- **החדר הנחיצות** - מקום מסתורי בהוגוורטס.\n- **האסטרונומיה** - מגדל בו מתרחש הקרב הסופי.\n\n#### חפצים קסומים:\n- **הורקרוקס** - פריט המכיל חלק\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ות בספר \"הארי פוטר והנסיך חצוי-הדם\":\n\n#### דמויות:\n- **הארי פוטר** - הגיבור הראשי, תלמיד בהוגוורטס.\n- **סוורוס סנייפ** - מורה להתגוננות מפני כוחות האופל, אוכל מוות, מכונה \"הנסיך חצוי הדם\".\n- **אלבוס דמבלדור** - מנהל הוגוורטס ומדריך של הארי.\n- **ג'יני ויזלי** - חברה של הארי.\n- **רון ויזלי** - חברו הטוב של הארי.\n- **הרמיוני גריינג'ר** - חבר\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: רסלים\n- אחוזת מאלפוי\n- כיכר גרימולד מספר 12\n- גרינגוטס\n- מכתש גודריק\n- יער דין\n- בקתת הצדפים\n\n**אירועים מרכזיים:**\n- מסע ההשמדת ההורקרוקסים\n- הקרב על הוגוורטס\n- החתונה של ביל ופלר\n- פריצה לגרינגוטס\n- עימותים עם אוכלי המוות\n- מותו של סנייפ\n- גילוי זיכרונות סנייפ\n- הקרב הסופי בין הארי ווולדמורט\n\n**אגדות ו\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: עוף החול של דמבלדור.\n\n**מקומות:**\n- הוגוורטס: בית הספר לכישוף ולקוסמות.\n- חדר הסודות: חדר סודי בהוגוורטס, בו שוכנת מפלצת.\n- המחילה: בית משפחת וויזלי.\n- היער האסור: מקום מסוכן בו שוכנים יצורים קסומים.\n\n**אובייקטים קסומים:**\n- יומן טום רידל: יומן קסום שמחזיק בזכרונותיו של רידל.\n- חרב גודריק גריפנדור: חרב קסומ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: )\n   - אזקבאן (כלא הקוסמים)\n   - קלחת הרותחת (פאב בלונדון)\n   - הוגסמיד (כפר קוסמים)\n\n3. **חפצים קסומים:**\n   - מחולל זמן (חפץ קסום של הרמיוני)\n   - מטאטא \"אש המחץ\" (מטאטא חדש בעולם הקוסמים)\n\n4. **יצורים:**\n   - סוהרסנים (יצורים ששואבים שמחה ומחשבות טובות)\n\n5. **אירועים:**\n   - בריחתו של סיריוס בלק מאזקבאן\n   - הפגישה הראשונה של הארי ע\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: רים בין הדמויות והאירועים יכולים לשמש לבניית גרף ידע הממחיש את המערכות היחסים והקשרים בין הישויות השונות בסיפור.\n\n**הארי פוטר וחדר הסודות - סיכום ישויות מרכזיות:**\n\n**דמויות:**\n- הארי פוטר: קוסם, גיבור הסיפור, תלמיד בהוגוורטס.\n- רון וויזלי: חברו של הארי, תלמיד בהוגוורטס.\n- הרמיוני גריינג'ר: חברה של הארי ורון, תלמידה מו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: .\n- האגריד מסייע להארי ברכישת חפצים קסומים ומגלה לו על פלאפי.\n- סוורוס סנייפ מנסה להפעיל הגנות על אבן החכמים.\n- וולדמורט מנסה לגנוב את אבן החכמים באמצעות קוויריניוס קווירל. \n\nהנתונים הללו יכולים לשמש ליצירת ידע גרפי הממח\n\n**סיכום ישויות מתוך \"הארי פוטר והאסיר מאזקבאן\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - סיריוס בל�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ים קסומים:**\n- יומן טום רידל: יומן קסום שמחזיק בזכרונותיו של רידל.\n- חרב גודריק גריפנדור: חרב קסומה שהארי משתמש בה בקרב נגד הבסיליסק.\n- מכונית מעופפת (פורד אנגליה): המכונית של אביו של רון, ששימשה לבריחה.\n\n**אירועים מרכזיים:**\n- הארי מקבל אזהרה מדובי שלא לחזור להוגוורטס.\n- הארי ורון מתעופפים להוגוורטס במכונית המעו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: **ישויות מרכזיות מתוך \"הארי פוטר ואבן החכמים\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - אדון וגברת דרסלי\n   - דאדלי דרסלי\n   - האגריד\n   - רון ויזלי\n   - הרמיוני גריינג'ר\n   - דראקו מאלפוי\n   - סוורוס סנייפ\n   - מינרווה מקגונגל\n   - קוויריניוס קווירל\n   - וולדמורט\n   - נוויל לונגבוטום\n   - ניקולס פלאמל\n\n2. **מקומות:**\n   - דרך פריווט מס\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: הפלפאף** - אחד מההורקרוקסים של וולדמורט.\n- **טבעת של ואנדרולו** - הורקרוקס נוסף.\n\n#### אירועים חשובים:\n- **פגישת ראש הממשלה עם שר הקסמים** - מספקת מידע על פעילות וולדמורט.\n- **ההתקפה על דמבלדור** - ס\n\n**סיכום ישויות - \"הארי פוטר ואוצרות המוות\"**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- רון וויזלי\n- הרמיוני גריינג'ר\n- וולדמורט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: :**\n- הארי, רון והרמיוני - חברים ושותפים להרפתקאות\n- דמבלדור - מורה והדרכה להארי\n- סנייפ - דמות מורכבת, שיתוף פעולה עם דמבלדור\n- וולדמורט - האויב הראשי של הארי וחבריו\n\nהסיכום הזה מכיל את הדמויות, החפצים, המקומות והאירועים המרכזיים בספר \"ה\n\n**עיקרי הישויות והקשרים מתוך \"הארי פוטר ומסדר עוף-החול\":**\n\n**דמויות מרכזיות\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: י (מנבאת)\n   - פרופסור מקגונגל (מנהלת הוגוורטס)\n   - פרופסור לופין (מורה חדש להתגוננות מפני כוחות האופל)\n   - קורנליוס פאדג' (שר הקסמים)\n   - משפחת וויזלי (המשפחה של רון)\n\n2. **מקומות:**\n   - הוגוורטס (בית הספר לקוסמים)\n   - אזקבאן (כלא הקוסמים)\n   - קלחת הרותחת (פאב בלונדון)\n   - הוגסמיד (כפר קוסמים)\n\n3. **חפצים קסומים:**\n   - מח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: הוגוורטס.\n- **האסטרונומיה** - מגדל בו מתרחש הקרב הסופי.\n\n#### חפצים קסומים:\n- **הורקרוקס** - פריט המכיל חלק מנשמתו של קוסם (וולדמורט).\n- **ספר השיקויים של הנסיך חצוי הדם** - ספר המנחה את הארי בהכנת שיקויים.\n- **הגביע של הפלפאף** - אחד מההורקרוקסים של וולדמורט.\n- **טבעת של ואנדרולו** - הורקרוקס נוסף.\n\n#### אירועים חשובים:\n- **פג\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ת ידע גרפי הממח\n\n**סיכום ישויות מתוך \"הארי פוטר והאסיר מאזקבאן\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - סיריוס בלק (רוצח המונים, סנדק של הארי)\n   - הרמיוני גריינג'ר (חברתו של הארי)\n   - רון וויזלי (חברו של הארי)\n   - פרופסור טרלוני (מנבאת)\n   - פרופסור מקגונגל (מנהלת הוגוורטס)\n   - פרופסור לופין (מורה חדש להתגוננות מפני כוחות האופל)\n   -\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: פצים קסומים:**\n- הורקרוקסים של וולדמורט\n- שרביט הסמבוק\n- אבן התחייה\n- גלימת ההיעלמות\n- חרבו של גריפינדור\n- סניץ' הראשון של הארי\n- הספל של הפלפאף\n- עין מכושפת של עין הזעם מודי\n\n**מיקומים:**\n- הוגוורטס\n- בית הדרסלים\n- אחוזת מאלפוי\n- כיכר גרימולד מספר 12\n- גרינגוטס\n- מכתש גודריק\n- יער דין\n- בקתת הצדפים\n\n**איר\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: תפאר בעצמו.\n- דראקו מאלפוי: יריבו של הארי.\n- מירטל המייללת: רוח רפאים השוכנת בשירותים של הבנות.\n- דובי: גמדון בית המזהיר את הארי.\n- טום רידל: דמות מהעבר, בעל היומן הקסום.\n- האגריד: שומר היער, מורה בהוגוורטס.\n- פוקס: עוף החול של דמבלדור.\n\n**מקומות:**\n- הוגוורטס: בית הספר לכישוף ולקוסמות.\n- חדר הסודות: חדר סודי בהוגוורט�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: לאסטור מודי\n- רמוס לופין\n- נימפדורה טונקס\n- קינגסלי שאקלבולט\n- לוציוס מאלפוי\n- דאדלי דרסלי\n- ג'יני וויזלי\n- פרד וויזלי\n- ג'ורג' וויזלי\n- סיביל טרלוני\n- קריצ'ר\n\n**מקומות:**\n- הוגוורטס\n- משרד הקסמים\n- כיכר גרימולד מספר 12 (מפקדת מסדר עוף החול)\n- מחלקת המסתורין\n- יער האסור\n\n**אובייקטים קסומים:**\n- נב\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ' והארי פוטר (עימותים)\n- סיריוס בלק והארי פוטר (סנדק ודוד)\n- לוציוס מאלפוי ואוכלי המוות (קשרים עם האויבים)\n- צבא דמבלדור (קבוצת תלמידים נגד משרד הקסמים) \n\n**סיכום:**\nהעלילה עוסקת במאבק של הארי וחבריו מול משרד הקסמים המסתיר את חזרתו של וולדמורט. הם מקימים את\n\n## סיכום ישויות מ\"הארי פוטר וגביע האש\"\n\n### דמויות עיקריות:\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ס ומדריך של הארי.\n- **ג'יני ויזלי** - חברה של הארי.\n- **רון ויזלי** - חברו הטוב של הארי.\n- **הרמיוני גריינג'ר** - חברה של הארי ורון.\n- **דראקו מאלפוי** - תלמיד מסלית'רין, מתנגד להארי.\n- **נרקיסה מאלפוי** - אמו של דראקו.\n- **בלטריקס לסטריינג'** - אוכלת מוות, אחותה של נרקיסה.\n- **הוראס סלגהורן** - המורה לשיקויים החדש בהוגוורטס.\n\n#### מקומות:\n-\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ות - \"הארי פוטר ואוצרות המוות\"**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- רון וויזלי\n- הרמיוני גריינג'ר\n- וולדמורט (הלורד וולדמורט)\n- דמבלדור\n- סנייפ\n- אוליבנדר\n- בלטריקס לסטריינג'\n- לונה לאבגוד\n- נוויל לונגבוטום\n\n**חפצים קסומים:**\n- הורקרוקסים של וולדמורט\n- שרביט הסמבוק\n- אבן התחייה\n- גלימת ההיעלמות\n- חרבו של גריפינד\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ות בספר \"הארי פוטר והנסיך חצוי-הדם\":\n\n#### דמויות:\n- **הארי פוטר** - הגיבור הראשי, תלמיד בהוגוורטס.\n- **סוורוס סנייפ** - מורה להתגוננות מפני כוחות האופל, אוכל מוות, מכונה \"הנסיך חצוי הדם\".\n- **אלבוס דמבלדור** - מנהל הוגוורטס ומדריך של הארי.\n- **ג'יני ויזלי** - חברה של הארי.\n- **רון ויזלי** - חברו הטוב של הארי.\n- **הרמיוני גריינג'ר** - חבר\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ועים מרכזיים:**\n- הארי מקבל אזהרה מדובי שלא לחזור להוגוורטס.\n- הארי ורון מתעופפים להוגוורטס במכונית המעופפת.\n- פתיחת חדר הסודות ותקיפות התלמידים.\n- גילוי מפלצת הבסיליסק והקשר שלה לטום רידל\n\n### ישויות עיקריות בספר \"הארי פוטר והנסיך חצוי-הדם\":\n\n#### דמויות:\n- **הארי פוטר** - הגיבור הראשי, תלמיד בהוגוורטס.\n- **סוורוס\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: עימותים עם אוכלי המוות\n- מותו של סנייפ\n- גילוי זיכרונות סנייפ\n- הקרב הסופי בין הארי ווולדמורט\n\n**אגדות ומסורות:**\n- מעשה בשלושה אחים (אוצרות המוות)\n- האמונה באוצרות המוות\n- סיפורו של דמבלדור\n\n**מערכת יחסים בין דמויות:**\n- הארי, רון והרמיוני - חברים ושותפים להרפתקאות\n- דמבלדור - מורה והדרכה להארי\n- סנייפ - דמות מורכבת, שי�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: � והאירועים המרכזיים בספר \"ה\n\n**עיקרי הישויות והקשרים מתוך \"הארי פוטר ומסדר עוף-החול\":**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- וולדמורט\n- דמבלדור\n- רון וויזלי\n- הרמיוני גריינג'ר\n- סיריוס בלק\n- דולורס אמברידג'\n- אלאסטור מודי\n- רמוס לופין\n- נימפדורה טונקס\n- קינגסלי שאקלבולט\n- לוציוס מאלפוי\n- דאדלי דרסלי\n- ג\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ים קסומים:**\n- יומן טום רידל: יומן קסום שמחזיק בזכרונותיו של רידל.\n- חרב גודריק גריפנדור: חרב קסומה שהארי משתמש בה בקרב נגד הבסיליסק.\n- מכונית מעופפת (פורד אנגליה): המכונית של אביו של רון, ששימשה לבריחה.\n\n**אירועים מרכזיים:**\n- הארי מקבל אזהרה מדובי שלא לחזור להוגוורטס.\n- הארי ורון מתעופפים להוגוורטס במכונית המעו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: עוף החול של דמבלדור.\n\n**מקומות:**\n- הוגוורטס: בית הספר לכישוף ולקוסמות.\n- חדר הסודות: חדר סודי בהוגוורטס, בו שוכנת מפלצת.\n- המחילה: בית משפחת וויזלי.\n- היער האסור: מקום מסוכן בו שוכנים יצורים קסומים.\n\n**אובייקטים קסומים:**\n- יומן טום רידל: יומן קסום שמחזיק בזכרונותיו של רידל.\n- חרב גודריק גריפנדור: חרב קסומ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: � לסטריינג'** - אוכלת מוות, אחותה של נרקיסה.\n- **הוראס סלגהורן** - המורה לשיקויים החדש בהוגוורטס.\n\n#### מקומות:\n- **הוגוורטס** - בית הספר לקוסמים.\n- **הבית של הוויזלים** (מחילה) - בית משפחת ויזלי.\n- **החדר הנחיצות** - מקום מסתורי בהוגוורטס.\n- **האסטרונומיה** - מגדל בו מתרחש הקרב הסופי.\n\n#### חפצים קסומים:\n- **הורקרוקס** - פריט המכיל חלק\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: רסלים\n- אחוזת מאלפוי\n- כיכר גרימולד מספר 12\n- גרינגוטס\n- מכתש גודריק\n- יער דין\n- בקתת הצדפים\n\n**אירועים מרכזיים:**\n- מסע ההשמדת ההורקרוקסים\n- הקרב על הוגוורטס\n- החתונה של ביל ופלר\n- פריצה לגרינגוטס\n- עימותים עם אוכלי המוות\n- מותו של סנייפ\n- גילוי זיכרונות סנייפ\n- הקרב הסופי בין הארי ווולדמורט\n\n**אגדות ו\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: - קוויריניוס קווירל\n   - וולדמורט\n   - נוויל לונגבוטום\n   - ניקולס פלאמל\n\n2. **מקומות:**\n   - דרך פריווט מספר ארבע\n   - סמטת דיאגון\n   - גרינגוטס\n   - הוגוורטס\n   - רציף תשע ושלושה רבעים\n   - היער האסור\n   - חדר המדליות\n   - מגדל האסטרונומיה\n\n3. **חפצים קסומים:**\n   - גלימת היעלמות\n   - אבן החכמים\n   - כדור זיכרון\n   - הראי של �\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: )\n   - אזקבאן (כלא הקוסמים)\n   - קלחת הרותחת (פאב בלונדון)\n   - הוגסמיד (כפר קוסמים)\n\n3. **חפצים קסומים:**\n   - מחולל זמן (חפץ קסום של הרמיוני)\n   - מטאטא \"אש המחץ\" (מטאטא חדש בעולם הקוסמים)\n\n4. **יצורים:**\n   - סוהרסנים (יצורים ששואבים שמחה ומחשבות טובות)\n\n5. **אירועים:**\n   - בריחתו של סיריוס בלק מאזקבאן\n   - הפגישה הראשונה של הארי ע\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ליות\n   - מגדל האסטרונומיה\n\n3. **חפצים קסומים:**\n   - גלימת היעלמות\n   - אבן החכמים\n   - כדור זיכרון\n   - הראי של ינפתא\n   - פלאפי (הכלב התלת-ראשי)\n   - דרקון (נורברט)\n\n4. **אירועים מרכזיים:**\n   - קבלת המכתב מהוגוורטס\n   - טיסה על מטאטא\n   - משחק קווידיץ' הראשון\n   - הקרב עם הטרול\n   - חיפוש מידע על ניקולס פלאמל\n   - הברחת נורברט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: .\n- האגריד מסייע להארי ברכישת חפצים קסומים ומגלה לו על פלאפי.\n- סוורוס סנייפ מנסה להפעיל הגנות על אבן החכמים.\n- וולדמורט מנסה לגנוב את אבן החכמים באמצעות קוויריניוס קווירל. \n\nהנתונים הללו יכולים לשמש ליצירת ידע גרפי הממח\n\n**סיכום ישויות מתוך \"הארי פוטר והאסיר מאזקבאן\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - סיריוס בל�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: :**\n- הארי, רון והרמיוני - חברים ושותפים להרפתקאות\n- דמבלדור - מורה והדרכה להארי\n- סנייפ - דמות מורכבת, שיתוף פעולה עם דמבלדור\n- וולדמורט - האויב הראשי של הארי וחבריו\n\nהסיכום הזה מכיל את הדמויות, החפצים, המקומות והאירועים המרכזיים בספר \"ה\n\n**עיקרי הישויות והקשרים מתוך \"הארי פוטר ומסדר עוף-החול\":**\n\n**דמויות מרכזיות\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: רים בין הדמויות והאירועים יכולים לשמש לבניית גרף ידע הממחיש את המערכות היחסים והקשרים בין הישויות השונות בסיפור.\n\n**הארי פוטר וחדר הסודות - סיכום ישויות מרכזיות:**\n\n**דמויות:**\n- הארי פוטר: קוסם, גיבור הסיפור, תלמיד בהוגוורטס.\n- רון וויזלי: חברו של הארי, תלמיד בהוגוורטס.\n- הרמיוני גריינג'ר: חברה של הארי ורון, תלמידה מו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: **ישויות מרכזיות מתוך \"הארי פוטר ואבן החכמים\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - אדון וגברת דרסלי\n   - דאדלי דרסלי\n   - האגריד\n   - רון ויזלי\n   - הרמיוני גריינג'ר\n   - דראקו מאלפוי\n   - סוורוס סנייפ\n   - מינרווה מקגונגל\n   - קוויריניוס קווירל\n   - וולדמורט\n   - נוויל לונגבוטום\n   - ניקולס פלאמל\n\n2. **מקומות:**\n   - דרך פריווט מס\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: הפלפאף** - אחד מההורקרוקסים של וולדמורט.\n- **טבעת של ואנדרולו** - הורקרוקס נוסף.\n\n#### אירועים חשובים:\n- **פגישת ראש הממשלה עם שר הקסמים** - מספקת מידע על פעילות וולדמורט.\n- **ההתקפה על דמבלדור** - ס\n\n**סיכום ישויות - \"הארי פוטר ואוצרות המוות\"**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- רון וויזלי\n- הרמיוני גריינג'ר\n- וולדמורט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ת ידע גרפי הממח\n\n**סיכום ישויות מתוך \"הארי פוטר והאסיר מאזקבאן\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - סיריוס בלק (רוצח המונים, סנדק של הארי)\n   - הרמיוני גריינג'ר (חברתו של הארי)\n   - רון וויזלי (חברו של הארי)\n   - פרופסור טרלוני (מנבאת)\n   - פרופסור מקגונגל (מנהלת הוגוורטס)\n   - פרופסור לופין (מורה חדש להתגוננות מפני כוחות האופל)\n   -\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: הוגוורטס.\n- **האסטרונומיה** - מגדל בו מתרחש הקרב הסופי.\n\n#### חפצים קסומים:\n- **הורקרוקס** - פריט המכיל חלק מנשמתו של קוסם (וולדמורט).\n- **ספר השיקויים של הנסיך חצוי הדם** - ספר המנחה את הארי בהכנת שיקויים.\n- **הגביע של הפלפאף** - אחד מההורקרוקסים של וולדמורט.\n- **טבעת של ואנדרולו** - הורקרוקס נוסף.\n\n#### אירועים חשובים:\n- **פג\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: י (מנבאת)\n   - פרופסור מקגונגל (מנהלת הוגוורטס)\n   - פרופסור לופין (מורה חדש להתגוננות מפני כוחות האופל)\n   - קורנליוס פאדג' (שר הקסמים)\n   - משפחת וויזלי (המשפחה של רון)\n\n2. **מקומות:**\n   - הוגוורטס (בית הספר לקוסמים)\n   - אזקבאן (כלא הקוסמים)\n   - קלחת הרותחת (פאב בלונדון)\n   - הוגסמיד (כפר קוסמים)\n\n3. **חפצים קסומים:**\n   - מח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: תפאר בעצמו.\n- דראקו מאלפוי: יריבו של הארי.\n- מירטל המייללת: רוח רפאים השוכנת בשירותים של הבנות.\n- דובי: גמדון בית המזהיר את הארי.\n- טום רידל: דמות מהעבר, בעל היומן הקסום.\n- האגריד: שומר היער, מורה בהוגוורטס.\n- פוקס: עוף החול של דמבלדור.\n\n**מקומות:**\n- הוגוורטס: בית הספר לכישוף ולקוסמות.\n- חדר הסודות: חדר סודי בהוגוורט�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: פצים קסומים:**\n- הורקרוקסים של וולדמורט\n- שרביט הסמבוק\n- אבן התחייה\n- גלימת ההיעלמות\n- חרבו של גריפינדור\n- סניץ' הראשון של הארי\n- הספל של הפלפאף\n- עין מכושפת של עין הזעם מודי\n\n**מיקומים:**\n- הוגוורטס\n- בית הדרסלים\n- אחוזת מאלפוי\n- כיכר גרימולד מספר 12\n- גרינגוטס\n- מכתש גודריק\n- יער דין\n- בקתת הצדפים\n\n**איר\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: לאסטור מודי\n- רמוס לופין\n- נימפדורה טונקס\n- קינגסלי שאקלבולט\n- לוציוס מאלפוי\n- דאדלי דרסלי\n- ג'יני וויזלי\n- פרד וויזלי\n- ג'ורג' וויזלי\n- סיביל טרלוני\n- קריצ'ר\n\n**מקומות:**\n- הוגוורטס\n- משרד הקסמים\n- כיכר גרימולד מספר 12 (מפקדת מסדר עוף החול)\n- מחלקת המסתורין\n- יער האסור\n\n**אובייקטים קסומים:**\n- נב\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ' והארי פוטר (עימותים)\n- סיריוס בלק והארי פוטר (סנדק ודוד)\n- לוציוס מאלפוי ואוכלי המוות (קשרים עם האויבים)\n- צבא דמבלדור (קבוצת תלמידים נגד משרד הקסמים) \n\n**סיכום:**\nהעלילה עוסקת במאבק של הארי וחבריו מול משרד הקסמים המסתיר את חזרתו של וולדמורט. הם מקימים את\n\n## סיכום ישויות מ\"הארי פוטר וגביע האש\"\n\n### דמויות עיקריות:\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ס ומדריך של הארי.\n- **ג'יני ויזלי** - חברה של הארי.\n- **רון ויזלי** - חברו הטוב של הארי.\n- **הרמיוני גריינג'ר** - חברה של הארי ורון.\n- **דראקו מאלפוי** - תלמיד מסלית'רין, מתנגד להארי.\n- **נרקיסה מאלפוי** - אמו של דראקו.\n- **בלטריקס לסטריינג'** - אוכלת מוות, אחותה של נרקיסה.\n- **הוראס סלגהורן** - המורה לשיקויים החדש בהוגוורטס.\n\n#### מקומות:\n-\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ות - \"הארי פוטר ואוצרות המוות\"**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- רון וויזלי\n- הרמיוני גריינג'ר\n- וולדמורט (הלורד וולדמורט)\n- דמבלדור\n- סנייפ\n- אוליבנדר\n- בלטריקס לסטריינג'\n- לונה לאבגוד\n- נוויל לונגבוטום\n\n**חפצים קסומים:**\n- הורקרוקסים של וולדמורט\n- שרביט הסמבוק\n- אבן התחייה\n- גלימת ההיעלמות\n- חרבו של גריפינד\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ות בספר \"הארי פוטר והנסיך חצוי-הדם\":\n\n#### דמויות:\n- **הארי פוטר** - הגיבור הראשי, תלמיד בהוגוורטס.\n- **סוורוס סנייפ** - מורה להתגוננות מפני כוחות האופל, אוכל מוות, מכונה \"הנסיך חצוי הדם\".\n- **אלבוס דמבלדור** - מנהל הוגוורטס ומדריך של הארי.\n- **ג'יני ויזלי** - חברה של הארי.\n- **רון ויזלי** - חברו הטוב של הארי.\n- **הרמיוני גריינג'ר** - חבר\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ועים מרכזיים:**\n- הארי מקבל אזהרה מדובי שלא לחזור להוגוורטס.\n- הארי ורון מתעופפים להוגוורטס במכונית המעופפת.\n- פתיחת חדר הסודות ותקיפות התלמידים.\n- גילוי מפלצת הבסיליסק והקשר שלה לטום רידל\n\n### ישויות עיקריות בספר \"הארי פוטר והנסיך חצוי-הדם\":\n\n#### דמויות:\n- **הארי פוטר** - הגיבור הראשי, תלמיד בהוגוורטס.\n- **סוורוס\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: עימותים עם אוכלי המוות\n- מותו של סנייפ\n- גילוי זיכרונות סנייפ\n- הקרב הסופי בין הארי ווולדמורט\n\n**אגדות ומסורות:**\n- מעשה בשלושה אחים (אוצרות המוות)\n- האמונה באוצרות המוות\n- סיפורו של דמבלדור\n\n**מערכת יחסים בין דמויות:**\n- הארי, רון והרמיוני - חברים ושותפים להרפתקאות\n- דמבלדור - מורה והדרכה להארי\n- סנייפ - דמות מורכבת, שי�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: � והאירועים המרכזיים בספר \"ה\n\n**עיקרי הישויות והקשרים מתוך \"הארי פוטר ומסדר עוף-החול\":**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- וולדמורט\n- דמבלדור\n- רון וויזלי\n- הרמיוני גריינג'ר\n- סיריוס בלק\n- דולורס אמברידג'\n- אלאסטור מודי\n- רמוס לופין\n- נימפדורה טונקס\n- קינגסלי שאקלבולט\n- לוציוס מאלפוי\n- דאדלי דרסלי\n- ג\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ים קסומים:**\n- יומן טום רידל: יומן קסום שמחזיק בזכרונותיו של רידל.\n- חרב גודריק גריפנדור: חרב קסומה שהארי משתמש בה בקרב נגד הבסיליסק.\n- מכונית מעופפת (פורד אנגליה): המכונית של אביו של רון, ששימשה לבריחה.\n\n**אירועים מרכזיים:**\n- הארי מקבל אזהרה מדובי שלא לחזור להוגוורטס.\n- הארי ורון מתעופפים להוגוורטס במכונית המעו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: עוף החול של דמבלדור.\n\n**מקומות:**\n- הוגוורטס: בית הספר לכישוף ולקוסמות.\n- חדר הסודות: חדר סודי בהוגוורטס, בו שוכנת מפלצת.\n- המחילה: בית משפחת וויזלי.\n- היער האסור: מקום מסוכן בו שוכנים יצורים קסומים.\n\n**אובייקטים קסומים:**\n- יומן טום רידל: יומן קסום שמחזיק בזכרונותיו של רידל.\n- חרב גודריק גריפנדור: חרב קסומ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: � לסטריינג'** - אוכלת מוות, אחותה של נרקיסה.\n- **הוראס סלגהורן** - המורה לשיקויים החדש בהוגוורטס.\n\n#### מקומות:\n- **הוגוורטס** - בית הספר לקוסמים.\n- **הבית של הוויזלים** (מחילה) - בית משפחת ויזלי.\n- **החדר הנחיצות** - מקום מסתורי בהוגוורטס.\n- **האסטרונומיה** - מגדל בו מתרחש הקרב הסופי.\n\n#### חפצים קסומים:\n- **הורקרוקס** - פריט המכיל חלק\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: רסלים\n- אחוזת מאלפוי\n- כיכר גרימולד מספר 12\n- גרינגוטס\n- מכתש גודריק\n- יער דין\n- בקתת הצדפים\n\n**אירועים מרכזיים:**\n- מסע ההשמדת ההורקרוקסים\n- הקרב על הוגוורטס\n- החתונה של ביל ופלר\n- פריצה לגרינגוטס\n- עימותים עם אוכלי המוות\n- מותו של סנייפ\n- גילוי זיכרונות סנייפ\n- הקרב הסופי בין הארי ווולדמורט\n\n**אגדות ו\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: - קוויריניוס קווירל\n   - וולדמורט\n   - נוויל לונגבוטום\n   - ניקולס פלאמל\n\n2. **מקומות:**\n   - דרך פריווט מספר ארבע\n   - סמטת דיאגון\n   - גרינגוטס\n   - הוגוורטס\n   - רציף תשע ושלושה רבעים\n   - היער האסור\n   - חדר המדליות\n   - מגדל האסטרונומיה\n\n3. **חפצים קסומים:**\n   - גלימת היעלמות\n   - אבן החכמים\n   - כדור זיכרון\n   - הראי של �\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: )\n   - אזקבאן (כלא הקוסמים)\n   - קלחת הרותחת (פאב בלונדון)\n   - הוגסמיד (כפר קוסמים)\n\n3. **חפצים קסומים:**\n   - מחולל זמן (חפץ קסום של הרמיוני)\n   - מטאטא \"אש המחץ\" (מטאטא חדש בעולם הקוסמים)\n\n4. **יצורים:**\n   - סוהרסנים (יצורים ששואבים שמחה ומחשבות טובות)\n\n5. **אירועים:**\n   - בריחתו של סיריוס בלק מאזקבאן\n   - הפגישה הראשונה של הארי ע\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ליות\n   - מגדל האסטרונומיה\n\n3. **חפצים קסומים:**\n   - גלימת היעלמות\n   - אבן החכמים\n   - כדור זיכרון\n   - הראי של ינפתא\n   - פלאפי (הכלב התלת-ראשי)\n   - דרקון (נורברט)\n\n4. **אירועים מרכזיים:**\n   - קבלת המכתב מהוגוורטס\n   - טיסה על מטאטא\n   - משחק קווידיץ' הראשון\n   - הקרב עם הטרול\n   - חיפוש מידע על ניקולס פלאמל\n   - הברחת נורברט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: :**\n- הארי, רון והרמיוני - חברים ושותפים להרפתקאות\n- דמבלדור - מורה והדרכה להארי\n- סנייפ - דמות מורכבת, שיתוף פעולה עם דמבלדור\n- וולדמורט - האויב הראשי של הארי וחבריו\n\nהסיכום הזה מכיל את הדמויות, החפצים, המקומות והאירועים המרכזיים בספר \"ה\n\n**עיקרי הישויות והקשרים מתוך \"הארי פוטר ומסדר עוף-החול\":**\n\n**דמויות מרכזיות\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: .\n- האגריד מסייע להארי ברכישת חפצים קסומים ומגלה לו על פלאפי.\n- סוורוס סנייפ מנסה להפעיל הגנות על אבן החכמים.\n- וולדמורט מנסה לגנוב את אבן החכמים באמצעות קוויריניוס קווירל. \n\nהנתונים הללו יכולים לשמש ליצירת ידע גרפי הממח\n\n**סיכום ישויות מתוך \"הארי פוטר והאסיר מאזקבאן\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - סיריוס בל�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: רים בין הדמויות והאירועים יכולים לשמש לבניית גרף ידע הממחיש את המערכות היחסים והקשרים בין הישויות השונות בסיפור.\n\n**הארי פוטר וחדר הסודות - סיכום ישויות מרכזיות:**\n\n**דמויות:**\n- הארי פוטר: קוסם, גיבור הסיפור, תלמיד בהוגוורטס.\n- רון וויזלי: חברו של הארי, תלמיד בהוגוורטס.\n- הרמיוני גריינג'ר: חברה של הארי ורון, תלמידה מו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: **ישויות מרכזיות מתוך \"הארי פוטר ואבן החכמים\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - אדון וגברת דרסלי\n   - דאדלי דרסלי\n   - האגריד\n   - רון ויזלי\n   - הרמיוני גריינג'ר\n   - דראקו מאלפוי\n   - סוורוס סנייפ\n   - מינרווה מקגונגל\n   - קוויריניוס קווירל\n   - וולדמורט\n   - נוויל לונגבוטום\n   - ניקולס פלאמל\n\n2. **מקומות:**\n   - דרך פריווט מס\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: הפלפאף** - אחד מההורקרוקסים של וולדמורט.\n- **טבעת של ואנדרולו** - הורקרוקס נוסף.\n\n#### אירועים חשובים:\n- **פגישת ראש הממשלה עם שר הקסמים** - מספקת מידע על פעילות וולדמורט.\n- **ההתקפה על דמבלדור** - ס\n\n**סיכום ישויות - \"הארי פוטר ואוצרות המוות\"**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- רון וויזלי\n- הרמיוני גריינג'ר\n- וולדמורט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ת ידע גרפי הממח\n\n**סיכום ישויות מתוך \"הארי פוטר והאסיר מאזקבאן\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - סיריוס בלק (רוצח המונים, סנדק של הארי)\n   - הרמיוני גריינג'ר (חברתו של הארי)\n   - רון וויזלי (חברו של הארי)\n   - פרופסור טרלוני (מנבאת)\n   - פרופסור מקגונגל (מנהלת הוגוורטס)\n   - פרופסור לופין (מורה חדש להתגוננות מפני כוחות האופל)\n   -\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: הוגוורטס.\n- **האסטרונומיה** - מגדל בו מתרחש הקרב הסופי.\n\n#### חפצים קסומים:\n- **הורקרוקס** - פריט המכיל חלק מנשמתו של קוסם (וולדמורט).\n- **ספר השיקויים של הנסיך חצוי הדם** - ספר המנחה את הארי בהכנת שיקויים.\n- **הגביע של הפלפאף** - אחד מההורקרוקסים של וולדמורט.\n- **טבעת של ואנדרולו** - הורקרוקס נוסף.\n\n#### אירועים חשובים:\n- **פג\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: י (מנבאת)\n   - פרופסור מקגונגל (מנהלת הוגוורטס)\n   - פרופסור לופין (מורה חדש להתגוננות מפני כוחות האופל)\n   - קורנליוס פאדג' (שר הקסמים)\n   - משפחת וויזלי (המשפחה של רון)\n\n2. **מקומות:**\n   - הוגוורטס (בית הספר לקוסמים)\n   - אזקבאן (כלא הקוסמים)\n   - קלחת הרותחת (פאב בלונדון)\n   - הוגסמיד (כפר קוסמים)\n\n3. **חפצים קסומים:**\n   - מח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: תפאר בעצמו.\n- דראקו מאלפוי: יריבו של הארי.\n- מירטל המייללת: רוח רפאים השוכנת בשירותים של הבנות.\n- דובי: גמדון בית המזהיר את הארי.\n- טום רידל: דמות מהעבר, בעל היומן הקסום.\n- האגריד: שומר היער, מורה בהוגוורטס.\n- פוקס: עוף החול של דמבלדור.\n\n**מקומות:**\n- הוגוורטס: בית הספר לכישוף ולקוסמות.\n- חדר הסודות: חדר סודי בהוגוורט�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: פצים קסומים:**\n- הורקרוקסים של וולדמורט\n- שרביט הסמבוק\n- אבן התחייה\n- גלימת ההיעלמות\n- חרבו של גריפינדור\n- סניץ' הראשון של הארי\n- הספל של הפלפאף\n- עין מכושפת של עין הזעם מודי\n\n**מיקומים:**\n- הוגוורטס\n- בית הדרסלים\n- אחוזת מאלפוי\n- כיכר גרימולד מספר 12\n- גרינגוטס\n- מכתש גודריק\n- יער דין\n- בקתת הצדפים\n\n**איר\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: לאסטור מודי\n- רמוס לופין\n- נימפדורה טונקס\n- קינגסלי שאקלבולט\n- לוציוס מאלפוי\n- דאדלי דרסלי\n- ג'יני וויזלי\n- פרד וויזלי\n- ג'ורג' וויזלי\n- סיביל טרלוני\n- קריצ'ר\n\n**מקומות:**\n- הוגוורטס\n- משרד הקסמים\n- כיכר גרימולד מספר 12 (מפקדת מסדר עוף החול)\n- מחלקת המסתורין\n- יער האסור\n\n**אובייקטים קסומים:**\n- נב\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ' והארי פוטר (עימותים)\n- סיריוס בלק והארי פוטר (סנדק ודוד)\n- לוציוס מאלפוי ואוכלי המוות (קשרים עם האויבים)\n- צבא דמבלדור (קבוצת תלמידים נגד משרד הקסמים) \n\n**סיכום:**\nהעלילה עוסקת במאבק של הארי וחבריו מול משרד הקסמים המסתיר את חזרתו של וולדמורט. הם מקימים את\n\n## סיכום ישויות מ\"הארי פוטר וגביע האש\"\n\n### דמויות עיקריות:\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ס ומדריך של הארי.\n- **ג'יני ויזלי** - חברה של הארי.\n- **רון ויזלי** - חברו הטוב של הארי.\n- **הרמיוני גריינג'ר** - חברה של הארי ורון.\n- **דראקו מאלפוי** - תלמיד מסלית'רין, מתנגד להארי.\n- **נרקיסה מאלפוי** - אמו של דראקו.\n- **בלטריקס לסטריינג'** - אוכלת מוות, אחותה של נרקיסה.\n- **הוראס סלגהורן** - המורה לשיקויים החדש בהוגוורטס.\n\n#### מקומות:\n-\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ות - \"הארי פוטר ואוצרות המוות\"**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- רון וויזלי\n- הרמיוני גריינג'ר\n- וולדמורט (הלורד וולדמורט)\n- דמבלדור\n- סנייפ\n- אוליבנדר\n- בלטריקס לסטריינג'\n- לונה לאבגוד\n- נוויל לונגבוטום\n\n**חפצים קסומים:**\n- הורקרוקסים של וולדמורט\n- שרביט הסמבוק\n- אבן התחייה\n- גלימת ההיעלמות\n- חרבו של גריפינד\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ות בספר \"הארי פוטר והנסיך חצוי-הדם\":\n\n#### דמויות:\n- **הארי פוטר** - הגיבור הראשי, תלמיד בהוגוורטס.\n- **סוורוס סנייפ** - מורה להתגוננות מפני כוחות האופל, אוכל מוות, מכונה \"הנסיך חצוי הדם\".\n- **אלבוס דמבלדור** - מנהל הוגוורטס ומדריך של הארי.\n- **ג'יני ויזלי** - חברה של הארי.\n- **רון ויזלי** - חברו הטוב של הארי.\n- **הרמיוני גריינג'ר** - חבר\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ועים מרכזיים:**\n- הארי מקבל אזהרה מדובי שלא לחזור להוגוורטס.\n- הארי ורון מתעופפים להוגוורטס במכונית המעופפת.\n- פתיחת חדר הסודות ותקיפות התלמידים.\n- גילוי מפלצת הבסיליסק והקשר שלה לטום רידל\n\n### ישויות עיקריות בספר \"הארי פוטר והנסיך חצוי-הדם\":\n\n#### דמויות:\n- **הארי פוטר** - הגיבור הראשי, תלמיד בהוגוורטס.\n- **סוורוס\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: עימותים עם אוכלי המוות\n- מותו של סנייפ\n- גילוי זיכרונות סנייפ\n- הקרב הסופי בין הארי ווולדמורט\n\n**אגדות ומסורות:**\n- מעשה בשלושה אחים (אוצרות המוות)\n- האמונה באוצרות המוות\n- סיפורו של דמבלדור\n\n**מערכת יחסים בין דמויות:**\n- הארי, רון והרמיוני - חברים ושותפים להרפתקאות\n- דמבלדור - מורה והדרכה להארי\n- סנייפ - דמות מורכבת, שי�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: � והאירועים המרכזיים בספר \"ה\n\n**עיקרי הישויות והקשרים מתוך \"הארי פוטר ומסדר עוף-החול\":**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- וולדמורט\n- דמבלדור\n- רון וויזלי\n- הרמיוני גריינג'ר\n- סיריוס בלק\n- דולורס אמברידג'\n- אלאסטור מודי\n- רמוס לופין\n- נימפדורה טונקס\n- קינגסלי שאקלבולט\n- לוציוס מאלפוי\n- דאדלי דרסלי\n- ג\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ים קסומים:**\n- יומן טום רידל: יומן קסום שמחזיק בזכרונותיו של רידל.\n- חרב גודריק גריפנדור: חרב קסומה שהארי משתמש בה בקרב נגד הבסיליסק.\n- מכונית מעופפת (פורד אנגליה): המכונית של אביו של רון, ששימשה לבריחה.\n\n**אירועים מרכזיים:**\n- הארי מקבל אזהרה מדובי שלא לחזור להוגוורטס.\n- הארי ורון מתעופפים להוגוורטס במכונית המעו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: � לסטריינג'** - אוכלת מוות, אחותה של נרקיסה.\n- **הוראס סלגהורן** - המורה לשיקויים החדש בהוגוורטס.\n\n#### מקומות:\n- **הוגוורטס** - בית הספר לקוסמים.\n- **הבית של הוויזלים** (מחילה) - בית משפחת ויזלי.\n- **החדר הנחיצות** - מקום מסתורי בהוגוורטס.\n- **האסטרונומיה** - מגדל בו מתרחש הקרב הסופי.\n\n#### חפצים קסומים:\n- **הורקרוקס** - פריט המכיל חלק\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: עוף החול של דמבלדור.\n\n**מקומות:**\n- הוגוורטס: בית הספר לכישוף ולקוסמות.\n- חדר הסודות: חדר סודי בהוגוורטס, בו שוכנת מפלצת.\n- המחילה: בית משפחת וויזלי.\n- היער האסור: מקום מסוכן בו שוכנים יצורים קסומים.\n\n**אובייקטים קסומים:**\n- יומן טום רידל: יומן קסום שמחזיק בזכרונותיו של רידל.\n- חרב גודריק גריפנדור: חרב קסומ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: - קוויריניוס קווירל\n   - וולדמורט\n   - נוויל לונגבוטום\n   - ניקולס פלאמל\n\n2. **מקומות:**\n   - דרך פריווט מספר ארבע\n   - סמטת דיאגון\n   - גרינגוטס\n   - הוגוורטס\n   - רציף תשע ושלושה רבעים\n   - היער האסור\n   - חדר המדליות\n   - מגדל האסטרונומיה\n\n3. **חפצים קסומים:**\n   - גלימת היעלמות\n   - אבן החכמים\n   - כדור זיכרון\n   - הראי של �\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: רסלים\n- אחוזת מאלפוי\n- כיכר גרימולד מספר 12\n- גרינגוטס\n- מכתש גודריק\n- יער דין\n- בקתת הצדפים\n\n**אירועים מרכזיים:**\n- מסע ההשמדת ההורקרוקסים\n- הקרב על הוגוורטס\n- החתונה של ביל ופלר\n- פריצה לגרינגוטס\n- עימותים עם אוכלי המוות\n- מותו של סנייפ\n- גילוי זיכרונות סנייפ\n- הקרב הסופי בין הארי ווולדמורט\n\n**אגדות ו\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: )\n   - אזקבאן (כלא הקוסמים)\n   - קלחת הרותחת (פאב בלונדון)\n   - הוגסמיד (כפר קוסמים)\n\n3. **חפצים קסומים:**\n   - מחולל זמן (חפץ קסום של הרמיוני)\n   - מטאטא \"אש המחץ\" (מטאטא חדש בעולם הקוסמים)\n\n4. **יצורים:**\n   - סוהרסנים (יצורים ששואבים שמחה ומחשבות טובות)\n\n5. **אירועים:**\n   - בריחתו של סיריוס בלק מאזקבאן\n   - הפגישה הראשונה של הארי ע\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ליות\n   - מגדל האסטרונומיה\n\n3. **חפצים קסומים:**\n   - גלימת היעלמות\n   - אבן החכמים\n   - כדור זיכרון\n   - הראי של ינפתא\n   - פלאפי (הכלב התלת-ראשי)\n   - דרקון (נורברט)\n\n4. **אירועים מרכזיים:**\n   - קבלת המכתב מהוגוורטס\n   - טיסה על מטאטא\n   - משחק קווידיץ' הראשון\n   - הקרב עם הטרול\n   - חיפוש מידע על ניקולס פלאמל\n   - הברחת נורברט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: **ישויות מרכזיות מתוך \"הארי פוטר ואבן החכמים\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - אדון וגברת דרסלי\n   - דאדלי דרסלי\n   - האגריד\n   - רון ויזלי\n   - הרמיוני גריינג'ר\n   - דראקו מאלפוי\n   - סוורוס סנייפ\n   - מינרווה מקגונגל\n   - קוויריניוס קווירל\n   - וולדמורט\n   - נוויל לונגבוטום\n   - ניקולס פלאמל\n\n2. **מקומות:**\n   - דרך פריווט מס\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: י (מנבאת)\n   - פרופסור מקגונגל (מנהלת הוגוורטס)\n   - פרופסור לופין (מורה חדש להתגוננות מפני כוחות האופל)\n   - קורנליוס פאדג' (שר הקסמים)\n   - משפחת וויזלי (המשפחה של רון)\n\n2. **מקומות:**\n   - הוגוורטס (בית הספר לקוסמים)\n   - אזקבאן (כלא הקוסמים)\n   - קלחת הרותחת (פאב בלונדון)\n   - הוגסמיד (כפר קוסמים)\n\n3. **חפצים קסומים:**\n   - מח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: פצים קסומים:**\n- הורקרוקסים של וולדמורט\n- שרביט הסמבוק\n- אבן התחייה\n- גלימת ההיעלמות\n- חרבו של גריפינדור\n- סניץ' הראשון של הארי\n- הספל של הפלפאף\n- עין מכושפת של עין הזעם מודי\n\n**מיקומים:**\n- הוגוורטס\n- בית הדרסלים\n- אחוזת מאלפוי\n- כיכר גרימולד מספר 12\n- גרינגוטס\n- מכתש גודריק\n- יער דין\n- בקתת הצדפים\n\n**איר\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: :**\n- הארי, רון והרמיוני - חברים ושותפים להרפתקאות\n- דמבלדור - מורה והדרכה להארי\n- סנייפ - דמות מורכבת, שיתוף פעולה עם דמבלדור\n- וולדמורט - האויב הראשי של הארי וחבריו\n\nהסיכום הזה מכיל את הדמויות, החפצים, המקומות והאירועים המרכזיים בספר \"ה\n\n**עיקרי הישויות והקשרים מתוך \"הארי פוטר ומסדר עוף-החול\":**\n\n**דמויות מרכזיות\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: הפלפאף** - אחד מההורקרוקסים של וולדמורט.\n- **טבעת של ואנדרולו** - הורקרוקס נוסף.\n\n#### אירועים חשובים:\n- **פגישת ראש הממשלה עם שר הקסמים** - מספקת מידע על פעילות וולדמורט.\n- **ההתקפה על דמבלדור** - ס\n\n**סיכום ישויות - \"הארי פוטר ואוצרות המוות\"**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- רון וויזלי\n- הרמיוני גריינג'ר\n- וולדמורט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ת ידע גרפי הממח\n\n**סיכום ישויות מתוך \"הארי פוטר והאסיר מאזקבאן\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - סיריוס בלק (רוצח המונים, סנדק של הארי)\n   - הרמיוני גריינג'ר (חברתו של הארי)\n   - רון וויזלי (חברו של הארי)\n   - פרופסור טרלוני (מנבאת)\n   - פרופסור מקגונגל (מנהלת הוגוורטס)\n   - פרופסור לופין (מורה חדש להתגוננות מפני כוחות האופל)\n   -\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: רים בין הדמויות והאירועים יכולים לשמש לבניית גרף ידע הממחיש את המערכות היחסים והקשרים בין הישויות השונות בסיפור.\n\n**הארי פוטר וחדר הסודות - סיכום ישויות מרכזיות:**\n\n**דמויות:**\n- הארי פוטר: קוסם, גיבור הסיפור, תלמיד בהוגוורטס.\n- רון וויזלי: חברו של הארי, תלמיד בהוגוורטס.\n- הרמיוני גריינג'ר: חברה של הארי ורון, תלמידה מו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: תפאר בעצמו.\n- דראקו מאלפוי: יריבו של הארי.\n- מירטל המייללת: רוח רפאים השוכנת בשירותים של הבנות.\n- דובי: גמדון בית המזהיר את הארי.\n- טום רידל: דמות מהעבר, בעל היומן הקסום.\n- האגריד: שומר היער, מורה בהוגוורטס.\n- פוקס: עוף החול של דמבלדור.\n\n**מקומות:**\n- הוגוורטס: בית הספר לכישוף ולקוסמות.\n- חדר הסודות: חדר סודי בהוגוורט�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: .\n- האגריד מסייע להארי ברכישת חפצים קסומים ומגלה לו על פלאפי.\n- סוורוס סנייפ מנסה להפעיל הגנות על אבן החכמים.\n- וולדמורט מנסה לגנוב את אבן החכמים באמצעות קוויריניוס קווירל. \n\nהנתונים הללו יכולים לשמש ליצירת ידע גרפי הממח\n\n**סיכום ישויות מתוך \"הארי פוטר והאסיר מאזקבאן\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - סיריוס בל�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: הוגוורטס.\n- **האסטרונומיה** - מגדל בו מתרחש הקרב הסופי.\n\n#### חפצים קסומים:\n- **הורקרוקס** - פריט המכיל חלק מנשמתו של קוסם (וולדמורט).\n- **ספר השיקויים של הנסיך חצוי הדם** - ספר המנחה את הארי בהכנת שיקויים.\n- **הגביע של הפלפאף** - אחד מההורקרוקסים של וולדמורט.\n- **טבעת של ואנדרולו** - הורקרוקס נוסף.\n\n#### אירועים חשובים:\n- **פג\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: לאסטור מודי\n- רמוס לופין\n- נימפדורה טונקס\n- קינגסלי שאקלבולט\n- לוציוס מאלפוי\n- דאדלי דרסלי\n- ג'יני וויזלי\n- פרד וויזלי\n- ג'ורג' וויזלי\n- סיביל טרלוני\n- קריצ'ר\n\n**מקומות:**\n- הוגוורטס\n- משרד הקסמים\n- כיכר גרימולד מספר 12 (מפקדת מסדר עוף החול)\n- מחלקת המסתורין\n- יער האסור\n\n**אובייקטים קסומים:**\n- נב\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ' והארי פוטר (עימותים)\n- סיריוס בלק והארי פוטר (סנדק ודוד)\n- לוציוס מאלפוי ואוכלי המוות (קשרים עם האויבים)\n- צבא דמבלדור (קבוצת תלמידים נגד משרד הקסמים) \n\n**סיכום:**\nהעלילה עוסקת במאבק של הארי וחבריו מול משרד הקסמים המסתיר את חזרתו של וולדמורט. הם מקימים את\n\n## סיכום ישויות מ\"הארי פוטר וגביע האש\"\n\n### דמויות עיקריות:\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ס ומדריך של הארי.\n- **ג'יני ויזלי** - חברה של הארי.\n- **רון ויזלי** - חברו הטוב של הארי.\n- **הרמיוני גריינג'ר** - חברה של הארי ורון.\n- **דראקו מאלפוי** - תלמיד מסלית'רין, מתנגד להארי.\n- **נרקיסה מאלפוי** - אמו של דראקו.\n- **בלטריקס לסטריינג'** - אוכלת מוות, אחותה של נרקיסה.\n- **הוראס סלגהורן** - המורה לשיקויים החדש בהוגוורטס.\n\n#### מקומות:\n-\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ות - \"הארי פוטר ואוצרות המוות\"**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- רון וויזלי\n- הרמיוני גריינג'ר\n- וולדמורט (הלורד וולדמורט)\n- דמבלדור\n- סנייפ\n- אוליבנדר\n- בלטריקס לסטריינג'\n- לונה לאבגוד\n- נוויל לונגבוטום\n\n**חפצים קסומים:**\n- הורקרוקסים של וולדמורט\n- שרביט הסמבוק\n- אבן התחייה\n- גלימת ההיעלמות\n- חרבו של גריפינד\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ות בספר \"הארי פוטר והנסיך חצוי-הדם\":\n\n#### דמויות:\n- **הארי פוטר** - הגיבור הראשי, תלמיד בהוגוורטס.\n- **סוורוס סנייפ** - מורה להתגוננות מפני כוחות האופל, אוכל מוות, מכונה \"הנסיך חצוי הדם\".\n- **אלבוס דמבלדור** - מנהל הוגוורטס ומדריך של הארי.\n- **ג'יני ויזלי** - חברה של הארי.\n- **רון ויזלי** - חברו הטוב של הארי.\n- **הרמיוני גריינג'ר** - חבר\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ועים מרכזיים:**\n- הארי מקבל אזהרה מדובי שלא לחזור להוגוורטס.\n- הארי ורון מתעופפים להוגוורטס במכונית המעופפת.\n- פתיחת חדר הסודות ותקיפות התלמידים.\n- גילוי מפלצת הבסיליסק והקשר שלה לטום רידל\n\n### ישויות עיקריות בספר \"הארי פוטר והנסיך חצוי-הדם\":\n\n#### דמויות:\n- **הארי פוטר** - הגיבור הראשי, תלמיד בהוגוורטס.\n- **סוורוס\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: עימותים עם אוכלי המוות\n- מותו של סנייפ\n- גילוי זיכרונות סנייפ\n- הקרב הסופי בין הארי ווולדמורט\n\n**אגדות ומסורות:**\n- מעשה בשלושה אחים (אוצרות המוות)\n- האמונה באוצרות המוות\n- סיפורו של דמבלדור\n\n**מערכת יחסים בין דמויות:**\n- הארי, רון והרמיוני - חברים ושותפים להרפתקאות\n- דמבלדור - מורה והדרכה להארי\n- סנייפ - דמות מורכבת, שי�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: � והאירועים המרכזיים בספר \"ה\n\n**עיקרי הישויות והקשרים מתוך \"הארי פוטר ומסדר עוף-החול\":**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- וולדמורט\n- דמבלדור\n- רון וויזלי\n- הרמיוני גריינג'ר\n- סיריוס בלק\n- דולורס אמברידג'\n- אלאסטור מודי\n- רמוס לופין\n- נימפדורה טונקס\n- קינגסלי שאקלבולט\n- לוציוס מאלפוי\n- דאדלי דרסלי\n- ג\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ים קסומים:**\n- יומן טום רידל: יומן קסום שמחזיק בזכרונותיו של רידל.\n- חרב גודריק גריפנדור: חרב קסומה שהארי משתמש בה בקרב נגד הבסיליסק.\n- מכונית מעופפת (פורד אנגליה): המכונית של אביו של רון, ששימשה לבריחה.\n\n**אירועים מרכזיים:**\n- הארי מקבל אזהרה מדובי שלא לחזור להוגוורטס.\n- הארי ורון מתעופפים להוגוורטס במכונית המעו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: � לסטריינג'** - אוכלת מוות, אחותה של נרקיסה.\n- **הוראס סלגהורן** - המורה לשיקויים החדש בהוגוורטס.\n\n#### מקומות:\n- **הוגוורטס** - בית הספר לקוסמים.\n- **הבית של הוויזלים** (מחילה) - בית משפחת ויזלי.\n- **החדר הנחיצות** - מקום מסתורי בהוגוורטס.\n- **האסטרונומיה** - מגדל בו מתרחש הקרב הסופי.\n\n#### חפצים קסומים:\n- **הורקרוקס** - פריט המכיל חלק\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: עוף החול של דמבלדור.\n\n**מקומות:**\n- הוגוורטס: בית הספר לכישוף ולקוסמות.\n- חדר הסודות: חדר סודי בהוגוורטס, בו שוכנת מפלצת.\n- המחילה: בית משפחת וויזלי.\n- היער האסור: מקום מסוכן בו שוכנים יצורים קסומים.\n\n**אובייקטים קסומים:**\n- יומן טום רידל: יומן קסום שמחזיק בזכרונותיו של רידל.\n- חרב גודריק גריפנדור: חרב קסומ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: - קוויריניוס קווירל\n   - וולדמורט\n   - נוויל לונגבוטום\n   - ניקולס פלאמל\n\n2. **מקומות:**\n   - דרך פריווט מספר ארבע\n   - סמטת דיאגון\n   - גרינגוטס\n   - הוגוורטס\n   - רציף תשע ושלושה רבעים\n   - היער האסור\n   - חדר המדליות\n   - מגדל האסטרונומיה\n\n3. **חפצים קסומים:**\n   - גלימת היעלמות\n   - אבן החכמים\n   - כדור זיכרון\n   - הראי של �\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: **ישויות מרכזיות מתוך \"הארי פוטר ואבן החכמים\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - אדון וגברת דרסלי\n   - דאדלי דרסלי\n   - האגריד\n   - רון ויזלי\n   - הרמיוני גריינג'ר\n   - דראקו מאלפוי\n   - סוורוס סנייפ\n   - מינרווה מקגונגל\n   - קוויריניוס קווירל\n   - וולדמורט\n   - נוויל לונגבוטום\n   - ניקולס פלאמל\n\n2. **מקומות:**\n   - דרך פריווט מס\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: רסלים\n- אחוזת מאלפוי\n- כיכר גרימולד מספר 12\n- גרינגוטס\n- מכתש גודריק\n- יער דין\n- בקתת הצדפים\n\n**אירועים מרכזיים:**\n- מסע ההשמדת ההורקרוקסים\n- הקרב על הוגוורטס\n- החתונה של ביל ופלר\n- פריצה לגרינגוטס\n- עימותים עם אוכלי המוות\n- מותו של סנייפ\n- גילוי זיכרונות סנייפ\n- הקרב הסופי בין הארי ווולדמורט\n\n**אגדות ו\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: )\n   - אזקבאן (כלא הקוסמים)\n   - קלחת הרותחת (פאב בלונדון)\n   - הוגסמיד (כפר קוסמים)\n\n3. **חפצים קסומים:**\n   - מחולל זמן (חפץ קסום של הרמיוני)\n   - מטאטא \"אש המחץ\" (מטאטא חדש בעולם הקוסמים)\n\n4. **יצורים:**\n   - סוהרסנים (יצורים ששואבים שמחה ומחשבות טובות)\n\n5. **אירועים:**\n   - בריחתו של סיריוס בלק מאזקבאן\n   - הפגישה הראשונה של הארי ע\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ליות\n   - מגדל האסטרונומיה\n\n3. **חפצים קסומים:**\n   - גלימת היעלמות\n   - אבן החכמים\n   - כדור זיכרון\n   - הראי של ינפתא\n   - פלאפי (הכלב התלת-ראשי)\n   - דרקון (נורברט)\n\n4. **אירועים מרכזיים:**\n   - קבלת המכתב מהוגוורטס\n   - טיסה על מטאטא\n   - משחק קווידיץ' הראשון\n   - הקרב עם הטרול\n   - חיפוש מידע על ניקולס פלאמל\n   - הברחת נורברט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ת ידע גרפי הממח\n\n**סיכום ישויות מתוך \"הארי פוטר והאסיר מאזקבאן\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - סיריוס בלק (רוצח המונים, סנדק של הארי)\n   - הרמיוני גריינג'ר (חברתו של הארי)\n   - רון וויזלי (חברו של הארי)\n   - פרופסור טרלוני (מנבאת)\n   - פרופסור מקגונגל (מנהלת הוגוורטס)\n   - פרופסור לופין (מורה חדש להתגוננות מפני כוחות האופל)\n   -\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: :**\n- הארי, רון והרמיוני - חברים ושותפים להרפתקאות\n- דמבלדור - מורה והדרכה להארי\n- סנייפ - דמות מורכבת, שיתוף פעולה עם דמבלדור\n- וולדמורט - האויב הראשי של הארי וחבריו\n\nהסיכום הזה מכיל את הדמויות, החפצים, המקומות והאירועים המרכזיים בספר \"ה\n\n**עיקרי הישויות והקשרים מתוך \"הארי פוטר ומסדר עוף-החול\":**\n\n**דמויות מרכזיות\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: .\n- האגריד מסייע להארי ברכישת חפצים קסומים ומגלה לו על פלאפי.\n- סוורוס סנייפ מנסה להפעיל הגנות על אבן החכמים.\n- וולדמורט מנסה לגנוב את אבן החכמים באמצעות קוויריניוס קווירל. \n\nהנתונים הללו יכולים לשמש ליצירת ידע גרפי הממח\n\n**סיכום ישויות מתוך \"הארי פוטר והאסיר מאזקבאן\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - סיריוס בל�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: תפאר בעצמו.\n- דראקו מאלפוי: יריבו של הארי.\n- מירטל המייללת: רוח רפאים השוכנת בשירותים של הבנות.\n- דובי: גמדון בית המזהיר את הארי.\n- טום רידל: דמות מהעבר, בעל היומן הקסום.\n- האגריד: שומר היער, מורה בהוגוורטס.\n- פוקס: עוף החול של דמבלדור.\n\n**מקומות:**\n- הוגוורטס: בית הספר לכישוף ולקוסמות.\n- חדר הסודות: חדר סודי בהוגוורט�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: הוגוורטס.\n- **האסטרונומיה** - מגדל בו מתרחש הקרב הסופי.\n\n#### חפצים קסומים:\n- **הורקרוקס** - פריט המכיל חלק מנשמתו של קוסם (וולדמורט).\n- **ספר השיקויים של הנסיך חצוי הדם** - ספר המנחה את הארי בהכנת שיקויים.\n- **הגביע של הפלפאף** - אחד מההורקרוקסים של וולדמורט.\n- **טבעת של ואנדרולו** - הורקרוקס נוסף.\n\n#### אירועים חשובים:\n- **פג\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: הפלפאף** - אחד מההורקרוקסים של וולדמורט.\n- **טבעת של ואנדרולו** - הורקרוקס נוסף.\n\n#### אירועים חשובים:\n- **פגישת ראש הממשלה עם שר הקסמים** - מספקת מידע על פעילות וולדמורט.\n- **ההתקפה על דמבלדור** - ס\n\n**סיכום ישויות - \"הארי פוטר ואוצרות המוות\"**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- רון וויזלי\n- הרמיוני גריינג'ר\n- וולדמורט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: רים בין הדמויות והאירועים יכולים לשמש לבניית גרף ידע הממחיש את המערכות היחסים והקשרים בין הישויות השונות בסיפור.\n\n**הארי פוטר וחדר הסודות - סיכום ישויות מרכזיות:**\n\n**דמויות:**\n- הארי פוטר: קוסם, גיבור הסיפור, תלמיד בהוגוורטס.\n- רון וויזלי: חברו של הארי, תלמיד בהוגוורטס.\n- הרמיוני גריינג'ר: חברה של הארי ורון, תלמידה מו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: פצים קסומים:**\n- הורקרוקסים של וולדמורט\n- שרביט הסמבוק\n- אבן התחייה\n- גלימת ההיעלמות\n- חרבו של גריפינדור\n- סניץ' הראשון של הארי\n- הספל של הפלפאף\n- עין מכושפת של עין הזעם מודי\n\n**מיקומים:**\n- הוגוורטס\n- בית הדרסלים\n- אחוזת מאלפוי\n- כיכר גרימולד מספר 12\n- גרינגוטס\n- מכתש גודריק\n- יער דין\n- בקתת הצדפים\n\n**איר\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: י (מנבאת)\n   - פרופסור מקגונגל (מנהלת הוגוורטס)\n   - פרופסור לופין (מורה חדש להתגוננות מפני כוחות האופל)\n   - קורנליוס פאדג' (שר הקסמים)\n   - משפחת וויזלי (המשפחה של רון)\n\n2. **מקומות:**\n   - הוגוורטס (בית הספר לקוסמים)\n   - אזקבאן (כלא הקוסמים)\n   - קלחת הרותחת (פאב בלונדון)\n   - הוגסמיד (כפר קוסמים)\n\n3. **חפצים קסומים:**\n   - מח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: לאסטור מודי\n- רמוס לופין\n- נימפדורה טונקס\n- קינגסלי שאקלבולט\n- לוציוס מאלפוי\n- דאדלי דרסלי\n- ג'יני וויזלי\n- פרד וויזלי\n- ג'ורג' וויזלי\n- סיביל טרלוני\n- קריצ'ר\n\n**מקומות:**\n- הוגוורטס\n- משרד הקסמים\n- כיכר גרימולד מספר 12 (מפקדת מסדר עוף החול)\n- מחלקת המסתורין\n- יער האסור\n\n**אובייקטים קסומים:**\n- נב\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ' והארי פוטר (עימותים)\n- סיריוס בלק והארי פוטר (סנדק ודוד)\n- לוציוס מאלפוי ואוכלי המוות (קשרים עם האויבים)\n- צבא דמבלדור (קבוצת תלמידים נגד משרד הקסמים) \n\n**סיכום:**\nהעלילה עוסקת במאבק של הארי וחבריו מול משרד הקסמים המסתיר את חזרתו של וולדמורט. הם מקימים את\n\n## סיכום ישויות מ\"הארי פוטר וגביע האש\"\n\n### דמויות עיקריות:\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ס ומדריך של הארי.\n- **ג'יני ויזלי** - חברה של הארי.\n- **רון ויזלי** - חברו הטוב של הארי.\n- **הרמיוני גריינג'ר** - חברה של הארי ורון.\n- **דראקו מאלפוי** - תלמיד מסלית'רין, מתנגד להארי.\n- **נרקיסה מאלפוי** - אמו של דראקו.\n- **בלטריקס לסטריינג'** - אוכלת מוות, אחותה של נרקיסה.\n- **הוראס סלגהורן** - המורה לשיקויים החדש בהוגוורטס.\n\n#### מקומות:\n-\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ות - \"הארי פוטר ואוצרות המוות\"**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- רון וויזלי\n- הרמיוני גריינג'ר\n- וולדמורט (הלורד וולדמורט)\n- דמבלדור\n- סנייפ\n- אוליבנדר\n- בלטריקס לסטריינג'\n- לונה לאבגוד\n- נוויל לונגבוטום\n\n**חפצים קסומים:**\n- הורקרוקסים של וולדמורט\n- שרביט הסמבוק\n- אבן התחייה\n- גלימת ההיעלמות\n- חרבו של גריפינד\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ות בספר \"הארי פוטר והנסיך חצוי-הדם\":\n\n#### דמויות:\n- **הארי פוטר** - הגיבור הראשי, תלמיד בהוגוורטס.\n- **סוורוס סנייפ** - מורה להתגוננות מפני כוחות האופל, אוכל מוות, מכונה \"הנסיך חצוי הדם\".\n- **אלבוס דמבלדור** - מנהל הוגוורטס ומדריך של הארי.\n- **ג'יני ויזלי** - חברה של הארי.\n- **רון ויזלי** - חברו הטוב של הארי.\n- **הרמיוני גריינג'ר** - חבר\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ועים מרכזיים:**\n- הארי מקבל אזהרה מדובי שלא לחזור להוגוורטס.\n- הארי ורון מתעופפים להוגוורטס במכונית המעופפת.\n- פתיחת חדר הסודות ותקיפות התלמידים.\n- גילוי מפלצת הבסיליסק והקשר שלה לטום רידל\n\n### ישויות עיקריות בספר \"הארי פוטר והנסיך חצוי-הדם\":\n\n#### דמויות:\n- **הארי פוטר** - הגיבור הראשי, תלמיד בהוגוורטס.\n- **סוורוס\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: עימותים עם אוכלי המוות\n- מותו של סנייפ\n- גילוי זיכרונות סנייפ\n- הקרב הסופי בין הארי ווולדמורט\n\n**אגדות ומסורות:**\n- מעשה בשלושה אחים (אוצרות המוות)\n- האמונה באוצרות המוות\n- סיפורו של דמבלדור\n\n**מערכת יחסים בין דמויות:**\n- הארי, רון והרמיוני - חברים ושותפים להרפתקאות\n- דמבלדור - מורה והדרכה להארי\n- סנייפ - דמות מורכבת, שי�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: � והאירועים המרכזיים בספר \"ה\n\n**עיקרי הישויות והקשרים מתוך \"הארי פוטר ומסדר עוף-החול\":**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- וולדמורט\n- דמבלדור\n- רון וויזלי\n- הרמיוני גריינג'ר\n- סיריוס בלק\n- דולורס אמברידג'\n- אלאסטור מודי\n- רמוס לופין\n- נימפדורה טונקס\n- קינגסלי שאקלבולט\n- לוציוס מאלפוי\n- דאדלי דרסלי\n- ג\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ים קסומים:**\n- יומן טום רידל: יומן קסום שמחזיק בזכרונותיו של רידל.\n- חרב גודריק גריפנדור: חרב קסומה שהארי משתמש בה בקרב נגד הבסיליסק.\n- מכונית מעופפת (פורד אנגליה): המכונית של אביו של רון, ששימשה לבריחה.\n\n**אירועים מרכזיים:**\n- הארי מקבל אזהרה מדובי שלא לחזור להוגוורטס.\n- הארי ורון מתעופפים להוגוורטס במכונית המעו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: � לסטריינג'** - אוכלת מוות, אחותה של נרקיסה.\n- **הוראס סלגהורן** - המורה לשיקויים החדש בהוגוורטס.\n\n#### מקומות:\n- **הוגוורטס** - בית הספר לקוסמים.\n- **הבית של הוויזלים** (מחילה) - בית משפחת ויזלי.\n- **החדר הנחיצות** - מקום מסתורי בהוגוורטס.\n- **האסטרונומיה** - מגדל בו מתרחש הקרב הסופי.\n\n#### חפצים קסומים:\n- **הורקרוקס** - פריט המכיל חלק\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: עוף החול של דמבלדור.\n\n**מקומות:**\n- הוגוורטס: בית הספר לכישוף ולקוסמות.\n- חדר הסודות: חדר סודי בהוגוורטס, בו שוכנת מפלצת.\n- המחילה: בית משפחת וויזלי.\n- היער האסור: מקום מסוכן בו שוכנים יצורים קסומים.\n\n**אובייקטים קסומים:**\n- יומן טום רידל: יומן קסום שמחזיק בזכרונותיו של רידל.\n- חרב גודריק גריפנדור: חרב קסומ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: :**\n- הארי, רון והרמיוני - חברים ושותפים להרפתקאות\n- דמבלדור - מורה והדרכה להארי\n- סנייפ - דמות מורכבת, שיתוף פעולה עם דמבלדור\n- וולדמורט - האויב הראשי של הארי וחבריו\n\nהסיכום הזה מכיל את הדמויות, החפצים, המקומות והאירועים המרכזיים בספר \"ה\n\n**עיקרי הישויות והקשרים מתוך \"הארי פוטר ומסדר עוף-החול\":**\n\n**דמויות מרכזיות\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ת ידע גרפי הממח\n\n**סיכום ישויות מתוך \"הארי פוטר והאסיר מאזקבאן\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - סיריוס בלק (רוצח המונים, סנדק של הארי)\n   - הרמיוני גריינג'ר (חברתו של הארי)\n   - רון וויזלי (חברו של הארי)\n   - פרופסור טרלוני (מנבאת)\n   - פרופסור מקגונגל (מנהלת הוגוורטס)\n   - פרופסור לופין (מורה חדש להתגוננות מפני כוחות האופל)\n   -\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: - קוויריניוס קווירל\n   - וולדמורט\n   - נוויל לונגבוטום\n   - ניקולס פלאמל\n\n2. **מקומות:**\n   - דרך פריווט מספר ארבע\n   - סמטת דיאגון\n   - גרינגוטס\n   - הוגוורטס\n   - רציף תשע ושלושה רבעים\n   - היער האסור\n   - חדר המדליות\n   - מגדל האסטרונומיה\n\n3. **חפצים קסומים:**\n   - גלימת היעלמות\n   - אבן החכמים\n   - כדור זיכרון\n   - הראי של �\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: רים בין הדמויות והאירועים יכולים לשמש לבניית גרף ידע הממחיש את המערכות היחסים והקשרים בין הישויות השונות בסיפור.\n\n**הארי פוטר וחדר הסודות - סיכום ישויות מרכזיות:**\n\n**דמויות:**\n- הארי פוטר: קוסם, גיבור הסיפור, תלמיד בהוגוורטס.\n- רון וויזלי: חברו של הארי, תלמיד בהוגוורטס.\n- הרמיוני גריינג'ר: חברה של הארי ורון, תלמידה מו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: רסלים\n- אחוזת מאלפוי\n- כיכר גרימולד מספר 12\n- גרינגוטס\n- מכתש גודריק\n- יער דין\n- בקתת הצדפים\n\n**אירועים מרכזיים:**\n- מסע ההשמדת ההורקרוקסים\n- הקרב על הוגוורטס\n- החתונה של ביל ופלר\n- פריצה לגרינגוטס\n- עימותים עם אוכלי המוות\n- מותו של סנייפ\n- גילוי זיכרונות סנייפ\n- הקרב הסופי בין הארי ווולדמורט\n\n**אגדות ו\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: תפאר בעצמו.\n- דראקו מאלפוי: יריבו של הארי.\n- מירטל המייללת: רוח רפאים השוכנת בשירותים של הבנות.\n- דובי: גמדון בית המזהיר את הארי.\n- טום רידל: דמות מהעבר, בעל היומן הקסום.\n- האגריד: שומר היער, מורה בהוגוורטס.\n- פוקס: עוף החול של דמבלדור.\n\n**מקומות:**\n- הוגוורטס: בית הספר לכישוף ולקוסמות.\n- חדר הסודות: חדר סודי בהוגוורט�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: הוגוורטס.\n- **האסטרונומיה** - מגדל בו מתרחש הקרב הסופי.\n\n#### חפצים קסומים:\n- **הורקרוקס** - פריט המכיל חלק מנשמתו של קוסם (וולדמורט).\n- **ספר השיקויים של הנסיך חצוי הדם** - ספר המנחה את הארי בהכנת שיקויים.\n- **הגביע של הפלפאף** - אחד מההורקרוקסים של וולדמורט.\n- **טבעת של ואנדרולו** - הורקרוקס נוסף.\n\n#### אירועים חשובים:\n- **פג\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: )\n   - אזקבאן (כלא הקוסמים)\n   - קלחת הרותחת (פאב בלונדון)\n   - הוגסמיד (כפר קוסמים)\n\n3. **חפצים קסומים:**\n   - מחולל זמן (חפץ קסום של הרמיוני)\n   - מטאטא \"אש המחץ\" (מטאטא חדש בעולם הקוסמים)\n\n4. **יצורים:**\n   - סוהרסנים (יצורים ששואבים שמחה ומחשבות טובות)\n\n5. **אירועים:**\n   - בריחתו של סיריוס בלק מאזקבאן\n   - הפגישה הראשונה של הארי ע\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ליות\n   - מגדל האסטרונומיה\n\n3. **חפצים קסומים:**\n   - גלימת היעלמות\n   - אבן החכמים\n   - כדור זיכרון\n   - הראי של ינפתא\n   - פלאפי (הכלב התלת-ראשי)\n   - דרקון (נורברט)\n\n4. **אירועים מרכזיים:**\n   - קבלת המכתב מהוגוורטס\n   - טיסה על מטאטא\n   - משחק קווידיץ' הראשון\n   - הקרב עם הטרול\n   - חיפוש מידע על ניקולס פלאמל\n   - הברחת נורברט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: י (מנבאת)\n   - פרופסור מקגונגל (מנהלת הוגוורטס)\n   - פרופסור לופין (מורה חדש להתגוננות מפני כוחות האופל)\n   - קורנליוס פאדג' (שר הקסמים)\n   - משפחת וויזלי (המשפחה של רון)\n\n2. **מקומות:**\n   - הוגוורטס (בית הספר לקוסמים)\n   - אזקבאן (כלא הקוסמים)\n   - קלחת הרותחת (פאב בלונדון)\n   - הוגסמיד (כפר קוסמים)\n\n3. **חפצים קסומים:**\n   - מח\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: פצים קסומים:**\n- הורקרוקסים של וולדמורט\n- שרביט הסמבוק\n- אבן התחייה\n- גלימת ההיעלמות\n- חרבו של גריפינדור\n- סניץ' הראשון של הארי\n- הספל של הפלפאף\n- עין מכושפת של עין הזעם מודי\n\n**מיקומים:**\n- הוגוורטס\n- בית הדרסלים\n- אחוזת מאלפוי\n- כיכר גרימולד מספר 12\n- גרינגוטס\n- מכתש גודריק\n- יער דין\n- בקתת הצדפים\n\n**איר\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: **ישויות מרכזיות מתוך \"הארי פוטר ואבן החכמים\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - אדון וגברת דרסלי\n   - דאדלי דרסלי\n   - האגריד\n   - רון ויזלי\n   - הרמיוני גריינג'ר\n   - דראקו מאלפוי\n   - סוורוס סנייפ\n   - מינרווה מקגונגל\n   - קוויריניוס קווירל\n   - וולדמורט\n   - נוויל לונגבוטום\n   - ניקולס פלאמל\n\n2. **מקומות:**\n   - דרך פריווט מס\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: הפלפאף** - אחד מההורקרוקסים של וולדמורט.\n- **טבעת של ואנדרולו** - הורקרוקס נוסף.\n\n#### אירועים חשובים:\n- **פגישת ראש הממשלה עם שר הקסמים** - מספקת מידע על פעילות וולדמורט.\n- **ההתקפה על דמבלדור** - ס\n\n**סיכום ישויות - \"הארי פוטר ואוצרות המוות\"**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- רון וויזלי\n- הרמיוני גריינג'ר\n- וולדמורט\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: .\n- האגריד מסייע להארי ברכישת חפצים קסומים ומגלה לו על פלאפי.\n- סוורוס סנייפ מנסה להפעיל הגנות על אבן החכמים.\n- וולדמורט מנסה לגנוב את אבן החכמים באמצעות קוויריניוס קווירל. \n\nהנתונים הללו יכולים לשמש ליצירת ידע גרפי הממח\n\n**סיכום ישויות מתוך \"הארי פוטר והאסיר מאזקבאן\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - סיריוס בל�\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: לאסטור מודי\n- רמוס לופין\n- נימפדורה טונקס\n- קינגסלי שאקלבולט\n- לוציוס מאלפוי\n- דאדלי דרסלי\n- ג'יני וויזלי\n- פרד וויזלי\n- ג'ורג' וויזלי\n- סיביל טרלוני\n- קריצ'ר\n\n**מקומות:**\n- הוגוורטס\n- משרד הקסמים\n- כיכר גרימולד מספר 12 (מפקדת מסדר עוף החול)\n- מחלקת המסתורין\n- יער האסור\n\n**אובייקטים קסומים:**\n- נב\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ' והארי פוטר (עימותים)\n- סיריוס בלק והארי פוטר (סנדק ודוד)\n- לוציוס מאלפוי ואוכלי המוות (קשרים עם האויבים)\n- צבא דמבלדור (קבוצת תלמידים נגד משרד הקסמים) \n\n**סיכום:**\nהעלילה עוסקת במאבק של הארי וחבריו מול משרד הקסמים המסתיר את חזרתו של וולדמורט. הם מקימים את\n\n## סיכום ישויות מ\"הארי פוטר וגביע האש\"\n\n### דמויות עיקריות:\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ס ומדריך של הארי.\n- **ג'יני ויזלי** - חברה של הארי.\n- **רון ויזלי** - חברו הטוב של הארי.\n- **הרמיוני גריינג'ר** - חברה של הארי ורון.\n- **דראקו מאלפוי** - תלמיד מסלית'רין, מתנגד להארי.\n- **נרקיסה מאלפוי** - אמו של דראקו.\n- **בלטריקס לסטריינג'** - אוכלת מוות, אחותה של נרקיסה.\n- **הוראס סלגהורן** - המורה לשיקויים החדש בהוגוורטס.\n\n#### מקומות:\n-\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "�ס ומדריך של הארי.\n- **ג'יני ויזלי** - חברה של הארי.\n- **רון ויזלי** - חברו הטוב של הארי.\n- **הרמיוני גריינג'ר** - חברה של הארי ורון.\n- **דראקו מאלפוי** - תלמיד מסלית'רין, מתנגד להארי.\n- **נרקיסה מאלפוי** - אמו של דראקו.\n- **בלטריקס לסטריינג'** - אוכלת מוות, אחותה של נרקיסה.\n- **הוראס סלגהורן** - המורה לשיקויים החדש בהוגוורטס.\n\n#### מקומות:\n-"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ות - \"הארי פוטר ואוצרות המוות\"**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- רון וויזלי\n- הרמיוני גריינג'ר\n- וולדמורט (הלורד וולדמורט)\n- דמבלדור\n- סנייפ\n- אוליבנדר\n- בלטריקס לסטריינג'\n- לונה לאבגוד\n- נוויל לונגבוטום\n\n**חפצים קסומים:**\n- הורקרוקסים של וולדמורט\n- שרביט הסמבוק\n- אבן התחייה\n- גלימת ההיעלמות\n- חרבו של גריפינד\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "ות - \"הארי פוטר ואוצרות המוות\"**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- רון וויזלי\n- הרמיוני גריינג'ר\n- וולדמורט (הלורד וולדמורט)\n- דמבלדור\n- סנייפ\n- אוליבנדר\n- בלטריקס לסטריינג'\n- לונה לאבגוד\n- נוויל לונגבוטום\n\n**חפצים קסומים:**\n- הורקרוקסים של וולדמורט\n- שרביט הסמבוק\n- אבן התחייה\n- גלימת ההיעלמות\n- חרבו של גריפינד"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ות בספר \"הארי פוטר והנסיך חצוי-הדם\":\n\n#### דמויות:\n- **הארי פוטר** - הגיבור הראשי, תלמיד בהוגוורטס.\n- **סוורוס סנייפ** - מורה להתגוננות מפני כוחות האופל, אוכל מוות, מכונה \"הנסיך חצוי הדם\".\n- **אלבוס דמבלדור** - מנהל הוגוורטס ומדריך של הארי.\n- **ג'יני ויזלי** - חברה של הארי.\n- **רון ויזלי** - חברו הטוב של הארי.\n- **הרמיוני גריינג'ר** - חבר\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "ות בספר \"הארי פוטר והנסיך חצוי-הדם\":\n\n#### דמויות:\n- **הארי פוטר** - הגיבור הראשי, תלמיד בהוגוורטס.\n- **סוורוס סנייפ** - מורה להתגוננות מפני כוחות האופל, אוכל מוות, מכונה \"הנסיך חצוי הדם\".\n- **אלבוס דמבלדור** - מנהל הוגוורטס ומדריך של הארי.\n- **ג'יני ויזלי** - חברה של הארי.\n- **רון ויזלי** - חברו הטוב של הארי.\n- **הרמיוני גריינג'ר** - חבר"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ועים מרכזיים:**\n- הארי מקבל אזהרה מדובי שלא לחזור להוגוורטס.\n- הארי ורון מתעופפים להוגוורטס במכונית המעופפת.\n- פתיחת חדר הסודות ותקיפות התלמידים.\n- גילוי מפלצת הבסיליסק והקשר שלה לטום רידל\n\n### ישויות עיקריות בספר \"הארי פוטר והנסיך חצוי-הדם\":\n\n#### דמויות:\n- **הארי פוטר** - הגיבור הראשי, תלמיד בהוגוורטס.\n- **סוורוס\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "�ועים מרכזיים:**\n- הארי מקבל אזהרה מדובי שלא לחזור להוגוורטס.\n- הארי ורון מתעופפים להוגוורטס במכונית המעופפת.\n- פתיחת חדר הסודות ותקיפות התלמידים.\n- גילוי מפלצת הבסיליסק והקשר שלה לטום רידל\n\n### ישויות עיקריות בספר \"הארי פוטר והנסיך חצוי-הדם\":\n\n#### דמויות:\n- **הארי פוטר** - הגיבור הראשי, תלמיד בהוגוורטס.\n- **סוורוס"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: עימותים עם אוכלי המוות\n- מותו של סנייפ\n- גילוי זיכרונות סנייפ\n- הקרב הסופי בין הארי ווולדמורט\n\n**אגדות ומסורות:**\n- מעשה בשלושה אחים (אוצרות המוות)\n- האמונה באוצרות המוות\n- סיפורו של דמבלדור\n\n**מערכת יחסים בין דמויות:**\n- הארי, רון והרמיוני - חברים ושותפים להרפתקאות\n- דמבלדור - מורה והדרכה להארי\n- סנייפ - דמות מורכבת, שי�\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "עימותים עם אוכלי המוות\n- מותו של סנייפ\n- גילוי זיכרונות סנייפ\n- הקרב הסופי בין הארי ווולדמורט\n\n**אגדות ומסורות:**\n- מעשה בשלושה אחים (אוצרות המוות)\n- האמונה באוצרות המוות\n- סיפורו של דמבלדור\n\n**מערכת יחסים בין דמויות:**\n- הארי, רון והרמיוני - חברים ושותפים להרפתקאות\n- דמבלדור - מורה והדרכה להארי\n- סנייפ - דמות מורכבת, שי�"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: � והאירועים המרכזיים בספר \"ה\n\n**עיקרי הישויות והקשרים מתוך \"הארי פוטר ומסדר עוף-החול\":**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- וולדמורט\n- דמבלדור\n- רון וויזלי\n- הרמיוני גריינג'ר\n- סיריוס בלק\n- דולורס אמברידג'\n- אלאסטור מודי\n- רמוס לופין\n- נימפדורה טונקס\n- קינגסלי שאקלבולט\n- לוציוס מאלפוי\n- דאדלי דרסלי\n- ג\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "� והאירועים המרכזיים בספר \"ה\n\n**עיקרי הישויות והקשרים מתוך \"הארי פוטר ומסדר עוף-החול\":**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- וולדמורט\n- דמבלדור\n- רון וויזלי\n- הרמיוני גריינג'ר\n- סיריוס בלק\n- דולורס אמברידג'\n- אלאסטור מודי\n- רמוס לופין\n- נימפדורה טונקס\n- קינגסלי שאקלבולט\n- לוציוס מאלפוי\n- דאדלי דרסלי\n- ג"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ים קסומים:**\n- יומן טום רידל: יומן קסום שמחזיק בזכרונותיו של רידל.\n- חרב גודריק גריפנדור: חרב קסומה שהארי משתמש בה בקרב נגד הבסיליסק.\n- מכונית מעופפת (פורד אנגליה): המכונית של אביו של רון, ששימשה לבריחה.\n\n**אירועים מרכזיים:**\n- הארי מקבל אזהרה מדובי שלא לחזור להוגוורטס.\n- הארי ורון מתעופפים להוגוורטס במכונית המעו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "ים קסומים:**\n- יומן טום רידל: יומן קסום שמחזיק בזכרונותיו של רידל.\n- חרב גודריק גריפנדור: חרב קסומה שהארי משתמש בה בקרב נגד הבסיליסק.\n- מכונית מעופפת (פורד אנגליה): המכונית של אביו של רון, ששימשה לבריחה.\n\n**אירועים מרכזיים:**\n- הארי מקבל אזהרה מדובי שלא לחזור להוגוורטס.\n- הארי ורון מתעופפים להוגוורטס במכונית המעו�"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: � לסטריינג'** - אוכלת מוות, אחותה של נרקיסה.\n- **הוראס סלגהורן** - המורה לשיקויים החדש בהוגוורטס.\n\n#### מקומות:\n- **הוגוורטס** - בית הספר לקוסמים.\n- **הבית של הוויזלים** (מחילה) - בית משפחת ויזלי.\n- **החדר הנחיצות** - מקום מסתורי בהוגוורטס.\n- **האסטרונומיה** - מגדל בו מתרחש הקרב הסופי.\n\n#### חפצים קסומים:\n- **הורקרוקס** - פריט המכיל חלק\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "� לסטריינג'** - אוכלת מוות, אחותה של נרקיסה.\n- **הוראס סלגהורן** - המורה לשיקויים החדש בהוגוורטס.\n\n#### מקומות:\n- **הוגוורטס** - בית הספר לקוסמים.\n- **הבית של הוויזלים** (מחילה) - בית משפחת ויזלי.\n- **החדר הנחיצות** - מקום מסתורי בהוגוורטס.\n- **האסטרונומיה** - מגדל בו מתרחש הקרב הסופי.\n\n#### חפצים קסומים:\n- **הורקרוקס** - פריט המכיל חלק"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �ת ידע גרפי הממח\n\n**סיכום ישויות מתוך \"הארי פוטר והאסיר מאזקבאן\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - סיריוס בלק (רוצח המונים, סנדק של הארי)\n   - הרמיוני גריינג'ר (חברתו של הארי)\n   - רון וויזלי (חברו של הארי)\n   - פרופסור טרלוני (מנבאת)\n   - פרופסור מקגונגל (מנהלת הוגוורטס)\n   - פרופסור לופין (מורה חדש להתגוננות מפני כוחות האופל)\n   -\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "�ת ידע גרפי הממח\n\n**סיכום ישויות מתוך \"הארי פוטר והאסיר מאזקבאן\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - סיריוס בלק (רוצח המונים, סנדק של הארי)\n   - הרמיוני גריינג'ר (חברתו של הארי)\n   - רון וויזלי (חברו של הארי)\n   - פרופסור טרלוני (מנבאת)\n   - פרופסור מקגונגל (מנהלת הוגוורטס)\n   - פרופסור לופין (מורה חדש להתגוננות מפני כוחות האופל)\n   -"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: עוף החול של דמבלדור.\n\n**מקומות:**\n- הוגוורטס: בית הספר לכישוף ולקוסמות.\n- חדר הסודות: חדר סודי בהוגוורטס, בו שוכנת מפלצת.\n- המחילה: בית משפחת וויזלי.\n- היער האסור: מקום מסוכן בו שוכנים יצורים קסומים.\n\n**אובייקטים קסומים:**\n- יומן טום רידל: יומן קסום שמחזיק בזכרונותיו של רידל.\n- חרב גודריק גריפנדור: חרב קסומ\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "עוף החול של דמבלדור.\n\n**מקומות:**\n- הוגוורטס: בית הספר לכישוף ולקוסמות.\n- חדר הסודות: חדר סודי בהוגוורטס, בו שוכנת מפלצת.\n- המחילה: בית משפחת וויזלי.\n- היער האסור: מקום מסוכן בו שוכנים יצורים קסומים.\n\n**אובייקטים קסומים:**\n- יומן טום רידל: יומן קסום שמחזיק בזכרונותיו של רידל.\n- חרב גודריק גריפנדור: חרב קסומ"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: :**\n- הארי, רון והרמיוני - חברים ושותפים להרפתקאות\n- דמבלדור - מורה והדרכה להארי\n- סנייפ - דמות מורכבת, שיתוף פעולה עם דמבלדור\n- וולדמורט - האויב הראשי של הארי וחבריו\n\nהסיכום הזה מכיל את הדמויות, החפצים, המקומות והאירועים המרכזיים בספר \"ה\n\n**עיקרי הישויות והקשרים מתוך \"הארי פוטר ומסדר עוף-החול\":**\n\n**דמויות מרכזיות\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": ":**\n- הארי, רון והרמיוני - חברים ושותפים להרפתקאות\n- דמבלדור - מורה והדרכה להארי\n- סנייפ - דמות מורכבת, שיתוף פעולה עם דמבלדור\n- וולדמורט - האויב הראשי של הארי וחבריו\n\nהסיכום הזה מכיל את הדמויות, החפצים, המקומות והאירועים המרכזיים בספר \"ה\n\n**עיקרי הישויות והקשרים מתוך \"הארי פוטר ומסדר עוף-החול\":**\n\n**דמויות מרכזיות"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: - קוויריניוס קווירל\n   - וולדמורט\n   - נוויל לונגבוטום\n   - ניקולס פלאמל\n\n2. **מקומות:**\n   - דרך פריווט מספר ארבע\n   - סמטת דיאגון\n   - גרינגוטס\n   - הוגוורטס\n   - רציף תשע ושלושה רבעים\n   - היער האסור\n   - חדר המדליות\n   - מגדל האסטרונומיה\n\n3. **חפצים קסומים:**\n   - גלימת היעלמות\n   - אבן החכמים\n   - כדור זיכרון\n   - הראי של �\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "- קוויריניוס קווירל\n   - וולדמורט\n   - נוויל לונגבוטום\n   - ניקולס פלאמל\n\n2. **מקומות:**\n   - דרך פריווט מספר ארבע\n   - סמטת דיאגון\n   - גרינגוטס\n   - הוגוורטס\n   - רציף תשע ושלושה רבעים\n   - היער האסור\n   - חדר המדליות\n   - מגדל האסטרונומיה\n\n3. **חפצים קסומים:**\n   - גלימת היעלמות\n   - אבן החכמים\n   - כדור זיכרון\n   - הראי של �"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: רים בין הדמויות והאירועים יכולים לשמש לבניית גרף ידע הממחיש את המערכות היחסים והקשרים בין הישויות השונות בסיפור.\n\n**הארי פוטר וחדר הסודות - סיכום ישויות מרכזיות:**\n\n**דמויות:**\n- הארי פוטר: קוסם, גיבור הסיפור, תלמיד בהוגוורטס.\n- רון וויזלי: חברו של הארי, תלמיד בהוגוורטס.\n- הרמיוני גריינג'ר: חברה של הארי ורון, תלמידה מו�\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "רים בין הדמויות והאירועים יכולים לשמש לבניית גרף ידע הממחיש את המערכות היחסים והקשרים בין הישויות השונות בסיפור.\n\n**הארי פוטר וחדר הסודות - סיכום ישויות מרכזיות:**\n\n**דמויות:**\n- הארי פוטר: קוסם, גיבור הסיפור, תלמיד בהוגוורטס.\n- רון וויזלי: חברו של הארי, תלמיד בהוגוורטס.\n- הרמיוני גריינג'ר: חברה של הארי ורון, תלמידה מו�"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: רסלים\n- אחוזת מאלפוי\n- כיכר גרימולד מספר 12\n- גרינגוטס\n- מכתש גודריק\n- יער דין\n- בקתת הצדפים\n\n**אירועים מרכזיים:**\n- מסע ההשמדת ההורקרוקסים\n- הקרב על הוגוורטס\n- החתונה של ביל ופלר\n- פריצה לגרינגוטס\n- עימותים עם אוכלי המוות\n- מותו של סנייפ\n- גילוי זיכרונות סנייפ\n- הקרב הסופי בין הארי ווולדמורט\n\n**אגדות ו\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "רסלים\n- אחוזת מאלפוי\n- כיכר גרימולד מספר 12\n- גרינגוטס\n- מכתש גודריק\n- יער דין\n- בקתת הצדפים\n\n**אירועים מרכזיים:**\n- מסע ההשמדת ההורקרוקסים\n- הקרב על הוגוורטס\n- החתונה של ביל ופלר\n- פריצה לגרינגוטס\n- עימותים עם אוכלי המוות\n- מותו של סנייפ\n- גילוי זיכרונות סנייפ\n- הקרב הסופי בין הארי ווולדמורט\n\n**אגדות ו"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: תפאר בעצמו.\n- דראקו מאלפוי: יריבו של הארי.\n- מירטל המייללת: רוח רפאים השוכנת בשירותים של הבנות.\n- דובי: גמדון בית המזהיר את הארי.\n- טום רידל: דמות מהעבר, בעל היומן הקסום.\n- האגריד: שומר היער, מורה בהוגוורטס.\n- פוקס: עוף החול של דמבלדור.\n\n**מקומות:**\n- הוגוורטס: בית הספר לכישוף ולקוסמות.\n- חדר הסודות: חדר סודי בהוגוורט�\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "תפאר בעצמו.\n- דראקו מאלפוי: יריבו של הארי.\n- מירטל המייללת: רוח רפאים השוכנת בשירותים של הבנות.\n- דובי: גמדון בית המזהיר את הארי.\n- טום רידל: דמות מהעבר, בעל היומן הקסום.\n- האגריד: שומר היער, מורה בהוגוורטס.\n- פוקס: עוף החול של דמבלדור.\n\n**מקומות:**\n- הוגוורטס: בית הספר לכישוף ולקוסמות.\n- חדר הסודות: חדר סודי בהוגוורט�"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: הוגוורטס.\n- **האסטרונומיה** - מגדל בו מתרחש הקרב הסופי.\n\n#### חפצים קסומים:\n- **הורקרוקס** - פריט המכיל חלק מנשמתו של קוסם (וולדמורט).\n- **ספר השיקויים של הנסיך חצוי הדם** - ספר המנחה את הארי בהכנת שיקויים.\n- **הגביע של הפלפאף** - אחד מההורקרוקסים של וולדמורט.\n- **טבעת של ואנדרולו** - הורקרוקס נוסף.\n\n#### אירועים חשובים:\n- **פג\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "הוגוורטס.\n- **האסטרונומיה** - מגדל בו מתרחש הקרב הסופי.\n\n#### חפצים קסומים:\n- **הורקרוקס** - פריט המכיל חלק מנשמתו של קוסם (וולדמורט).\n- **ספר השיקויים של הנסיך חצוי הדם** - ספר המנחה את הארי בהכנת שיקויים.\n- **הגביע של הפלפאף** - אחד מההורקרוקסים של וולדמורט.\n- **טבעת של ואנדרולו** - הורקרוקס נוסף.\n\n#### אירועים חשובים:\n- **פג"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: הפלפאף** - אחד מההורקרוקסים של וולדמורט.\n- **טבעת של ואנדרולו** - הורקרוקס נוסף.\n\n#### אירועים חשובים:\n- **פגישת ראש הממשלה עם שר הקסמים** - מספקת מידע על פעילות וולדמורט.\n- **ההתקפה על דמבלדור** - ס\n\n**סיכום ישויות - \"הארי פוטר ואוצרות המוות\"**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- רון וויזלי\n- הרמיוני גריינג'ר\n- וולדמורט\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "הפלפאף** - אחד מההורקרוקסים של וולדמורט.\n- **טבעת של ואנדרולו** - הורקרוקס נוסף.\n\n#### אירועים חשובים:\n- **פגישת ראש הממשלה עם שר הקסמים** - מספקת מידע על פעילות וולדמורט.\n- **ההתקפה על דמבלדור** - ס\n\n**סיכום ישויות - \"הארי פוטר ואוצרות המוות\"**\n\n**דמויות מרכזיות:**\n- הארי פוטר\n- רון וויזלי\n- הרמיוני גריינג'ר\n- וולדמורט"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: פצים קסומים:**\n- הורקרוקסים של וולדמורט\n- שרביט הסמבוק\n- אבן התחייה\n- גלימת ההיעלמות\n- חרבו של גריפינדור\n- סניץ' הראשון של הארי\n- הספל של הפלפאף\n- עין מכושפת של עין הזעם מודי\n\n**מיקומים:**\n- הוגוורטס\n- בית הדרסלים\n- אחוזת מאלפוי\n- כיכר גרימולד מספר 12\n- גרינגוטס\n- מכתש גודריק\n- יער דין\n- בקתת הצדפים\n\n**איר\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "פצים קסומים:**\n- הורקרוקסים של וולדמורט\n- שרביט הסמבוק\n- אבן התחייה\n- גלימת ההיעלמות\n- חרבו של גריפינדור\n- סניץ' הראשון של הארי\n- הספל של הפלפאף\n- עין מכושפת של עין הזעם מודי\n\n**מיקומים:**\n- הוגוורטס\n- בית הדרסלים\n- אחוזת מאלפוי\n- כיכר גרימולד מספר 12\n- גרינגוטס\n- מכתש גודריק\n- יער דין\n- בקתת הצדפים\n\n**איר"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: .\n- האגריד מסייע להארי ברכישת חפצים קסומים ומגלה לו על פלאפי.\n- סוורוס סנייפ מנסה להפעיל הגנות על אבן החכמים.\n- וולדמורט מנסה לגנוב את אבן החכמים באמצעות קוויריניוס קווירל. \n\nהנתונים הללו יכולים לשמש ליצירת ידע גרפי הממח\n\n**סיכום ישויות מתוך \"הארי פוטר והאסיר מאזקבאן\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - סיריוס בל�\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": ".\n- האגריד מסייע להארי ברכישת חפצים קסומים ומגלה לו על פלאפי.\n- סוורוס סנייפ מנסה להפעיל הגנות על אבן החכמים.\n- וולדמורט מנסה לגנוב את אבן החכמים באמצעות קוויריניוס קווירל. \n\nהנתונים הללו יכולים לשמש ליצירת ידע גרפי הממח\n\n**סיכום ישויות מתוך \"הארי פוטר והאסיר מאזקבאן\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - סיריוס בל�"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: )\n   - אזקבאן (כלא הקוסמים)\n   - קלחת הרותחת (פאב בלונדון)\n   - הוגסמיד (כפר קוסמים)\n\n3. **חפצים קסומים:**\n   - מחולל זמן (חפץ קסום של הרמיוני)\n   - מטאטא \"אש המחץ\" (מטאטא חדש בעולם הקוסמים)\n\n4. **יצורים:**\n   - סוהרסנים (יצורים ששואבים שמחה ומחשבות טובות)\n\n5. **אירועים:**\n   - בריחתו של סיריוס בלק מאזקבאן\n   - הפגישה הראשונה של הארי ע\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": ")\n   - אזקבאן (כלא הקוסמים)\n   - קלחת הרותחת (פאב בלונדון)\n   - הוגסמיד (כפר קוסמים)\n\n3. **חפצים קסומים:**\n   - מחולל זמן (חפץ קסום של הרמיוני)\n   - מטאטא \"אש המחץ\" (מטאטא חדש בעולם הקוסמים)\n\n4. **יצורים:**\n   - סוהרסנים (יצורים ששואבים שמחה ומחשבות טובות)\n\n5. **אירועים:**\n   - בריחתו של סיריוס בלק מאזקבאן\n   - הפגישה הראשונה של הארי ע"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: **ישויות מרכזיות מתוך \"הארי פוטר ואבן החכמים\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - אדון וגברת דרסלי\n   - דאדלי דרסלי\n   - האגריד\n   - רון ויזלי\n   - הרמיוני גריינג'ר\n   - דראקו מאלפוי\n   - סוורוס סנייפ\n   - מינרווה מקגונגל\n   - קוויריניוס קווירל\n   - וולדמורט\n   - נוויל לונגבוטום\n   - ניקולס פלאמל\n\n2. **מקומות:**\n   - דרך פריווט מס\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "**ישויות מרכזיות מתוך \"הארי פוטר ואבן החכמים\":**\n\n1. **דמויות:**\n   - הארי פוטר\n   - אדון וגברת דרסלי\n   - דאדלי דרסלי\n   - האגריד\n   - רון ויזלי\n   - הרמיוני גריינג'ר\n   - דראקו מאלפוי\n   - סוורוס סנייפ\n   - מינרווה מקגונגל\n   - קוויריניוס קווירל\n   - וולדמורט\n   - נוויל לונגבוטום\n   - ניקולס פלאמל\n\n2. **מקומות:**\n   - דרך פריווט מס"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ליות\n   - מגדל האסטרונומיה\n\n3. **חפצים קסומים:**\n   - גלימת היעלמות\n   - אבן החכמים\n   - כדור זיכרון\n   - הראי של ינפתא\n   - פלאפי (הכלב התלת-ראשי)\n   - דרקון (נורברט)\n\n4. **אירועים מרכזיים:**\n   - קבלת המכתב מהוגוורטס\n   - טיסה על מטאטא\n   - משחק קווידיץ' הראשון\n   - הקרב עם הטרול\n   - חיפוש מידע על ניקולס פלאמל\n   - הברחת נורברט\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "ליות\n   - מגדל האסטרונומיה\n\n3. **חפצים קסומים:**\n   - גלימת היעלמות\n   - אבן החכמים\n   - כדור זיכרון\n   - הראי של ינפתא\n   - פלאפי (הכלב התלת-ראשי)\n   - דרקון (נורברט)\n\n4. **אירועים מרכזיים:**\n   - קבלת המכתב מהוגוורטס\n   - טיסה על מטאטא\n   - משחק קווידיץ' הראשון\n   - הקרב עם הטרול\n   - חיפוש מידע על ניקולס פלאמל\n   - הברחת נורברט"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: י (מנבאת)\n   - פרופסור מקגונגל (מנהלת הוגוורטס)\n   - פרופסור לופין (מורה חדש להתגוננות מפני כוחות האופל)\n   - קורנליוס פאדג' (שר הקסמים)\n   - משפחת וויזלי (המשפחה של רון)\n\n2. **מקומות:**\n   - הוגוורטס (בית הספר לקוסמים)\n   - אזקבאן (כלא הקוסמים)\n   - קלחת הרותחת (פאב בלונדון)\n   - הוגסמיד (כפר קוסמים)\n\n3. **חפצים קסומים:**\n   - מח\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "י (מנבאת)\n   - פרופסור מקגונגל (מנהלת הוגוורטס)\n   - פרופסור לופין (מורה חדש להתגוננות מפני כוחות האופל)\n   - קורנליוס פאדג' (שר הקסמים)\n   - משפחת וויזלי (המשפחה של רון)\n\n2. **מקומות:**\n   - הוגוורטס (בית הספר לקוסמים)\n   - אזקבאן (כלא הקוסמים)\n   - קלחת הרותחת (פאב בלונדון)\n   - הוגסמיד (כפר קוסמים)\n\n3. **חפצים קסומים:**\n   - מח"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: סמים המסתיר את חזרתו של וולדמורט. הם מקימים את\n\n## סיכום ישויות מ\"הארי פוטר וגביע האש\"\n\n### דמויות עיקריות:\n- **הארי פוטר** - גיבור הסיפור, תלמיד בהוגוורטס.\n- **וולדמורט (טום רידל)** - נבל הסיפור, רוצח ומנהיג אוכלי המוות.\n- **פיטר פטיגרו (זנב תולע)** - משרת של וולדמורט, מעורב ברצח.\n- **סדריק דיגורי** - מתחרה נוסף בטורניר הקוסמ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: .\n- **בית רידל** - המקום בו התרחש הרצח של משפחת רידל.\n- **דרך פריווט** - ביתו של הארי פוטר.\n- **אצטדיון קווידיץ'** - המקום בו מתרחשת אליפות העולם בקווידיץ'.\n\n### חפצים קסומים:\n- **גביע האש** - החפץ המכשף שמזמן את המתמודדים לטורניר הקוסמים המשולש.\n- **שרביט הארי** - השרביט של הארי, שנלקח באירוע אליפות הקווידיץ'.\n- **ביצה מוזהבת** - ביצה שצריך לגנ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �\n- כיכר גרימולד מספר 12 (מפקדת מסדר עוף החול)\n- מחלקת המסתורין\n- יער האסור\n\n**אובייקטים קסומים:**\n- נבואה (הקשורה להארי ולוולדמורט)\n- לחש פטרונוס\n\n**אירועים מרכזיים:**\n- חזרת וולדמורט\n- התקפת הסוהרסנים\n- השימוע במשרד הקסמים\n- הקמת צבא דמבלדור\n- חטיפתה של אמברידג'\n- הקרב במשרד הקסמים\n- מותו של סיריוס בלק\n-\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: יד בהוגוורטס.\n- **ברטי קראוץ' הבן** - אוכל מוות, מתחזה לאלסטור מודית.\n- **נגיני** - נחשית המחמד של וולדמורט.\n- **פרנק ברייס** - גנן שנרצח על ידי וולדמורט.\n\n### מקומות:\n- **הוגוורטס** - בית הספר לקוסמים בו מתרחשת רוב העלילה.\n- **בית רידל** - המקום בו התרחש הרצח של משפחת רידל.\n- **דרך פריווט** - ביתו של הארי פוטר.\n- **אצטדיון קווידיץ'** - המ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ות.\n- **פיטר פטיגרו (זנב תולע)** - משרת של וולדמורט, מעורב ברצח.\n- **סדריק דיגורי** - מתחרה נוסף בטורניר הקוסמים המשולש וחבר של הארי.\n- **הרמיוני גריינג'ר** - חברה של הארי, תלמידה בהוגוורטס.\n- **רון ויזלי** - חבר של הארי, תלמיד בהוגוורטס.\n- **ברטי קראוץ' הבן** - אוכל מוות, מתחזה לאלסטור מודית.\n- **נגיני** - נחשית המחמד של וולדמורט.\n- **\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: יפות העולם בקווידיץ'** - התפרצות אוכלי המוות באירוע ספורט.\n- **טורניר הקוס\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: לאסטור מודי\n- רמוס לופין\n- נימפדורה טונקס\n- קינגסלי שאקלבולט\n- לוציוס מאלפוי\n- דאדלי דרסלי\n- ג'יני וויזלי\n- פרד וויזלי\n- ג'ורג' וויזלי\n- סיביל טרלוני\n- קריצ'ר\n\n**מקומות:**\n- הוגוורטס\n- משרד הקסמים\n- כיכר גרימולד מספר 12 (מפקדת מסדר עוף החול)\n- מחלקת המסתורין\n- יער האסור\n\n**אובייקטים קסומים:**\n- נב\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "לאסטור מודי\n- רמוס לופין\n- נימפדורה טונקס\n- קינגסלי שאקלבולט\n- לוציוס מאלפוי\n- דאדלי דרסלי\n- ג'יני וויזלי\n- פרד וויזלי\n- ג'ורג' וויזלי\n- סיביל טרלוני\n- קריצ'ר\n\n**מקומות:**\n- הוגוורטס\n- משרד הקסמים\n- כיכר גרימולד מספר 12 (מפקדת מסדר עוף החול)\n- מחלקת המסתורין\n- יער האסור\n\n**אובייקטים קסומים:**\n- נב"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: ' והארי פוטר (עימותים)\n- סיריוס בלק והארי פוטר (סנדק ודוד)\n- לוציוס מאלפוי ואוכלי המוות (קשרים עם האויבים)\n- צבא דמבלדור (קבוצת תלמידים נגד משרד הקסמים) \n\n**סיכום:**\nהעלילה עוסקת במאבק של הארי וחבריו מול משרד הקסמים המסתיר את חזרתו של וולדמורט. הם מקימים את\n\n## סיכום ישויות מ\"הארי פוטר וגביע האש\"\n\n### דמויות עיקריות:\n######################\nOutput:\n"}}
{"type": "error", "data": "Entity Extraction Error", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 122, in __call__\n    result = await self._process_document(text, prompt_variables)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/index/graph/extractors/graph/graph_extractor.py\", line 150, in _process_document\n    response = await self._llm(\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/json_parsing_llm.py\", line 34, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_token_replacing_llm.py\", line 37, in __call__\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_history_tracking_llm.py\", line 33, in __call__\n    output = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/caching_llm.py\", line 96, in __call__\n    result = await self._delegate(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 177, in __call__\n    result, start = await execute_with_retry()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 159, in execute_with_retry\n    async for attempt in retryer:\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 166, in __anext__\n    do = await self.iter(retry_state=self._retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 418, in exc_check\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/tenacity/__init__.py\", line 185, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 165, in execute_with_retry\n    return await do_attempt(), start\n           ^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/rate_limiting_llm.py\", line 147, in do_attempt\n    return await self._delegate(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 49, in __call__\n    return await self._invoke(input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"doc_index": 0, "text": "' והארי פוטר (עימותים)\n- סיריוס בלק והארי פוטר (סנדק ודוד)\n- לוציוס מאלפוי ואוכלי המוות (קשרים עם האויבים)\n- צבא דמבלדור (קבוצת תלמידים נגד משרד הקסמים) \n\n**סיכום:**\nהעלילה עוסקת במאבק של הארי וחבריו מול משרד הקסמים המסתיר את חזרתו של וולדמורט. הם מקימים את\n\n## סיכום ישויות מ\"הארי פוטר וגביע האש\"\n\n### דמויות עיקריות:"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: סמים המסתיר את חזרתו של וולדמורט. הם מקימים את\n\n## סיכום ישויות מ\"הארי פוטר וגביע האש\"\n\n### דמויות עיקריות:\n- **הארי פוטר** - גיבור הסיפור, תלמיד בהוגוורטס.\n- **וולדמורט (טום רידל)** - נבל הסיפור, רוצח ומנהיג אוכלי המוות.\n- **פיטר פטיגרו (זנב תולע)** - משרת של וולדמורט, מעורב ברצח.\n- **סדריק דיגורי** - מתחרה נוסף בטורניר הקוסמ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �\n- כיכר גרימולד מספר 12 (מפקדת מסדר עוף החול)\n- מחלקת המסתורין\n- יער האסור\n\n**אובייקטים קסומים:**\n- נבואה (הקשורה להארי ולוולדמורט)\n- לחש פטרונוס\n\n**אירועים מרכזיים:**\n- חזרת וולדמורט\n- התקפת הסוהרסנים\n- השימוע במשרד הקסמים\n- הקמת צבא דמבלדור\n- חטיפתה של אמברידג'\n- הקרב במשרד הקסמים\n- מותו של סיריוס בלק\n-\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1611, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.InternalServerError: Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}\n", "source": "Error code: 500 - {'error': {'message': 'unexpected server status: llm server loading model', 'type': 'api_error', 'param': None, 'code': None}}", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: יד בהוגוורטס.\n- **ברטי קראוץ' הבן** - אוכל מוות, מתחזה לאלסטור מודית.\n- **נגיני** - נחשית המחמד של וולדמורט.\n- **פרנק ברייס** - גנן שנרצח על ידי וולדמורט.\n\n### מקומות:\n- **הוגוורטס** - בית הספר לקוסמים בו מתרחשת רוב העלילה.\n- **בית רידל** - המקום בו התרחש הרצח של משפחת רידל.\n- **דרך פריווט** - ביתו של הארי פוטר.\n- **אצטדיון קווידיץ'** - המ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: יד בהוגוורטס.\n- **ברטי קראוץ' הבן** - אוכל מוות, מתחזה לאלסטור מודית.\n- **נגיני** - נחשית המחמד של וולדמורט.\n- **פרנק ברייס** - גנן שנרצח על ידי וולדמורט.\n\n### מקומות:\n- **הוגוורטס** - בית הספר לקוסמים בו מתרחשת רוב העלילה.\n- **בית רידל** - המקום בו התרחש הרצח של משפחת רידל.\n- **דרך פריווט** - ביתו של הארי פוטר.\n- **אצטדיון קווידיץ'** - המ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: סמים המסתיר את חזרתו של וולדמורט. הם מקימים את\n\n## סיכום ישויות מ\"הארי פוטר וגביע האש\"\n\n### דמויות עיקריות:\n- **הארי פוטר** - גיבור הסיפור, תלמיד בהוגוורטס.\n- **וולדמורט (טום רידל)** - נבל הסיפור, רוצח ומנהיג אוכלי המוות.\n- **פיטר פטיגרו (זנב תולע)** - משרת של וולדמורט, מעורב ברצח.\n- **סדריק דיגורי** - מתחרה נוסף בטורניר הקוסמ\n######################\nOutput:\n"}}
{"type": "error", "data": "Error Invoking LLM", "stack": "Traceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_async/http11.py\", line 224, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_backends/anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1549, in _request\n    response = await self._client.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/httpx/_transports/default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/base/base_llm.py\", line 53, in _invoke\n    output = await self._execute_llm(input, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/graphrag/llm/openai/openai_chat_llm.py\", line 53, in _execute_llm\n    completion = await self.client.chat.completions.create(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/resources/chat/completions.py\", line 1361, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1816, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1510, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/envs/harry-potter-graphrag-hebrew/lib/python3.11/site-packages/openai/_base_client.py\", line 1568, in _request\n    raise APITimeoutError(request=request) from err\nopenai.APITimeoutError: Request timed out.\n", "source": "Request timed out.", "details": {"input": "\n-Goal-\nGiven a Hebrew text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n   - entity_name: Name of the entity, capitalized\n   - entity_type: One of the following types: [character, place, event]\n   - entity_description: Comprehensive description of the entity's attributes and activities\n   Format each entity as:\n   (\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\n   For each pair of related entities, extract the following information:\n   - source_entity: name of the source entity, as identified in step 1\n   - target_entity: name of the target entity, as identified in step 1\n   - relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n   - relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\n   Format each relationship as:\n   (\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return the output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. When finished, output **<|COMPLETE|>**.\n\n######################\n-Examples-\n######################\nExample 1:\nEntity_types: character, place\nText:\nהארי פוטר לומד בבית הספר הוגוורטס לכישוף ולקוסמות, והוא מתיידד עם רון ויזלי והרמיוני גריינג'ר. סוורוס סנייפ הוא מורה שמראה סימני חשדנות כלפי הארי.\n######################\nOutput:\n(\"entity\"<|>הארי פוטר<|>דמויות<|>הארי פוטר הוא גיבור הסיפור, תלמיד בבית הספר הוגוורטס לכישוף ולקוסמות)\n##\n(\"entity\"<|>הוגוורטס<|>מוסדות<|>הוגוורטס הוא בית ספר לקוסמים שבו לומדים הארי וחבריו)\n##\n(\"entity\"<|>סוורוס סנייפ<|>דמויות<|>סוורוס סנייפ הוא מורה בהוגוורטס עם יחס חשדני כלפי הארי פוטר)\n##\n(\"relationship\"<|>הארי פוטר<|>הוגוורטס<|>הארי פוטר לומד בהוגוורטס<|>9)\n##\n(\"relationship\"<|>סוורוס סנייפ<|>הארי פוטר<|>סנייפ מראה חשדנות כלפי הארי פוטר בבית הספר<|>7)\n<|COMPLETE|>\n\n######################\n-Real Data-\n######################\nEntity_types: character, place, event\nText: �\n- כיכר גרימולד מספר 12 (מפקדת מסדר עוף החול)\n- מחלקת המסתורין\n- יער האסור\n\n**אובייקטים קסומים:**\n- נבואה (הקשורה להארי ולוולדמורט)\n- לחש פטרונוס\n\n**אירועים מרכזיים:**\n- חזרת וולדמורט\n- התקפת הסוהרסנים\n- השימוע במשרד הקסמים\n- הקמת צבא דמבלדור\n- חטיפתה של אמברידג'\n- הקרב במשרד הקסמים\n- מותו של סיריוס בלק\n-\n######################\nOutput:\n"}}
